/*! For license information please see main.1d961b06.js.LICENSE.txt */
!function(){var e={8093:function(e,t,r){"use strict";function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var a,i,o=r(3372).codes,s=o.ERR_AMBIGUOUS_ARGUMENT,c=o.ERR_INVALID_ARG_TYPE,u=o.ERR_INVALID_ARG_VALUE,l=o.ERR_INVALID_RETURN_VALUE,d=o.ERR_MISSING_ARGS,p=r(4945),f=r(9639).inspect,h=r(9639).types,m=h.isPromise,v=h.isRegExp,g=Object.assign?Object.assign:r(887).assign,y=Object.is?Object.is:r(3454);new Map;function b(){var e=r(6912);a=e.isDeepEqual,i=e.isDeepStrictEqual}var k=!1,w=e.exports=C,_={};function S(e){if(e.message instanceof Error)throw e.message;throw new p(e)}function x(e,t,r,n){if(!r){var a=!1;if(0===t)a=!0,n="No value argument passed to `assert.ok()`";else if(n instanceof Error)throw n;var i=new p({actual:r,expected:!0,message:n,operator:"==",stackStartFn:e});throw i.generatedMessage=a,i}}function C(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];x.apply(void 0,[C,t.length].concat(t))}w.fail=function e(t,r,n,a,i){var o,s=arguments.length;if(0===s)o="Failed";else if(1===s)n=t,t=void 0;else{if(!1===k)k=!0,(process.emitWarning?process.emitWarning:console.warn.bind(console))("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094");2===s&&(a="!=")}if(n instanceof Error)throw n;var c={actual:t,expected:r,operator:void 0===a?"fail":a,stackStartFn:i||e};void 0!==n&&(c.message=n);var u=new p(c);throw o&&(u.message=o,u.generatedMessage=!0),u},w.AssertionError=p,w.ok=C,w.equal=function e(t,r,n){if(arguments.length<2)throw new d("actual","expected");t!=r&&S({actual:t,expected:r,message:n,operator:"==",stackStartFn:e})},w.notEqual=function e(t,r,n){if(arguments.length<2)throw new d("actual","expected");t==r&&S({actual:t,expected:r,message:n,operator:"!=",stackStartFn:e})},w.deepEqual=function e(t,r,n){if(arguments.length<2)throw new d("actual","expected");void 0===a&&b(),a(t,r)||S({actual:t,expected:r,message:n,operator:"deepEqual",stackStartFn:e})},w.notDeepEqual=function e(t,r,n){if(arguments.length<2)throw new d("actual","expected");void 0===a&&b(),a(t,r)&&S({actual:t,expected:r,message:n,operator:"notDeepEqual",stackStartFn:e})},w.deepStrictEqual=function e(t,r,n){if(arguments.length<2)throw new d("actual","expected");void 0===a&&b(),i(t,r)||S({actual:t,expected:r,message:n,operator:"deepStrictEqual",stackStartFn:e})},w.notDeepStrictEqual=function e(t,r,n){if(arguments.length<2)throw new d("actual","expected");void 0===a&&b();i(t,r)&&S({actual:t,expected:r,message:n,operator:"notDeepStrictEqual",stackStartFn:e})},w.strictEqual=function e(t,r,n){if(arguments.length<2)throw new d("actual","expected");y(t,r)||S({actual:t,expected:r,message:n,operator:"strictEqual",stackStartFn:e})},w.notStrictEqual=function e(t,r,n){if(arguments.length<2)throw new d("actual","expected");y(t,r)&&S({actual:t,expected:r,message:n,operator:"notStrictEqual",stackStartFn:e})};var P=function e(t,r,n){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r.forEach((function(e){e in t&&(void 0!==n&&"string"===typeof n[e]&&v(t[e])&&t[e].test(n[e])?a[e]=n[e]:a[e]=t[e])}))};function R(e,t,r,o){if("function"!==typeof t){if(v(t))return t.test(e);if(2===arguments.length)throw new c("expected",["Function","RegExp"],t);if("object"!==n(e)||null===e){var s=new p({actual:e,expected:t,message:r,operator:"deepStrictEqual",stackStartFn:o});throw s.operator=o.name,s}var l=Object.keys(t);if(t instanceof Error)l.push("name","message");else if(0===l.length)throw new u("error",t,"may not be an empty object");return void 0===a&&b(),l.forEach((function(n){"string"===typeof e[n]&&v(t[n])&&t[n].test(e[n])||function(e,t,r,n,a,o){if(!(r in e)||!i(e[r],t[r])){if(!n){var s=new P(e,a),c=new P(t,a,e),u=new p({actual:s,expected:c,operator:"deepStrictEqual",stackStartFn:o});throw u.actual=e,u.expected=t,u.operator=o.name,u}S({actual:e,expected:t,message:n,operator:o.name,stackStartFn:o})}}(e,t,n,r,l,o)})),!0}return void 0!==t.prototype&&e instanceof t||!Error.isPrototypeOf(t)&&!0===t.call({},e)}function T(e){if("function"!==typeof e)throw new c("fn","Function",e);try{e()}catch(t){return t}return _}function E(e){return m(e)||null!==e&&"object"===n(e)&&"function"===typeof e.then&&"function"===typeof e.catch}function O(e){return Promise.resolve().then((function(){var t;if("function"===typeof e){if(!E(t=e()))throw new l("instance of Promise","promiseFn",t)}else{if(!E(e))throw new c("promiseFn",["Function","Promise"],e);t=e}return Promise.resolve().then((function(){return t})).then((function(){return _})).catch((function(e){return e}))}))}function D(e,t,r,a){if("string"===typeof r){if(4===arguments.length)throw new c("error",["Object","Error","Function","RegExp"],r);if("object"===n(t)&&null!==t){if(t.message===r)throw new s("error/message",'The error message "'.concat(t.message,'" is identical to the message.'))}else if(t===r)throw new s("error/message",'The error "'.concat(t,'" is identical to the message.'));a=r,r=void 0}else if(null!=r&&"object"!==n(r)&&"function"!==typeof r)throw new c("error",["Object","Error","Function","RegExp"],r);if(t===_){var i="";r&&r.name&&(i+=" (".concat(r.name,")")),i+=a?": ".concat(a):".";var o="rejects"===e.name?"rejection":"exception";S({actual:void 0,expected:r,operator:e.name,message:"Missing expected ".concat(o).concat(i),stackStartFn:e})}if(r&&!R(t,r,a,e))throw t}function M(e,t,r,n){if(t!==_){if("string"===typeof r&&(n=r,r=void 0),!r||R(t,r)){var a=n?": ".concat(n):".",i="doesNotReject"===e.name?"rejection":"exception";S({actual:t,expected:r,operator:e.name,message:"Got unwanted ".concat(i).concat(a,"\n")+'Actual message: "'.concat(t&&t.message,'"'),stackStartFn:e})}throw t}}function j(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];x.apply(void 0,[j,t.length].concat(t))}w.throws=function e(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];D.apply(void 0,[e,T(t)].concat(n))},w.rejects=function e(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return O(t).then((function(t){return D.apply(void 0,[e,t].concat(n))}))},w.doesNotThrow=function e(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];M.apply(void 0,[e,T(t)].concat(n))},w.doesNotReject=function e(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return O(t).then((function(t){return M.apply(void 0,[e,t].concat(n))}))},w.ifError=function e(t){if(null!==t&&void 0!==t){var r="ifError got unwanted exception: ";"object"===n(t)&&"string"===typeof t.message?0===t.message.length&&t.constructor?r+=t.constructor.name:r+=t.message:r+=f(t);var a=new p({actual:t,expected:null,operator:"ifError",message:r,stackStartFn:e}),i=t.stack;if("string"===typeof i){var o=i.split("\n");o.shift();for(var s=a.stack.split("\n"),c=0;c<o.length;c++){var u=s.indexOf(o[c]);if(-1!==u){s=s.slice(0,u);break}}a.stack="".concat(s.join("\n"),"\n").concat(o.join("\n"))}throw a}},w.strict=g(j,w,{equal:w.strictEqual,deepEqual:w.deepStrictEqual,notEqual:w.notStrictEqual,notDeepEqual:w.notDeepStrictEqual}),w.strict.strict=w.strict},4945:function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return!t||"object"!==d(t)&&"function"!==typeof t?o(e):t}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e){var t="function"===typeof Map?new Map:void 0;return s=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return c(e,arguments,l(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),u(n,e)},s(e)}function c(e,t,r){return c=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var a=new(Function.bind.apply(e,n));return r&&u(a,r.prototype),a},c.apply(null,arguments)}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}function d(e){return d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}var p=r(9639).inspect,f=r(3372).codes.ERR_INVALID_ARG_TYPE;function h(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}var m="",v="",g="",y="",b={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function k(e){var t=Object.keys(e),r=Object.create(Object.getPrototypeOf(e));return t.forEach((function(t){r[t]=e[t]})),Object.defineProperty(r,"message",{value:e.message}),r}function w(e){return p(e,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function _(e,t,r){var n="",a="",i=0,o="",s=!1,c=w(e),u=c.split("\n"),l=w(t).split("\n"),p=0,f="";if("strictEqual"===r&&"object"===d(e)&&"object"===d(t)&&null!==e&&null!==t&&(r="strictEqualObject"),1===u.length&&1===l.length&&u[0]!==l[0]){var k=u[0].length+l[0].length;if(k<=10){if(("object"!==d(e)||null===e)&&("object"!==d(t)||null===t)&&(0!==e||0!==t))return"".concat(b[r],"\n\n")+"".concat(u[0]," !== ").concat(l[0],"\n")}else if("strictEqualObject"!==r){if(k<(process.stderr&&process.stderr.isTTY?process.stderr.columns:80)){for(;u[0][p]===l[0][p];)p++;p>2&&(f="\n  ".concat(function(e,t){if(t=Math.floor(t),0==e.length||0==t)return"";var r=e.length*t;for(t=Math.floor(Math.log(t)/Math.log(2));t;)e+=e,t--;return e+e.substring(0,r-e.length)}(" ",p),"^"),p=0)}}}for(var _=u[u.length-1],S=l[l.length-1];_===S&&(p++<2?o="\n  ".concat(_).concat(o):n=_,u.pop(),l.pop(),0!==u.length&&0!==l.length);)_=u[u.length-1],S=l[l.length-1];var x=Math.max(u.length,l.length);if(0===x){var C=c.split("\n");if(C.length>30)for(C[26]="".concat(m,"...").concat(y);C.length>27;)C.pop();return"".concat(b.notIdentical,"\n\n").concat(C.join("\n"),"\n")}p>3&&(o="\n".concat(m,"...").concat(y).concat(o),s=!0),""!==n&&(o="\n  ".concat(n).concat(o),n="");var P=0,R=b[r]+"\n".concat(v,"+ actual").concat(y," ").concat(g,"- expected").concat(y),T=" ".concat(m,"...").concat(y," Lines skipped");for(p=0;p<x;p++){var E=p-i;if(u.length<p+1)E>1&&p>2&&(E>4?(a+="\n".concat(m,"...").concat(y),s=!0):E>3&&(a+="\n  ".concat(l[p-2]),P++),a+="\n  ".concat(l[p-1]),P++),i=p,n+="\n".concat(g,"-").concat(y," ").concat(l[p]),P++;else if(l.length<p+1)E>1&&p>2&&(E>4?(a+="\n".concat(m,"...").concat(y),s=!0):E>3&&(a+="\n  ".concat(u[p-2]),P++),a+="\n  ".concat(u[p-1]),P++),i=p,a+="\n".concat(v,"+").concat(y," ").concat(u[p]),P++;else{var O=l[p],D=u[p],M=D!==O&&(!h(D,",")||D.slice(0,-1)!==O);M&&h(O,",")&&O.slice(0,-1)===D&&(M=!1,D+=","),M?(E>1&&p>2&&(E>4?(a+="\n".concat(m,"...").concat(y),s=!0):E>3&&(a+="\n  ".concat(u[p-2]),P++),a+="\n  ".concat(u[p-1]),P++),i=p,a+="\n".concat(v,"+").concat(y," ").concat(D),n+="\n".concat(g,"-").concat(y," ").concat(O),P+=2):(a+=n,n="",1!==E&&0!==p||(a+="\n  ".concat(D),P++))}if(P>20&&p<x-2)return"".concat(R).concat(T,"\n").concat(a,"\n").concat(m,"...").concat(y).concat(n,"\n")+"".concat(m,"...").concat(y)}return"".concat(R).concat(s?T:"","\n").concat(a).concat(n).concat(o).concat(f)}var S=function(e){function t(e){var r;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),"object"!==d(e)||null===e)throw new f("options","Object",e);var n=e.message,a=e.operator,s=e.stackStartFn,c=e.actual,u=e.expected,p=Error.stackTraceLimit;if(Error.stackTraceLimit=0,null!=n)r=i(this,l(t).call(this,String(n)));else if(process.stderr&&process.stderr.isTTY&&(process.stderr&&process.stderr.getColorDepth&&1!==process.stderr.getColorDepth()?(m="\x1b[34m",v="\x1b[32m",y="\x1b[39m",g="\x1b[31m"):(m="",v="",y="",g="")),"object"===d(c)&&null!==c&&"object"===d(u)&&null!==u&&"stack"in c&&c instanceof Error&&"stack"in u&&u instanceof Error&&(c=k(c),u=k(u)),"deepStrictEqual"===a||"strictEqual"===a)r=i(this,l(t).call(this,_(c,u,a)));else if("notDeepStrictEqual"===a||"notStrictEqual"===a){var h=b[a],S=w(c).split("\n");if("notStrictEqual"===a&&"object"===d(c)&&null!==c&&(h=b.notStrictEqualObject),S.length>30)for(S[26]="".concat(m,"...").concat(y);S.length>27;)S.pop();r=1===S.length?i(this,l(t).call(this,"".concat(h," ").concat(S[0]))):i(this,l(t).call(this,"".concat(h,"\n\n").concat(S.join("\n"),"\n")))}else{var x=w(c),C="",P=b[a];"notDeepEqual"===a||"notEqual"===a?(x="".concat(b[a],"\n\n").concat(x)).length>1024&&(x="".concat(x.slice(0,1021),"...")):(C="".concat(w(u)),x.length>512&&(x="".concat(x.slice(0,509),"...")),C.length>512&&(C="".concat(C.slice(0,509),"...")),"deepEqual"===a||"equal"===a?x="".concat(P,"\n\n").concat(x,"\n\nshould equal\n\n"):C=" ".concat(a," ").concat(C)),r=i(this,l(t).call(this,"".concat(x).concat(C)))}return Error.stackTraceLimit=p,r.generatedMessage=!n,Object.defineProperty(o(r),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),r.code="ERR_ASSERTION",r.actual=c,r.expected=u,r.operator=a,Error.captureStackTrace&&Error.captureStackTrace(o(r),s),r.stack,r.name="AssertionError",i(r)}var r,s,c;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,e),r=t,s=[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:p.custom,value:function(e,t){return p(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},a=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),a.forEach((function(t){n(e,t,r[t])}))}return e}({},t,{customInspect:!1,depth:0}))}}],s&&a(r.prototype,s),c&&a(r,c),t}(s(Error));e.exports=S},3372:function(e,t,r){"use strict";function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}var s,c,u={};function l(e,t,r){r||(r=Error);var n=function(r){function n(r,o,s){var c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),c=a(this,i(n).call(this,function(e,r,n){return"string"===typeof t?t:t(e,r,n)}(r,o,s))),c.code=e,c}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(n,r),n}(r);u[e]=n}function d(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}l("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),l("ERR_INVALID_ARG_TYPE",(function(e,t,a){var i,o,c,u;if(void 0===s&&(s=r(8093)),s("string"===typeof e,"'name' must be a string"),"string"===typeof t&&(o="not ",t.substr(!c||c<0?0:+c,o.length)===o)?(i="must not be",t=t.replace(/^not /,"")):i="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))u="The ".concat(e," ").concat(i," ").concat(d(t,"type"));else{var l=function(e,t,r){return"number"!==typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}(e,".")?"property":"argument";u='The "'.concat(e,'" ').concat(l," ").concat(i," ").concat(d(t,"type"))}return u+=". Received type ".concat(n(a))}),TypeError),l("ERR_INVALID_ARG_VALUE",(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is invalid";void 0===c&&(c=r(9639));var a=c.inspect(t);return a.length>128&&(a="".concat(a.slice(0,128),"...")),"The argument '".concat(e,"' ").concat(n,". Received ").concat(a)}),TypeError,RangeError),l("ERR_INVALID_RETURN_VALUE",(function(e,t,r){var a;return a=r&&r.constructor&&r.constructor.name?"instance of ".concat(r.constructor.name):"type ".concat(n(r)),"Expected ".concat(e,' to be returned from the "').concat(t,'"')+" function but got ".concat(a,".")}),TypeError),l("ERR_MISSING_ARGS",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];void 0===s&&(s=r(8093)),s(t.length>0,"At least one arg needs to be specified");var a="The ",i=t.length;switch(t=t.map((function(e){return'"'.concat(e,'"')})),i){case 1:a+="".concat(t[0]," argument");break;case 2:a+="".concat(t[0]," and ").concat(t[1]," arguments");break;default:a+=t.slice(0,i-1).join(", "),a+=", and ".concat(t[i-1]," arguments")}return"".concat(a," must be specified")}),TypeError),e.exports.codes=u},6912:function(e,t,r){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(c){a=!0,i=c}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(e){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}var i=void 0!==/a/g.flags,o=function(e){var t=[];return e.forEach((function(e){return t.push(e)})),t},s=function(e){var t=[];return e.forEach((function(e,r){return t.push([r,e])})),t},c=Object.is?Object.is:r(3454),u=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},l=Number.isNaN?Number.isNaN:r(6188);function d(e){return e.call.bind(e)}var p=d(Object.prototype.hasOwnProperty),f=d(Object.prototype.propertyIsEnumerable),h=d(Object.prototype.toString),m=r(9639).types,v=m.isAnyArrayBuffer,g=m.isArrayBufferView,y=m.isDate,b=m.isMap,k=m.isRegExp,w=m.isSet,_=m.isNativeError,S=m.isBoxedPrimitive,x=m.isNumberObject,C=m.isStringObject,P=m.isBooleanObject,R=m.isBigIntObject,T=m.isSymbolObject,E=m.isFloat32Array,O=m.isFloat64Array;function D(e){if(0===e.length||e.length>10)return!0;for(var t=0;t<e.length;t++){var r=e.charCodeAt(t);if(r<48||r>57)return!0}return 10===e.length&&e>=Math.pow(2,32)}function M(e){return Object.keys(e).filter(D).concat(u(e).filter(Object.prototype.propertyIsEnumerable.bind(e)))}function j(e,t){if(e===t)return 0;for(var r=e.length,n=t.length,a=0,i=Math.min(r,n);a<i;++a)if(e[a]!==t[a]){r=e[a],n=t[a];break}return r<n?-1:n<r?1:0}var I=0,A=1,L=2,N=3;function F(e,t,r,n){if(e===t)return 0!==e||(!r||c(e,t));if(r){if("object"!==a(e))return"number"===typeof e&&l(e)&&l(t);if("object"!==a(t)||null===e||null===t)return!1;if(Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1}else{if(null===e||"object"!==a(e))return(null===t||"object"!==a(t))&&e==t;if(null===t||"object"!==a(t))return!1}var o,s,u,d,p=h(e);if(p!==h(t))return!1;if(Array.isArray(e)){if(e.length!==t.length)return!1;var f=M(e),m=M(t);return f.length===m.length&&z(e,t,r,n,A,f)}if("[object Object]"===p&&(!b(e)&&b(t)||!w(e)&&w(t)))return!1;if(y(e)){if(!y(t)||Date.prototype.getTime.call(e)!==Date.prototype.getTime.call(t))return!1}else if(k(e)){if(!k(t)||(u=e,d=t,!(i?u.source===d.source&&u.flags===d.flags:RegExp.prototype.toString.call(u)===RegExp.prototype.toString.call(d))))return!1}else if(_(e)||e instanceof Error){if(e.message!==t.message||e.name!==t.name)return!1}else{if(g(e)){if(r||!E(e)&&!O(e)){if(!function(e,t){return e.byteLength===t.byteLength&&0===j(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}(e,t))return!1}else if(!function(e,t){if(e.byteLength!==t.byteLength)return!1;for(var r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}(e,t))return!1;var D=M(e),F=M(t);return D.length===F.length&&z(e,t,r,n,I,D)}if(w(e))return!(!w(t)||e.size!==t.size)&&z(e,t,r,n,L);if(b(e))return!(!b(t)||e.size!==t.size)&&z(e,t,r,n,N);if(v(e)){if(s=t,(o=e).byteLength!==s.byteLength||0!==j(new Uint8Array(o),new Uint8Array(s)))return!1}else if(S(e)&&!function(e,t){return x(e)?x(t)&&c(Number.prototype.valueOf.call(e),Number.prototype.valueOf.call(t)):C(e)?C(t)&&String.prototype.valueOf.call(e)===String.prototype.valueOf.call(t):P(e)?P(t)&&Boolean.prototype.valueOf.call(e)===Boolean.prototype.valueOf.call(t):R(e)?R(t)&&BigInt.prototype.valueOf.call(e)===BigInt.prototype.valueOf.call(t):T(t)&&Symbol.prototype.valueOf.call(e)===Symbol.prototype.valueOf.call(t)}(e,t))return!1}return z(e,t,r,n,I)}function B(e,t){return t.filter((function(t){return f(e,t)}))}function z(e,t,r,i,c,l){if(5===arguments.length){l=Object.keys(e);var d=Object.keys(t);if(l.length!==d.length)return!1}for(var h=0;h<l.length;h++)if(!p(t,l[h]))return!1;if(r&&5===arguments.length){var m=u(e);if(0!==m.length){var v=0;for(h=0;h<m.length;h++){var g=m[h];if(f(e,g)){if(!f(t,g))return!1;l.push(g),v++}else if(f(t,g))return!1}var y=u(t);if(m.length!==y.length&&B(t,y).length!==v)return!1}else{var b=u(t);if(0!==b.length&&0!==B(t,b).length)return!1}}if(0===l.length&&(c===I||c===A&&0===e.length||0===e.size))return!0;if(void 0===i)i={val1:new Map,val2:new Map,position:0};else{var k=i.val1.get(e);if(void 0!==k){var w=i.val2.get(t);if(void 0!==w)return k===w}i.position++}i.val1.set(e,i.position),i.val2.set(t,i.position);var _=function(e,t,r,i,c,u){var l=0;if(u===L){if(!function(e,t,r,n){for(var i=null,s=o(e),c=0;c<s.length;c++){var u=s[c];if("object"===a(u)&&null!==u)null===i&&(i=new Set),i.add(u);else if(!t.has(u)){if(r)return!1;if(!W(e,t,u))return!1;null===i&&(i=new Set),i.add(u)}}if(null!==i){for(var l=o(t),d=0;d<l.length;d++){var p=l[d];if("object"===a(p)&&null!==p){if(!U(i,p,r,n))return!1}else if(!r&&!e.has(p)&&!U(i,p,r,n))return!1}return 0===i.size}return!0}(e,t,r,c))return!1}else if(u===N){if(!function(e,t,r,i){for(var o=null,c=s(e),u=0;u<c.length;u++){var l=n(c[u],2),d=l[0],p=l[1];if("object"===a(d)&&null!==d)null===o&&(o=new Set),o.add(d);else{var f=t.get(d);if(void 0===f&&!t.has(d)||!F(p,f,r,i)){if(r)return!1;if(!q(e,t,d,p,i))return!1;null===o&&(o=new Set),o.add(d)}}}if(null!==o){for(var h=s(t),m=0;m<h.length;m++){var v=n(h[m],2),g=(d=v[0],v[1]);if("object"===a(d)&&null!==d){if(!H(o,e,d,g,r,i))return!1}else if(!r&&(!e.has(d)||!F(e.get(d),g,!1,i))&&!H(o,e,d,g,!1,i))return!1}return 0===o.size}return!0}(e,t,r,c))return!1}else if(u===A)for(;l<e.length;l++){if(!p(e,l)){if(p(t,l))return!1;for(var d=Object.keys(e);l<d.length;l++){var f=d[l];if(!p(t,f)||!F(e[f],t[f],r,c))return!1}return d.length===Object.keys(t).length}if(!p(t,l)||!F(e[l],t[l],r,c))return!1}for(l=0;l<i.length;l++){var h=i[l];if(!F(e[h],t[h],r,c))return!1}return!0}(e,t,r,l,i,c);return i.val1.delete(e),i.val2.delete(t),_}function U(e,t,r,n){for(var a=o(e),i=0;i<a.length;i++){var s=a[i];if(F(t,s,r,n))return e.delete(s),!0}return!1}function V(e){switch(a(e)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":e=+e;case"number":if(l(e))return!1}return!0}function W(e,t,r){var n=V(r);return null!=n?n:t.has(n)&&!e.has(n)}function q(e,t,r,n,a){var i=V(r);if(null!=i)return i;var o=t.get(i);return!(void 0===o&&!t.has(i)||!F(n,o,!1,a))&&(!e.has(i)&&F(n,o,!1,a))}function H(e,t,r,n,a,i){for(var s=o(e),c=0;c<s.length;c++){var u=s[c];if(F(r,u,a,i)&&F(n,t.get(u),a,i))return e.delete(u),!0}return!1}e.exports={isDeepEqual:function(e,t){return F(e,t,false)},isDeepStrictEqual:function(e,t){return F(e,t,true)}}},1836:function(e,t,r){"use strict";var n=r(6690).default,a=r(9728).default,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=void 0;var o=i(r(8392)),s="awaitqueue",c=function(){function e(t){n(this,e),t?(this._debug=(0,o.default)("".concat(s,":").concat(t)),this._warn=(0,o.default)("".concat(s,":WARN:").concat(t)),this._error=(0,o.default)("".concat(s,":ERROR:").concat(t))):(this._debug=(0,o.default)(s),this._warn=(0,o.default)("".concat(s,":WARN")),this._error=(0,o.default)("".concat(s,":ERROR"))),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}return a(e,[{key:"debug",get:function(){return this._debug}},{key:"warn",get:function(){return this._warn}},{key:"error",get:function(){return this._error}}]),e}();t.Logger=c},9647:function(e,t,r){"use strict";var n=r(4704).default,a=r(7061).default,i=r(7424).default,o=r(7156).default,s=r(9728).default,c=r(6690).default,u=r(6115).default,l=r(1655).default,d=r(6389).default,p=r(3496).default;Object.defineProperty(t,"__esModule",{value:!0}),t.AwaitQueue=t.AwaitQueueRemovedTaskError=t.AwaitQueueStoppedError=void 0;var f=new(r(1836).Logger),h=function(e){l(r,e);var t=d(r);function r(e){var n;return c(this,r),(n=t.call(this,null!==e&&void 0!==e?e:"AwaitQueue stopped")).name="AwaitQueueStoppedError","function"===typeof Error.captureStackTrace&&Error.captureStackTrace(u(n),r),n}return s(r)}(p(Error));t.AwaitQueueStoppedError=h;var m=function(e){l(r,e);var t=d(r);function r(e){var n;return c(this,r),(n=t.call(this,null!==e&&void 0!==e?e:"AwaitQueue task removed")).name="AwaitQueueRemovedTaskError","function"===typeof Error.captureStackTrace&&Error.captureStackTrace(u(n),r),n}return s(r)}(p(Error));t.AwaitQueueRemovedTaskError=m;var v=function(){function e(){c(this,e),this.pendingTasks=new Map,this.nextTaskId=0,this.stopping=!1}return s(e,[{key:"size",get:function(){return this.pendingTasks.size}},{key:"push",value:function(){var e=o(a().mark((function e(t,r){var n=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=null!==r&&void 0!==r?r:t.name,f.debug("push() [name:".concat(r,"]")),"function"===typeof t){e.next=4;break}throw new TypeError("given task is not a function");case 4:if(r)try{Object.defineProperty(t,"name",{value:r})}catch(a){}return e.abrupt("return",new Promise((function(e,a){var o={id:n.nextTaskId++,task:t,name:r,enqueuedAt:Date.now(),executedAt:void 0,completed:!1,resolve:function(t){if(!o.completed){o.completed=!0,n.pendingTasks.delete(o.id),f.debug("resolving task [name:".concat(o.name,"]")),e(t);var r=n.pendingTasks.values(),a=i(r,1)[0];a&&!a.executedAt&&n.execute(a)}},reject:function(e){if(!o.completed&&(o.completed=!0,n.pendingTasks.delete(o.id),f.debug("rejecting task [name:".concat(o.name,"]: %s"),String(e)),a(e),!n.stopping)){var t=n.pendingTasks.values(),r=i(t,1)[0];r&&!r.executedAt&&n.execute(r)}}};n.pendingTasks.set(o.id,o),1===n.pendingTasks.size&&n.execute(o)})));case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"stop",value:function(){f.debug("stop()"),this.stopping=!0;var e,t=n(this.pendingTasks.values());try{for(t.s();!(e=t.n()).done;){var r=e.value;f.debug("stop() | stopping task [name:".concat(r.name,"]")),r.reject(new h)}}catch(a){t.e(a)}finally{t.f()}this.stopping=!1}},{key:"remove",value:function(e){f.debug("remove() [taskIdx:".concat(e,"]"));var t=Array.from(this.pendingTasks.values())[e];t?t.reject(new m):f.debug("stop() | no task with given idx [taskIdx:".concat(e,"]"))}},{key:"dump",value:function(){var e=Date.now(),t=0;return Array.from(this.pendingTasks.values()).map((function(r){return{idx:t++,task:r.task,name:r.name,enqueuedTime:r.executedAt?r.executedAt-r.enqueuedAt:e-r.enqueuedAt,executionTime:r.executedAt?e-r.executedAt:0}}))}},{key:"execute",value:function(){var e=o(a().mark((function e(t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f.debug("execute() [name:".concat(t.name,"]")),!t.executedAt){e.next=3;break}throw new Error("task already being executed");case 3:return t.executedAt=Date.now(),e.prev=4,e.next=7,t.task();case 7:r=e.sent,t.resolve(r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),t.reject(e.t0);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();t.AwaitQueue=v},5524:function(e){e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=90)}({17:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=r(18),a=function(){function e(){}return e.getFirstMatch=function(e,t){var r=t.match(e);return r&&r.length>0&&r[1]||""},e.getSecondMatch=function(e,t){var r=t.match(e);return r&&r.length>1&&r[2]||""},e.matchAndReturnConst=function(e,t,r){if(e.test(t))return r},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,r,n){void 0===n&&(n=!1);var a=e.getVersionPrecision(t),i=e.getVersionPrecision(r),o=Math.max(a,i),s=0,c=e.map([t,r],(function(t){var r=o-e.getVersionPrecision(t),n=t+new Array(r+1).join(".0");return e.map(n.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(n&&(s=o-Math.min(a,i)),o-=1;o>=s;){if(c[0][o]>c[1][o])return 1;if(c[0][o]===c[1][o]){if(o===s)return 0;o-=1}else if(c[0][o]<c[1][o])return-1}},e.map=function(e,t){var r,n=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(r=0;r<e.length;r+=1)n.push(t(e[r]));return n},e.find=function(e,t){var r,n;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(r=0,n=e.length;r<n;r+=1){var a=e[r];if(t(a,r))return a}},e.assign=function(e){for(var t,r,n=e,a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];if(Object.assign)return Object.assign.apply(Object,[e].concat(i));var s=function(){var e=i[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){n[t]=e[t]}))};for(t=0,r=i.length;t<r;t+=1)s();return e},e.getBrowserAlias=function(e){return n.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return n.BROWSER_MAP[e]||""},e}();t.default=a,e.exports=t.default},18:function(e,t,r){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=(n=r(91))&&n.__esModule?n:{default:n},i=r(18);function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=function(){function e(){}var t,r,n;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new a.default(e,t)},e.parse=function(e){return new a.default(e).getResult()},t=e,n=[{key:"BROWSER_MAP",get:function(){return i.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return i.ENGINE_MAP}},{key:"OS_MAP",get:function(){return i.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return i.PLATFORMS_MAP}}],(r=null)&&o(t.prototype,r),n&&o(t,n),e}();t.default=s,e.exports=t.default},91:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=c(r(92)),a=c(r(93)),i=c(r(94)),o=c(r(95)),s=c(r(17));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=s.default.find(n.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=s.default.find(a.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=s.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=s.default.find(o.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return s.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,r={},n=0,a={},i=0;if(Object.keys(e).forEach((function(t){var o=e[t];"string"==typeof o?(a[t]=o,i+=1):"object"==typeof o&&(r[t]=o,n+=1)})),n>0){var o=Object.keys(r),c=s.default.find(o,(function(e){return t.isOS(e)}));if(c){var u=this.satisfies(r[c]);if(void 0!==u)return u}var l=s.default.find(o,(function(e){return t.isPlatform(e)}));if(l){var d=this.satisfies(r[l]);if(void 0!==d)return d}}if(i>0){var p=Object.keys(a),f=s.default.find(p,(function(e){return t.isBrowser(e,!0)}));if(void 0!==f)return this.compareVersion(a[f])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var r=this.getBrowserName().toLowerCase(),n=e.toLowerCase(),a=s.default.getBrowserTypeByAlias(n);return t&&a&&(n=a.toLowerCase()),n===r},t.compareVersion=function(e){var t=[0],r=e,n=!1,a=this.getBrowserVersion();if("string"==typeof a)return">"===e[0]||"<"===e[0]?(r=e.substr(1),"="===e[1]?(n=!0,r=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?r=e.substr(1):"~"===e[0]&&(n=!0,r=e.substr(1)),t.indexOf(s.default.compareVersions(a,r,n))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=u,e.exports=t.default},92:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=(n=r(17))&&n.__esModule?n:{default:n},i=/version\/(\d+(\.?_?\d+)+)/i,o=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},r=a.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||a.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},r=a.default.getFirstMatch(i,e)||a.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},r=a.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||a.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},r=a.default.getFirstMatch(i,e)||a.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},r=a.default.getFirstMatch(i,e)||a.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},r=a.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||a.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},r=a.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||a.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},r=a.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||a.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},r=a.default.getFirstMatch(i,e)||a.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},r=a.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},r=a.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},r=a.default.getFirstMatch(i,e)||a.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},r=a.default.getFirstMatch(i,e)||a.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},r=a.default.getFirstMatch(i,e)||a.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},r=a.default.getFirstMatch(i,e)||a.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},r=a.default.getFirstMatch(i,e)||a.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},r=a.default.getFirstMatch(i,e)||a.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},r=a.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},r=a.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},r=a.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},r=a.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},r=a.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},r=a.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},r=a.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},r=a.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},r=a.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},r=a.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},r=a.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},r=a.default.getFirstMatch(i,e)||a.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},r=a.default.getFirstMatch(i,e)||a.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},r=a.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},r=a.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},r=a.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},r=a.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},r=a.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},r=a.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},r=a.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},r=a.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},r=a.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t={name:"Android Browser"},r=a.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},r=a.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},r=a.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:a.default.getFirstMatch(t,e),version:a.default.getSecondMatch(t,e)}}}];t.default=o,e.exports=t.default},93:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=(n=r(17))&&n.__esModule?n:{default:n},i=r(18),o=[{test:[/Roku\/DVP/],describe:function(e){var t=a.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:i.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=a.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=a.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),r=a.default.getWindowsVersionName(t);return{name:i.OS_MAP.Windows,version:t,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:i.OS_MAP.iOS},r=a.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return r&&(t.version=r),t}},{test:[/macintosh/i],describe:function(e){var t=a.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),r=a.default.getMacOSVersionName(t),n={name:i.OS_MAP.MacOS,version:t};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=a.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:i.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t=a.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),r=a.default.getAndroidVersionName(t),n={name:i.OS_MAP.Android,version:t};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=a.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),r={name:i.OS_MAP.WebOS};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=a.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||a.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||a.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:i.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=a.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=a.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:i.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:i.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=a.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.PlayStation4,version:t}}}];t.default=o,e.exports=t.default},94:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=(n=r(17))&&n.__esModule?n:{default:n},i=r(18),o=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=a.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",r={type:i.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(r.model=t),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe:function(e){var t=a.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:i.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:i.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.tv}}}];t.default=o,e.exports=t.default},95:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=(n=r(17))&&n.__esModule?n:{default:n},i=r(18),o=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:i.ENGINE_MAP.Blink};var t=a.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:i.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:i.ENGINE_MAP.Trident},r=a.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:i.ENGINE_MAP.Presto},r=a.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe:function(e){var t={name:i.ENGINE_MAP.Gecko},r=a.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:i.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:i.ENGINE_MAP.WebKit},r=a.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}}];t.default=o,e.exports=t.default}})},4218:function(e){!function(){"use strict";e.exports=function(e){return(e instanceof Buffer?e:Buffer.from(e.toString(),"binary")).toString("base64")}}()},4037:function(e,t,r){"use strict";var n=r(2506),a=r(9722),i=a(n("String.prototype.indexOf"));e.exports=function(e,t){var r=n(e,!!t);return"function"===typeof r&&i(e,".prototype.")>-1?a(r):r}},9722:function(e,t,r){"use strict";var n=r(3350),a=r(2506),i=a("%Function.prototype.apply%"),o=a("%Function.prototype.call%"),s=a("%Reflect.apply%",!0)||n.call(o,i),c=a("%Object.getOwnPropertyDescriptor%",!0),u=a("%Object.defineProperty%",!0),l=a("%Math.max%");if(u)try{u({},"a",{value:1})}catch(p){u=null}e.exports=function(e){var t=s(n,o,arguments);c&&u&&(c(t,"length").configurable&&u(t,"length",{value:1+l(0,e.length-(arguments.length-1))}));return t};var d=function(){return s(n,i,arguments)};u?u(e.exports,"apply",{value:d}):e.exports.apply=d},8392:function(e,t,r){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var n=0,a=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(n++,"%c"===e&&(a=n))})),t.splice(a,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(r){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(r){}!e&&"undefined"!==typeof process&&"env"in process&&(e={NODE_ENV:"production",PUBLIC_URL:"/peliopi",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.DEBUG);return e},t.useColors=function(){if("undefined"!==typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=function(){var e=!1;return function(){e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||function(){},e.exports=r(8472)(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}},8472:function(e,t,r){var n=r(861).default;e.exports=function(e){function t(e){var r,n,i,o=null;function s(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];if(s.enabled){var i=s,o=Number(new Date),c=o-(r||o);i.diff=c,i.prev=r,i.curr=o,r=o,n[0]=t.coerce(n[0]),"string"!==typeof n[0]&&n.unshift("%O");var u=0;n[0]=n[0].replace(/%([a-zA-Z%])/g,(function(e,r){if("%%"===e)return"%";u++;var a=t.formatters[r];if("function"===typeof a){var o=n[u];e=a.call(i,o),n.splice(u,1),u--}return e})),t.formatArgs.call(i,n),(i.log||t.log).apply(i,n)}}return s.namespace=e,s.useColors=t.useColors(),s.color=t.selectColor(e),s.extend=a,s.destroy=t.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:function(){return null!==o?o:(n!==t.namespaces&&(n=t.namespaces,i=t.enabled(e)),i)},set:function(e){o=e}}),"function"===typeof t.init&&t.init(s),s}function a(e,r){var n=t(this.namespace+("undefined"===typeof r?":":r)+e);return n.log=this.log,n}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){var e=[].concat(n(t.names.map(i)),n(t.skips.map(i).map((function(e){return"-"+e})))).join(",");return t.enable(""),e},t.enable=function(e){var r;t.save(e),t.namespaces=e,t.names=[],t.skips=[];var n=("string"===typeof e?e:"").split(/[\s,]+/),a=n.length;for(r=0;r<a;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;var r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(8193),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((function(r){t[r]=e[r]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){for(var r=0,n=0;n<e.length;n++)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},9396:function(e,t,r){"use strict";var n=r(4892),a="function"===typeof Symbol&&"symbol"===typeof Symbol("foo"),i=Object.prototype.toString,o=Array.prototype.concat,s=Object.defineProperty,c=r(4510)(),u=s&&c,l=function(e,t,r,n){if(t in e)if(!0===n){if(e[t]===r)return}else if("function"!==typeof(a=n)||"[object Function]"!==i.call(a)||!n())return;var a;u?s(e,t,{configurable:!0,enumerable:!1,value:r,writable:!0}):e[t]=r},d=function(e,t){var r=arguments.length>2?arguments[2]:{},i=n(t);a&&(i=o.call(i,Object.getOwnPropertySymbols(t)));for(var s=0;s<i.length;s+=1)l(e,i[s],t[i[s]],r[i[s]])};d.supportsDescriptors=!!u,e.exports=d},887:function(e){"use strict";function t(e,t){if(void 0===e||null===e)throw new TypeError("Cannot convert first argument to object");for(var r=Object(e),n=1;n<arguments.length;n++){var a=arguments[n];if(void 0!==a&&null!==a)for(var i=Object.keys(Object(a)),o=0,s=i.length;o<s;o++){var c=i[o],u=Object.getOwnPropertyDescriptor(a,c);void 0!==u&&u.enumerable&&(r[c]=a[c])}}return r}e.exports={assign:t,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:t})}}},7465:function(e){"use strict";var t,r="object"===typeof Reflect?Reflect:null,n=r&&"function"===typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"===typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!==e};function i(){i.init.call(this)}e.exports=i,e.exports.once=function(e,t){return new Promise((function(r,n){function a(r){e.removeListener(t,i),n(r)}function i(){"function"===typeof e.removeListener&&e.removeListener("error",a),r([].slice.call(arguments))}m(e,t,i,{once:!0}),"error"!==t&&function(e,t,r){"function"===typeof e.on&&m(e,"error",t,r)}(e,a,{once:!0})}))},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var o=10;function s(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?i.defaultMaxListeners:e._maxListeners}function u(e,t,r,n){var a,i,o,u;if(s(r),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),i=e._events),o=i[t]),void 0===o)o=i[t]=r,++e._eventsCount;else if("function"===typeof o?o=i[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),(a=c(e))>0&&o.length>a&&!o.warned){o.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=o.length,u=l,console&&console.warn&&console.warn(u)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},a=l.bind(n);return a.listener=r,n.wrapFn=a,a}function p(e,t,r){var n=e._events;if(void 0===n)return[];var a=n[t];return void 0===a?[]:"function"===typeof a?r?[a.listener||a]:[a]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(a):h(a,a.length)}function f(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"===typeof r)return 1;if(void 0!==r)return r.length}return 0}function h(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function m(e,t,r,n){if("function"===typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function a(i){n.once&&e.removeEventListener(t,a),r(i)}))}}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(e){if("number"!==typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");o=e}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},i.prototype.getMaxListeners=function(){return c(this)},i.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var a="error"===e,i=this._events;if(void 0!==i)a=a&&void 0===i.error;else if(!a)return!1;if(a){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var c=i[e];if(void 0===c)return!1;if("function"===typeof c)n(c,this,t);else{var u=c.length,l=h(c,u);for(r=0;r<u;++r)n(l[r],this,t)}return!0},i.prototype.addListener=function(e,t){return u(this,e,t,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(e,t){return u(this,e,t,!0)},i.prototype.once=function(e,t){return s(t),this.on(e,d(this,e,t)),this},i.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,d(this,e,t)),this},i.prototype.removeListener=function(e,t){var r,n,a,i,o;if(s(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!==typeof r){for(a=-1,i=r.length-1;i>=0;i--)if(r[i]===t||r[i].listener===t){o=r[i].listener,a=i;break}if(a<0)return this;0===a?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,a),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,o||t)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var a,i=Object.keys(r);for(n=0;n<i.length;++n)"removeListener"!==(a=i[n])&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},i.prototype.listeners=function(e){return p(this,e,!0)},i.prototype.rawListeners=function(e){return p(this,e,!1)},i.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},i.prototype.listenerCount=f,i.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},5369:function(e,t,r){"use strict";var n=r(460),a=Object.prototype.toString,i=Object.prototype.hasOwnProperty;e.exports=function(e,t,r){if(!n(t))throw new TypeError("iterator must be a function");var o;arguments.length>=3&&(o=r),"[object Array]"===a.call(e)?function(e,t,r){for(var n=0,a=e.length;n<a;n++)i.call(e,n)&&(null==r?t(e[n],n,e):t.call(r,e[n],n,e))}(e,t,o):"string"===typeof e?function(e,t,r){for(var n=0,a=e.length;n<a;n++)null==r?t(e.charAt(n),n,e):t.call(r,e.charAt(n),n,e)}(e,t,o):function(e,t,r){for(var n in e)i.call(e,n)&&(null==r?t(e[n],n,e):t.call(r,e[n],n,e))}(e,t,o)}},222:function(e){"use strict";var t=Array.prototype.slice,r=Object.prototype.toString;e.exports=function(e){var n=this;if("function"!==typeof n||"[object Function]"!==r.call(n))throw new TypeError("Function.prototype.bind called on incompatible "+n);for(var a,i=t.call(arguments,1),o=Math.max(0,n.length-i.length),s=[],c=0;c<o;c++)s.push("$"+c);if(a=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof a){var r=n.apply(this,i.concat(t.call(arguments)));return Object(r)===r?r:this}return n.apply(e,i.concat(t.call(arguments)))})),n.prototype){var u=function(){};u.prototype=n.prototype,a.prototype=new u,u.prototype=null}return a}},3350:function(e,t,r){"use strict";var n=r(222);e.exports=Function.prototype.bind||n},2506:function(e,t,r){"use strict";var n,a=SyntaxError,i=Function,o=TypeError,s=function(e){try{return i('"use strict"; return ('+e+").constructor;")()}catch(t){}},c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch(E){c=null}var u=function(){throw new o},l=c?function(){try{return u}catch(e){try{return c(arguments,"callee").get}catch(t){return u}}}():u,d=r(697)(),p=Object.getPrototypeOf||function(e){return e.__proto__},f={},h="undefined"===typeof Uint8Array?n:p(Uint8Array),m={"%AggregateError%":"undefined"===typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"===typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":d?p([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":f,"%AsyncGenerator%":f,"%AsyncGeneratorFunction%":f,"%AsyncIteratorPrototype%":f,"%Atomics%":"undefined"===typeof Atomics?n:Atomics,"%BigInt%":"undefined"===typeof BigInt?n:BigInt,"%BigInt64Array%":"undefined"===typeof BigInt64Array?n:BigInt64Array,"%BigUint64Array%":"undefined"===typeof BigUint64Array?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"===typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"===typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"===typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"===typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":f,"%Int8Array%":"undefined"===typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"===typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"===typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":d?p(p([][Symbol.iterator]())):n,"%JSON%":"object"===typeof JSON?JSON:n,"%Map%":"undefined"===typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!==typeof Map&&d?p((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"===typeof Promise?n:Promise,"%Proxy%":"undefined"===typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"===typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"===typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!==typeof Set&&d?p((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":d?p(""[Symbol.iterator]()):n,"%Symbol%":d?Symbol:n,"%SyntaxError%":a,"%ThrowTypeError%":l,"%TypedArray%":h,"%TypeError%":o,"%Uint8Array%":"undefined"===typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"===typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"===typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"===typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"===typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"===typeof WeakSet?n:WeakSet};try{null.error}catch(E){var v=p(p(E));m["%Error.prototype%"]=v}var g=function e(t){var r;if("%AsyncFunction%"===t)r=s("async function () {}");else if("%GeneratorFunction%"===t)r=s("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=s("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var a=e("%AsyncGenerator%");a&&(r=p(a.prototype))}return m[t]=r,r},y={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},b=r(3350),k=r(8316),w=b.call(Function.call,Array.prototype.concat),_=b.call(Function.apply,Array.prototype.splice),S=b.call(Function.call,String.prototype.replace),x=b.call(Function.call,String.prototype.slice),C=b.call(Function.call,RegExp.prototype.exec),P=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,R=/\\(\\)?/g,T=function(e,t){var r,n=e;if(k(y,n)&&(n="%"+(r=y[n])[0]+"%"),k(m,n)){var i=m[n];if(i===f&&(i=g(n)),"undefined"===typeof i&&!t)throw new o("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:i}}throw new a("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!==typeof e||0===e.length)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!==typeof t)throw new o('"allowMissing" argument must be a boolean');if(null===C(/^%?[^%]*%?$/,e))throw new a("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(e){var t=x(e,0,1),r=x(e,-1);if("%"===t&&"%"!==r)throw new a("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new a("invalid intrinsic syntax, expected opening `%`");var n=[];return S(e,P,(function(e,t,r,a){n[n.length]=r?S(a,R,"$1"):t||e})),n}(e),n=r.length>0?r[0]:"",i=T("%"+n+"%",t),s=i.name,u=i.value,l=!1,d=i.alias;d&&(n=d[0],_(r,w([0,1],d)));for(var p=1,f=!0;p<r.length;p+=1){var h=r[p],v=x(h,0,1),g=x(h,-1);if(('"'===v||"'"===v||"`"===v||'"'===g||"'"===g||"`"===g)&&v!==g)throw new a("property names with quotes must have matching quotes");if("constructor"!==h&&f||(l=!0),k(m,s="%"+(n+="."+h)+"%"))u=m[s];else if(null!=u){if(!(h in u)){if(!t)throw new o("base intrinsic for "+e+" exists, but the property is not available.");return}if(c&&p+1>=r.length){var y=c(u,h);u=(f=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:u[h]}else f=k(u,h),u=u[h];f&&!l&&(m[s]=u)}}return u}},3347:function(e,t,r){"use strict";var n=r(2506)("%Object.getOwnPropertyDescriptor%",!0);if(n)try{n([],"length")}catch(a){n=null}e.exports=n},4434:function(e,t,r){var n=r(9728).default,a=r(6690).default,i=r(8392)("h264-profile-level-id");i.log=console.info.bind(console);t.ProfileConstrainedBaseline=1,t.ProfileBaseline=2,t.ProfileMain=3,t.ProfileConstrainedHigh=4,t.ProfileHigh=5;var o=0,s=10;t.Level1_b=o,t.Level1=s,t.Level1_1=11,t.Level1_2=12,t.Level1_3=13,t.Level2=20,t.Level2_1=21,t.Level2_2=22,t.Level3=30,t.Level3_1=31,t.Level3_2=32,t.Level4=40,t.Level4_1=41,t.Level4_2=42,t.Level5=50,t.Level5_1=51,t.Level5_2=52;var c=n((function e(t,r){"use strict";a(this,e),this.profile=t,this.level=r}));t.ProfileLevelId=c;var u=new c(1,31),l=function(){"use strict";function e(t){a(this,e),this._mask=~f("x",t),this._maskedValue=f("1",t)}return n(e,[{key:"isMatch",value:function(e){return this._maskedValue===(e&this._mask)}}]),e}(),d=n((function e(t,r,n){"use strict";a(this,e),this.profile_idc=t,this.profile_iop=r,this.profile=n})),p=[new d(66,new l("x1xx0000"),1),new d(77,new l("1xxx0000"),1),new d(88,new l("11xx0000"),1),new d(66,new l("x0xx0000"),2),new d(88,new l("10xx0000"),2),new d(77,new l("0x0x0000"),3),new d(100,new l("00000000"),5),new d(100,new l("00001100"),4)];function f(e,t){return(t[0]===e)<<7|(t[1]===e)<<6|(t[2]===e)<<5|(t[3]===e)<<4|(t[4]===e)<<3|(t[5]===e)<<2|(t[6]===e)<<1|(t[7]===e)<<0}function h(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})["level-asymmetry-allowed"];return 1===e||"1"===e}t.parseProfileLevelId=function(e){if("string"!==typeof e||6!==e.length)return null;var t=parseInt(e,16);if(0===t)return null;var r,n=255&t,a=t>>8&255,u=t>>16&255;switch(n){case 11:r=0!==(16&a)?o:11;break;case s:case 12:case 13:case 20:case 21:case 22:case 30:case 31:case 32:case 40:case 41:case 42:case 50:case 51:case 52:r=n;break;default:return i("parseProfileLevelId() | unrecognized level_idc:%s",n),null}for(var l=0,d=p;l<d.length;l++){var f=d[l];if(u===f.profile_idc&&f.profile_iop.isMatch(a))return new c(f.profile,r)}return i("parseProfileLevelId() | unrecognized profile_idc/profile_iop combination"),null},t.profileLevelIdToString=function(e){if(e.level==o)switch(e.profile){case 1:return"42f00b";case 2:return"42100b";case 3:return"4d100b";default:return i("profileLevelIdToString() | Level 1_b not is allowed for profile:%s",e.profile),null}var t;switch(e.profile){case 1:t="42e0";break;case 2:t="4200";break;case 3:t="4d00";break;case 4:t="640c";break;case 5:t="6400";break;default:return i("profileLevelIdToString() | unrecognized profile:%s",e.profile),null}var r=e.level.toString(16);return 1===r.length&&(r="0".concat(r)),"".concat(t).concat(r)},t.parseSdpProfileLevelId=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})["profile-level-id"];return e?t.parseProfileLevelId(e):u},t.isSameProfile=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.parseSdpProfileLevelId(e),a=t.parseSdpProfileLevelId(r);return Boolean(n&&a&&n.profile===a.profile)},t.generateProfileLevelIdForAnswer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e["profile-level-id"]&&!r["profile-level-id"])return i("generateProfileLevelIdForAnswer() | no profile-level-id in local and remote params"),null;var n=t.parseSdpProfileLevelId(e),a=t.parseSdpProfileLevelId(r);if(!n)throw new TypeError("invalid local_profile_level_id");if(!a)throw new TypeError("invalid remote_profile_level_id");if(n.profile!==a.profile)throw new TypeError("H264 Profile mismatch");var u,l,d=h(e)&&h(r),p=n.level,f=a.level,m=function(e,t){return e===o?t!==s&&t!==o:t===o?e!==s:e<t}(u=p,l=f)?u:l,v=d?p:m;return i("generateProfileLevelIdForAnswer() | result: [profile:%s, level:%s]",n.profile,v),t.profileLevelIdToString(new c(n.profile,v))}},4510:function(e,t,r){"use strict";var n=r(2506)("%Object.defineProperty%",!0),a=function(){if(n)try{return n({},"a",{value:1}),!0}catch(e){return!1}return!1};a.hasArrayLengthDefineBug=function(){if(!a())return null;try{return 1!==n([],"length",{value:1}).length}catch(e){return!0}},e.exports=a},697:function(e,t,r){"use strict";var n="undefined"!==typeof Symbol&&Symbol,a=r(3297);e.exports=function(){return"function"===typeof n&&("function"===typeof Symbol&&("symbol"===typeof n("foo")&&("symbol"===typeof Symbol("bar")&&a())))}},3297:function(e){"use strict";e.exports=function(){if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;if("symbol"===typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"===typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"===typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"===typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"===typeof Object.getOwnPropertyDescriptor){var a=Object.getOwnPropertyDescriptor(e,t);if(42!==a.value||!0!==a.enumerable)return!1}return!0}},4707:function(e,t,r){"use strict";var n=r(3297);e.exports=function(){return n()&&!!Symbol.toStringTag}},8316:function(e,t,r){"use strict";var n=r(3350);e.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},2110:function(e,t,r){"use strict";var n=r(7441),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function c(e){return n.isMemo(e)?o:s[e.$$typeof]||a}s[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[n.Memo]=o;var u=Object.defineProperty,l=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,r,n){if("string"!==typeof r){if(h){var a=f(r);a&&a!==h&&e(t,a,n)}var o=l(r);d&&(o=o.concat(d(r)));for(var s=c(t),m=c(r),v=0;v<o.length;++v){var g=o[v];if(!i[g]&&(!n||!n[g])&&(!m||!m[g])&&(!s||!s[g])){var y=p(r,g);try{u(t,g,y)}catch(b){}}}}return t}},2534:function(e){"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},5450:function(e,t,r){"use strict";var n=r(4707)(),a=r(4037)("Object.prototype.toString"),i=function(e){return!(n&&e&&"object"===typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===a(e)},o=function(e){return!!i(e)||null!==e&&"object"===typeof e&&"number"===typeof e.length&&e.length>=0&&"[object Array]"!==a(e)&&"[object Function]"===a(e.callee)},s=function(){return i(arguments)}();i.isLegacyArguments=o,e.exports=s?i:o},460:function(e){"use strict";var t,r,n=Function.prototype.toString,a="object"===typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"===typeof a&&"function"===typeof Object.defineProperty)try{t=Object.defineProperty({},"length",{get:function(){throw r}}),r={},a((function(){throw 42}),null,t)}catch(f){f!==r&&(a=null)}else a=null;var i=/^\s*class\b/,o=function(e){try{var t=n.call(e);return i.test(t)}catch(r){return!1}},s=function(e){try{return!o(e)&&(n.call(e),!0)}catch(t){return!1}},c=Object.prototype.toString,u="function"===typeof Symbol&&!!Symbol.toStringTag,l=!(0 in[,]),d=function(){return!1};if("object"===typeof document){var p=document.all;c.call(p)===c.call(document.all)&&(d=function(e){if((l||!e)&&("undefined"===typeof e||"object"===typeof e))try{var t=c.call(e);return("[object HTMLAllCollection]"===t||"[object HTML document.all class]"===t||"[object HTMLCollection]"===t||"[object Object]"===t)&&null==e("")}catch(r){}return!1})}e.exports=a?function(e){if(d(e))return!0;if(!e)return!1;if("function"!==typeof e&&"object"!==typeof e)return!1;try{a(e,null,t)}catch(n){if(n!==r)return!1}return!o(e)&&s(e)}:function(e){if(d(e))return!0;if(!e)return!1;if("function"!==typeof e&&"object"!==typeof e)return!1;if(u)return s(e);if(o(e))return!1;var t=c.call(e);return!("[object Function]"!==t&&"[object GeneratorFunction]"!==t&&!/^\[object HTML/.test(t))&&s(e)}},5718:function(e,t,r){"use strict";var n,a=Object.prototype.toString,i=Function.prototype.toString,o=/^\s*(?:function)?\*/,s=r(4707)(),c=Object.getPrototypeOf;e.exports=function(e){if("function"!==typeof e)return!1;if(o.test(i.call(e)))return!0;if(!s)return"[object GeneratorFunction]"===a.call(e);if(!c)return!1;if("undefined"===typeof n){var t=function(){if(!s)return!1;try{return Function("return function*() {}")()}catch(e){}}();n=!!t&&c(t)}return c(e)===n}},6510:function(e){"use strict";e.exports=function(e){return e!==e}},6188:function(e,t,r){"use strict";var n=r(9722),a=r(9396),i=r(6510),o=r(4951),s=r(6034),c=n(o(),Number);a(c,{getPolyfill:o,implementation:i,shim:s}),e.exports=c},4951:function(e,t,r){"use strict";var n=r(6510);e.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:n}},6034:function(e,t,r){"use strict";var n=r(9396),a=r(4951);e.exports=function(){var e=a();return n(Number,{isNaN:e},{isNaN:function(){return Number.isNaN!==e}}),e}},6218:function(e,t,r){"use strict";var n=r(5369),a=r(306),i=r(4037),o=i("Object.prototype.toString"),s=r(4707)(),c=r(3347),u="undefined"===typeof globalThis?r.g:globalThis,l=a(),d=i("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},p=i("String.prototype.slice"),f={},h=Object.getPrototypeOf;s&&c&&h&&n(l,(function(e){var t=new u[e];if(Symbol.toStringTag in t){var r=h(t),n=c(r,Symbol.toStringTag);if(!n){var a=h(r);n=c(a,Symbol.toStringTag)}f[e]=n.get}}));e.exports=function(e){if(!e||"object"!==typeof e)return!1;if(!s||!(Symbol.toStringTag in e)){var t=p(o(e),8,-1);return d(l,t)>-1}return!!c&&function(e){var t=!1;return n(f,(function(r,n){if(!t)try{t=r.call(e)===n}catch(a){}})),t}(e)}},6198:function(e,t,r){e=r.nmd(e);var n="__lodash_hash_undefined__",a=9007199254740991,i="[object Arguments]",o="[object AsyncFunction]",s="[object Function]",c="[object GeneratorFunction]",u="[object Null]",l="[object Object]",d="[object Proxy]",p="[object Undefined]",f=/^\[object .+?Constructor\]$/,h=/^(?:0|[1-9]\d*)$/,m={};m["[object Float32Array]"]=m["[object Float64Array]"]=m["[object Int8Array]"]=m["[object Int16Array]"]=m["[object Int32Array]"]=m["[object Uint8Array]"]=m["[object Uint8ClampedArray]"]=m["[object Uint16Array]"]=m["[object Uint32Array]"]=!0,m[i]=m["[object Array]"]=m["[object ArrayBuffer]"]=m["[object Boolean]"]=m["[object DataView]"]=m["[object Date]"]=m["[object Error]"]=m[s]=m["[object Map]"]=m["[object Number]"]=m[l]=m["[object RegExp]"]=m["[object Set]"]=m["[object String]"]=m["[object WeakMap]"]=!1;var v="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,g="object"==typeof self&&self&&self.Object===Object&&self,y=v||g||Function("return this")(),b=t&&!t.nodeType&&t,k=b&&e&&!e.nodeType&&e,w=k&&k.exports===b,_=w&&v.process,S=function(){try{var e=k&&k.require&&k.require("util").types;return e||_&&_.binding&&_.binding("util")}catch(t){}}(),x=S&&S.isTypedArray;var C,P,R=Array.prototype,T=Function.prototype,E=Object.prototype,O=y["__core-js_shared__"],D=T.toString,M=E.hasOwnProperty,j=function(){var e=/[^.]+$/.exec(O&&O.keys&&O.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),I=E.toString,A=D.call(Object),L=RegExp("^"+D.call(M).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),N=w?y.Buffer:void 0,F=y.Symbol,B=y.Uint8Array,z=N?N.allocUnsafe:void 0,U=(C=Object.getPrototypeOf,P=Object,function(e){return C(P(e))}),V=Object.create,W=E.propertyIsEnumerable,q=R.splice,H=F?F.toStringTag:void 0,$=function(){try{var e=ye(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),G=N?N.isBuffer:void 0,K=Math.max,Y=Date.now,Q=ye(y,"Map"),J=ye(Object,"create"),X=function(){function e(){}return function(t){if(!Oe(t))return{};if(V)return V(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function Z(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ee(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function te(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function re(e){var t=this.__data__=new ee(e);this.size=t.size}function ne(e,t){var r=Ce(e),n=!r&&xe(e),a=!r&&!n&&Re(e),i=!r&&!n&&!a&&Me(e),o=r||n||a||i,s=o?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],c=s.length;for(var u in e)!t&&!M.call(e,u)||o&&("length"==u||a&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||be(u,c))||s.push(u);return s}function ae(e,t,r){(void 0!==r&&!Se(e[t],r)||void 0===r&&!(t in e))&&se(e,t,r)}function ie(e,t,r){var n=e[t];M.call(e,t)&&Se(n,r)&&(void 0!==r||t in e)||se(e,t,r)}function oe(e,t){for(var r=e.length;r--;)if(Se(e[r][0],t))return r;return-1}function se(e,t,r){"__proto__"==t&&$?$(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}Z.prototype.clear=function(){this.__data__=J?J(null):{},this.size=0},Z.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Z.prototype.get=function(e){var t=this.__data__;if(J){var r=t[e];return r===n?void 0:r}return M.call(t,e)?t[e]:void 0},Z.prototype.has=function(e){var t=this.__data__;return J?void 0!==t[e]:M.call(t,e)},Z.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=J&&void 0===t?n:t,this},ee.prototype.clear=function(){this.__data__=[],this.size=0},ee.prototype.delete=function(e){var t=this.__data__,r=oe(t,e);return!(r<0)&&(r==t.length-1?t.pop():q.call(t,r,1),--this.size,!0)},ee.prototype.get=function(e){var t=this.__data__,r=oe(t,e);return r<0?void 0:t[r][1]},ee.prototype.has=function(e){return oe(this.__data__,e)>-1},ee.prototype.set=function(e,t){var r=this.__data__,n=oe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},te.prototype.clear=function(){this.size=0,this.__data__={hash:new Z,map:new(Q||ee),string:new Z}},te.prototype.delete=function(e){var t=ge(this,e).delete(e);return this.size-=t?1:0,t},te.prototype.get=function(e){return ge(this,e).get(e)},te.prototype.has=function(e){return ge(this,e).has(e)},te.prototype.set=function(e,t){var r=ge(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},re.prototype.clear=function(){this.__data__=new ee,this.size=0},re.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},re.prototype.get=function(e){return this.__data__.get(e)},re.prototype.has=function(e){return this.__data__.has(e)},re.prototype.set=function(e,t){var r=this.__data__;if(r instanceof ee){var n=r.__data__;if(!Q||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new te(n)}return r.set(e,t),this.size=r.size,this};var ce,ue=function(e,t,r){for(var n=-1,a=Object(e),i=r(e),o=i.length;o--;){var s=i[ce?o:++n];if(!1===t(a[s],s,a))break}return e};function le(e){return null==e?void 0===e?p:u:H&&H in Object(e)?function(e){var t=M.call(e,H),r=e[H];try{e[H]=void 0;var n=!0}catch(i){}var a=I.call(e);n&&(t?e[H]=r:delete e[H]);return a}(e):function(e){return I.call(e)}(e)}function de(e){return De(e)&&le(e)==i}function pe(e){return!(!Oe(e)||function(e){return!!j&&j in e}(e))&&(Te(e)?L:f).test(function(e){if(null!=e){try{return D.call(e)}catch(t){}try{return e+""}catch(t){}}return""}(e))}function fe(e){if(!Oe(e))return function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}(e);var t=ke(e),r=[];for(var n in e)("constructor"!=n||!t&&M.call(e,n))&&r.push(n);return r}function he(e,t,r,n,a){e!==t&&ue(t,(function(i,o){if(a||(a=new re),Oe(i))!function(e,t,r,n,a,i,o){var s=we(e,r),c=we(t,r),u=o.get(c);if(u)return void ae(e,r,u);var d=i?i(s,c,r+"",e,t,o):void 0,p=void 0===d;if(p){var f=Ce(c),h=!f&&Re(c),m=!f&&!h&&Me(c);d=c,f||h||m?Ce(s)?d=s:De(v=s)&&Pe(v)?d=function(e,t){var r=-1,n=e.length;t||(t=Array(n));for(;++r<n;)t[r]=e[r];return t}(s):h?(p=!1,d=function(e,t){if(t)return e.slice();var r=e.length,n=z?z(r):new e.constructor(r);return e.copy(n),n}(c,!0)):m?(p=!1,d=function(e,t){var r=t?function(e){var t=new e.constructor(e.byteLength);return new B(t).set(new B(e)),t}(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}(c,!0)):d=[]:function(e){if(!De(e)||le(e)!=l)return!1;var t=U(e);if(null===t)return!0;var r=M.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&D.call(r)==A}(c)||xe(c)?(d=s,xe(s)?d=function(e){return function(e,t,r,n){var a=!r;r||(r={});var i=-1,o=t.length;for(;++i<o;){var s=t[i],c=n?n(r[s],e[s],s,r,e):void 0;void 0===c&&(c=e[s]),a?se(r,s,c):ie(r,s,c)}return r}(e,je(e))}(s):Oe(s)&&!Te(s)||(d=function(e){return"function"!=typeof e.constructor||ke(e)?{}:X(U(e))}(c))):p=!1}var v;p&&(o.set(c,d),a(d,c,n,i,o),o.delete(c));ae(e,r,d)}(e,t,o,r,he,n,a);else{var s=n?n(we(e,o),i,o+"",e,t,a):void 0;void 0===s&&(s=i),ae(e,o,s)}}),je)}function me(e,t){return _e(function(e,t,r){return t=K(void 0===t?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=K(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=n[a];return s[t]=r(o),function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}(e,this,s)}}(e,t,Le),e+"")}var ve=$?function(e,t){return $(e,"toString",{configurable:!0,enumerable:!1,value:(r=t,function(){return r}),writable:!0});var r}:Le;function ge(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function ye(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return pe(r)?r:void 0}function be(e,t){var r=typeof e;return!!(t=null==t?a:t)&&("number"==r||"symbol"!=r&&h.test(e))&&e>-1&&e%1==0&&e<t}function ke(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||E)}function we(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var _e=function(e){var t=0,r=0;return function(){var n=Y(),a=16-(n-r);if(r=n,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(ve);function Se(e,t){return e===t||e!==e&&t!==t}var xe=de(function(){return arguments}())?de:function(e){return De(e)&&M.call(e,"callee")&&!W.call(e,"callee")},Ce=Array.isArray;function Pe(e){return null!=e&&Ee(e.length)&&!Te(e)}var Re=G||function(){return!1};function Te(e){if(!Oe(e))return!1;var t=le(e);return t==s||t==c||t==o||t==d}function Ee(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=a}function Oe(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function De(e){return null!=e&&"object"==typeof e}var Me=x?function(e){return function(t){return e(t)}}(x):function(e){return De(e)&&Ee(e.length)&&!!m[le(e)]};function je(e){return Pe(e)?ne(e,!0):fe(e)}var Ie,Ae=(Ie=function(e,t,r,n){he(e,t,r,n)},me((function(e,t){var r=-1,n=t.length,a=n>1?t[n-1]:void 0,i=n>2?t[2]:void 0;for(a=Ie.length>3&&"function"==typeof a?(n--,a):void 0,i&&function(e,t,r){if(!Oe(r))return!1;var n=typeof t;return!!("number"==n?Pe(r)&&be(t,r.length):"string"==n&&t in r)&&Se(r[t],e)}(t[0],t[1],i)&&(a=n<3?void 0:a,n=1),e=Object(e);++r<n;){var o=t[r];o&&Ie(e,o,r,a)}return e})));function Le(e){return e}e.exports=Ae},1098:function(e,t,r){"use strict";var n=r(7061).default,a=r(7156).default,i=r(6690).default,o=r(9728).default,s=r(6115).default,c=r(1655).default,u=r(6389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Consumer=void 0;var l=r(4115),d=r(7318),p=r(6431),f=new l.Logger("Consumer"),h=function(e){c(r,e);var t=u(r);function r(e){var n,a=e.id,o=e.localId,c=e.producerId,u=e.rtpReceiver,l=e.track,p=e.rtpParameters,h=e.appData;return i(this,r),(n=t.call(this))._closed=!1,n._observer=new d.EnhancedEventEmitter,f.debug("constructor()"),n._id=a,n._localId=o,n._producerId=c,n._rtpReceiver=u,n._track=l,n._rtpParameters=p,n._paused=!l.enabled,n._appData=h||{},n.onTrackEnded=n.onTrackEnded.bind(s(n)),n.handleTrack(),n}return o(r,[{key:"id",get:function(){return this._id}},{key:"localId",get:function(){return this._localId}},{key:"producerId",get:function(){return this._producerId}},{key:"closed",get:function(){return this._closed}},{key:"kind",get:function(){return this._track.kind}},{key:"rtpReceiver",get:function(){return this._rtpReceiver}},{key:"track",get:function(){return this._track}},{key:"rtpParameters",get:function(){return this._rtpParameters}},{key:"paused",get:function(){return this._paused}},{key:"appData",get:function(){return this._appData},set:function(e){this._appData=e}},{key:"observer",get:function(){return this._observer}},{key:"close",value:function(){this._closed||(f.debug("close()"),this._closed=!0,this.destroyTrack(),this.emit("@close"),this._observer.safeEmit("close"))}},{key:"transportClosed",value:function(){this._closed||(f.debug("transportClosed()"),this._closed=!0,this.destroyTrack(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}},{key:"getStats",value:function(){var e=a(n().mark((function e(){var t=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._closed){e.next=2;break}throw new p.InvalidStateError("closed");case 2:return e.abrupt("return",new Promise((function(e,r){t.safeEmit("@getstats",e,r)})));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"pause",value:function(){f.debug("pause()"),this._closed?f.error("pause() | Consumer closed"):this._paused?f.debug("pause() | Consumer is already paused"):(this._paused=!0,this._track.enabled=!1,this.emit("@pause"),this._observer.safeEmit("pause"))}},{key:"resume",value:function(){f.debug("resume()"),this._closed?f.error("resume() | Consumer closed"):this._paused?(this._paused=!1,this._track.enabled=!0,this.emit("@resume"),this._observer.safeEmit("resume")):f.debug("resume() | Consumer is already resumed")}},{key:"onTrackEnded",value:function(){f.debug('track "ended" event'),this.safeEmit("trackended"),this._observer.safeEmit("trackended")}},{key:"handleTrack",value:function(){this._track.addEventListener("ended",this.onTrackEnded)}},{key:"destroyTrack",value:function(){try{this._track.removeEventListener("ended",this.onTrackEnded),this._track.stop()}catch(e){}}}]),r}(d.EnhancedEventEmitter);t.Consumer=h},6919:function(e,t,r){"use strict";var n=r(6690).default,a=r(9728).default,i=r(1655).default,o=r(6389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.DataConsumer=void 0;var s=r(4115),c=r(7318),u=new s.Logger("DataConsumer"),l=function(e){i(r,e);var t=o(r);function r(e){var a,i=e.id,o=e.dataProducerId,s=e.dataChannel,l=e.sctpStreamParameters,d=e.appData;return n(this,r),(a=t.call(this))._closed=!1,a._observer=new c.EnhancedEventEmitter,u.debug("constructor()"),a._id=i,a._dataProducerId=o,a._dataChannel=s,a._sctpStreamParameters=l,a._appData=d||{},a.handleDataChannel(),a}return a(r,[{key:"id",get:function(){return this._id}},{key:"dataProducerId",get:function(){return this._dataProducerId}},{key:"closed",get:function(){return this._closed}},{key:"sctpStreamParameters",get:function(){return this._sctpStreamParameters}},{key:"readyState",get:function(){return this._dataChannel.readyState}},{key:"label",get:function(){return this._dataChannel.label}},{key:"protocol",get:function(){return this._dataChannel.protocol}},{key:"binaryType",get:function(){return this._dataChannel.binaryType},set:function(e){this._dataChannel.binaryType=e}},{key:"appData",get:function(){return this._appData},set:function(e){this._appData=e}},{key:"observer",get:function(){return this._observer}},{key:"close",value:function(){this._closed||(u.debug("close()"),this._closed=!0,this._dataChannel.close(),this.emit("@close"),this._observer.safeEmit("close"))}},{key:"transportClosed",value:function(){this._closed||(u.debug("transportClosed()"),this._closed=!0,this._dataChannel.close(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}},{key:"handleDataChannel",value:function(){var e=this;this._dataChannel.addEventListener("open",(function(){e._closed||(u.debug('DataChannel "open" event'),e.safeEmit("open"))})),this._dataChannel.addEventListener("error",(function(t){if(!e._closed){var r=t.error;r||(r=new Error("unknown DataChannel error")),"sctp-failure"===r.errorDetail?u.error("DataChannel SCTP error [sctpCauseCode:%s]: %s",r.sctpCauseCode,r.message):u.error('DataChannel "error" event: %o',r),e.safeEmit("error",r)}})),this._dataChannel.addEventListener("close",(function(){e._closed||(u.warn('DataChannel "close" event'),e._closed=!0,e.emit("@close"),e.safeEmit("close"),e._observer.safeEmit("close"))})),this._dataChannel.addEventListener("message",(function(t){e._closed||e.safeEmit("message",t.data)}))}}]),r}(c.EnhancedEventEmitter);t.DataConsumer=l},7358:function(e,t,r){"use strict";var n=r(6690).default,a=r(9728).default,i=r(1655).default,o=r(6389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.DataProducer=void 0;var s=r(4115),c=r(7318),u=r(6431),l=new s.Logger("DataProducer"),d=function(e){i(r,e);var t=o(r);function r(e){var a,i=e.id,o=e.dataChannel,s=e.sctpStreamParameters,u=e.appData;return n(this,r),(a=t.call(this))._closed=!1,a._observer=new c.EnhancedEventEmitter,l.debug("constructor()"),a._id=i,a._dataChannel=o,a._sctpStreamParameters=s,a._appData=u||{},a.handleDataChannel(),a}return a(r,[{key:"id",get:function(){return this._id}},{key:"closed",get:function(){return this._closed}},{key:"sctpStreamParameters",get:function(){return this._sctpStreamParameters}},{key:"readyState",get:function(){return this._dataChannel.readyState}},{key:"label",get:function(){return this._dataChannel.label}},{key:"protocol",get:function(){return this._dataChannel.protocol}},{key:"bufferedAmount",get:function(){return this._dataChannel.bufferedAmount}},{key:"bufferedAmountLowThreshold",get:function(){return this._dataChannel.bufferedAmountLowThreshold},set:function(e){this._dataChannel.bufferedAmountLowThreshold=e}},{key:"appData",get:function(){return this._appData},set:function(e){this._appData=e}},{key:"observer",get:function(){return this._observer}},{key:"close",value:function(){this._closed||(l.debug("close()"),this._closed=!0,this._dataChannel.close(),this.emit("@close"),this._observer.safeEmit("close"))}},{key:"transportClosed",value:function(){this._closed||(l.debug("transportClosed()"),this._closed=!0,this._dataChannel.close(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}},{key:"send",value:function(e){if(l.debug("send()"),this._closed)throw new u.InvalidStateError("closed");this._dataChannel.send(e)}},{key:"handleDataChannel",value:function(){var e=this;this._dataChannel.addEventListener("open",(function(){e._closed||(l.debug('DataChannel "open" event'),e.safeEmit("open"))})),this._dataChannel.addEventListener("error",(function(t){if(!e._closed){var r=t.error;r||(r=new Error("unknown DataChannel error")),"sctp-failure"===r.errorDetail?l.error("DataChannel SCTP error [sctpCauseCode:%s]: %s",r.sctpCauseCode,r.message):l.error('DataChannel "error" event: %o',r),e.safeEmit("error",r)}})),this._dataChannel.addEventListener("close",(function(){e._closed||(l.warn('DataChannel "close" event'),e._closed=!0,e.emit("@close"),e.safeEmit("close"),e._observer.safeEmit("close"))})),this._dataChannel.addEventListener("message",(function(){e._closed||l.warn('DataChannel "message" event in a DataProducer, message discarded')})),this._dataChannel.addEventListener("bufferedamountlow",(function(){e._closed||e.safeEmit("bufferedamountlow")}))}}]),r}(c.EnhancedEventEmitter);t.DataProducer=d},5703:function(e,t,r){"use strict";var n=r(7061).default,a=r(7156).default,i=r(6690).default,o=r(9728).default,s=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),c=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&s(t,e,r);return c(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Device=t.detectDevice=void 0;var d=l(r(5524)),p=r(4115),f=r(7318),h=r(6431),m=u(r(3001)),v=u(r(1777)),g=r(475),y=r(4197),b=r(6139),k=r(1521),w=r(6452),_=r(5939),S=r(1714),x=r(3767),C=r(9942),P=r(7516),R=r(3685),T=r(3997),E=new p.Logger("Device");function O(){if("object"===typeof navigator&&"ReactNative"===navigator.product)return"undefined"===typeof RTCPeerConnection?void E.warn("this._detectDevice() | unsupported react-native-webrtc without RTCPeerConnection, forgot to call registerGlobals()?"):"undefined"!==typeof RTCRtpTransceiver?(E.debug("this._detectDevice() | ReactNative UnifiedPlan handler chosen"),"ReactNativeUnifiedPlan"):(E.debug("this._detectDevice() | ReactNative PlanB handler chosen"),"ReactNative");if("object"!==typeof navigator||"string"!==typeof navigator.userAgent)E.warn("this._detectDevice() | unknown device");else{var e=navigator.userAgent,t=d.default.getParser(e),r=t.getEngine();if(t.satisfies({chrome:">=111",chromium:">=111","microsoft edge":">=111"}))return"Chrome111";if(t.satisfies({chrome:">=74",chromium:">=74","microsoft edge":">=88"}))return"Chrome74";if(t.satisfies({chrome:">=70",chromium:">=70"}))return"Chrome70";if(t.satisfies({chrome:">=67",chromium:">=67"}))return"Chrome67";if(t.satisfies({chrome:">=55",chromium:">=55"}))return"Chrome55";if(t.satisfies({firefox:">=60"}))return"Firefox60";if(t.satisfies({ios:{OS:">=14.3",firefox:">=30.0"}}))return"Safari12";if(t.satisfies({safari:">=12.0"})&&"undefined"!==typeof RTCRtpTransceiver&&RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection"))return"Safari12";if(t.satisfies({safari:">=11"}))return"Safari11";if(t.satisfies({"microsoft edge":">=11"})&&t.satisfies({"microsoft edge":"<=18"}))return"Edge11";if(r.name&&"blink"===r.name.toLowerCase()){var n=e.match(/(?:(?:Chrome|Chromium))[ /](\w+)/i);if(n){var a=Number(n[1]);return a>=111?"Chrome111":a>=74?"Chrome74":a>=70?"Chrome70":a>=67?"Chrome67":"Chrome55"}return"Chrome111"}E.warn("this._detectDevice() | browser not supported [name:%s, version:%s]",t.getBrowserName(),t.getBrowserVersion())}}t.detectDevice=O;var D=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.handlerName,n=t.handlerFactory,a=t.Handler;if(i(this,e),this._loaded=!1,this._observer=new f.EnhancedEventEmitter,E.debug("constructor()"),a){if(E.warn("constructor() | Handler option is DEPRECATED, use handlerName or handlerFactory instead"),"string"!==typeof a)throw new TypeError("non string Handler option no longer supported, use handlerFactory instead");r=a}if(r&&n)throw new TypeError("just one of handlerName or handlerInterface can be given");if(n)this._handlerFactory=n;else{if(r)E.debug("constructor() | handler given: %s",r);else{if(!(r=O()))throw new h.UnsupportedError("device not supported");E.debug("constructor() | detected handler: %s",r)}switch(r){case"Chrome111":this._handlerFactory=y.Chrome111.createFactory();break;case"Chrome74":this._handlerFactory=b.Chrome74.createFactory();break;case"Chrome70":this._handlerFactory=k.Chrome70.createFactory();break;case"Chrome67":this._handlerFactory=w.Chrome67.createFactory();break;case"Chrome55":this._handlerFactory=_.Chrome55.createFactory();break;case"Firefox60":this._handlerFactory=S.Firefox60.createFactory();break;case"Safari12":this._handlerFactory=x.Safari12.createFactory();break;case"Safari11":this._handlerFactory=C.Safari11.createFactory();break;case"Edge11":this._handlerFactory=P.Edge11.createFactory();break;case"ReactNativeUnifiedPlan":this._handlerFactory=R.ReactNativeUnifiedPlan.createFactory();break;case"ReactNative":this._handlerFactory=T.ReactNative.createFactory();break;default:throw new TypeError('unknown handlerName "'.concat(r,'"'))}}var o=this._handlerFactory();this._handlerName=o.name,o.close(),this._extendedRtpCapabilities=void 0,this._recvRtpCapabilities=void 0,this._canProduceByKind={audio:!1,video:!1},this._sctpCapabilities=void 0}return o(e,[{key:"handlerName",get:function(){return this._handlerName}},{key:"loaded",get:function(){return this._loaded}},{key:"rtpCapabilities",get:function(){if(!this._loaded)throw new h.InvalidStateError("not loaded");return this._recvRtpCapabilities}},{key:"sctpCapabilities",get:function(){if(!this._loaded)throw new h.InvalidStateError("not loaded");return this._sctpCapabilities}},{key:"observer",get:function(){return this._observer}},{key:"load",value:function(){var e=a(n().mark((function e(t){var r,a,i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.routerRtpCapabilities,E.debug("load() [routerRtpCapabilities:%o]",r),r=m.clone(r,void 0),e.prev=3,!this._loaded){e.next=6;break}throw new h.InvalidStateError("already loaded");case 6:return v.validateRtpCapabilities(r),a=this._handlerFactory(),e.next=10,a.getNativeRtpCapabilities();case 10:return i=e.sent,E.debug("load() | got native RTP capabilities:%o",i),v.validateRtpCapabilities(i),this._extendedRtpCapabilities=v.getExtendedRtpCapabilities(i,r),E.debug("load() | got extended RTP capabilities:%o",this._extendedRtpCapabilities),this._canProduceByKind.audio=v.canSend("audio",this._extendedRtpCapabilities),this._canProduceByKind.video=v.canSend("video",this._extendedRtpCapabilities),this._recvRtpCapabilities=v.getRecvRtpCapabilities(this._extendedRtpCapabilities),v.validateRtpCapabilities(this._recvRtpCapabilities),E.debug("load() | got receiving RTP capabilities:%o",this._recvRtpCapabilities),e.next=22,a.getNativeSctpCapabilities();case 22:this._sctpCapabilities=e.sent,E.debug("load() | got native SCTP capabilities:%o",this._sctpCapabilities),v.validateSctpCapabilities(this._sctpCapabilities),E.debug("load() succeeded"),this._loaded=!0,a.close(),e.next=34;break;case 30:throw e.prev=30,e.t0=e.catch(3),a&&a.close(),e.t0;case 34:case"end":return e.stop()}}),e,this,[[3,30]])})));return function(t){return e.apply(this,arguments)}}()},{key:"canProduce",value:function(e){if(!this._loaded)throw new h.InvalidStateError("not loaded");if("audio"!==e&&"video"!==e)throw new TypeError('invalid kind "'.concat(e,'"'));return this._canProduceByKind[e]}},{key:"createSendTransport",value:function(e){var t=e.id,r=e.iceParameters,n=e.iceCandidates,a=e.dtlsParameters,i=e.sctpParameters,o=e.iceServers,s=e.iceTransportPolicy,c=e.additionalSettings,u=e.proprietaryConstraints,l=e.appData;return E.debug("createSendTransport()"),this.createTransport({direction:"send",id:t,iceParameters:r,iceCandidates:n,dtlsParameters:a,sctpParameters:i,iceServers:o,iceTransportPolicy:s,additionalSettings:c,proprietaryConstraints:u,appData:l})}},{key:"createRecvTransport",value:function(e){var t=e.id,r=e.iceParameters,n=e.iceCandidates,a=e.dtlsParameters,i=e.sctpParameters,o=e.iceServers,s=e.iceTransportPolicy,c=e.additionalSettings,u=e.proprietaryConstraints,l=e.appData;return E.debug("createRecvTransport()"),this.createTransport({direction:"recv",id:t,iceParameters:r,iceCandidates:n,dtlsParameters:a,sctpParameters:i,iceServers:o,iceTransportPolicy:s,additionalSettings:c,proprietaryConstraints:u,appData:l})}},{key:"createTransport",value:function(e){var t=e.direction,r=e.id,n=e.iceParameters,a=e.iceCandidates,i=e.dtlsParameters,o=e.sctpParameters,s=e.iceServers,c=e.iceTransportPolicy,u=e.additionalSettings,l=e.proprietaryConstraints,d=e.appData;if(!this._loaded)throw new h.InvalidStateError("not loaded");if("string"!==typeof r)throw new TypeError("missing id");if("object"!==typeof n)throw new TypeError("missing iceParameters");if(!Array.isArray(a))throw new TypeError("missing iceCandidates");if("object"!==typeof i)throw new TypeError("missing dtlsParameters");if(o&&"object"!==typeof o)throw new TypeError("wrong sctpParameters");if(d&&"object"!==typeof d)throw new TypeError("if given, appData must be an object");var p=new g.Transport({direction:t,id:r,iceParameters:n,iceCandidates:a,dtlsParameters:i,sctpParameters:o,iceServers:s,iceTransportPolicy:c,additionalSettings:u,proprietaryConstraints:l,appData:d,handlerFactory:this._handlerFactory,extendedRtpCapabilities:this._extendedRtpCapabilities,canProduceByKind:this._canProduceByKind});return this._observer.safeEmit("newtransport",p),p}}]),e}();t.Device=D},7318:function(e,t,r){"use strict";var n=r(6690).default,a=r(9728).default,i=r(1588).default,o=r(3808).default,s=r(1655).default,c=r(6389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.EnhancedEventEmitter=void 0;var u=r(7465),l=new(r(4115).Logger)("EnhancedEventEmitter"),d=function(e){s(r,e);var t=c(r);function r(){var e;return n(this,r),(e=t.call(this)).setMaxListeners(1/0),e}return a(r,[{key:"emit",value:function(e){for(var t,n=arguments.length,a=new Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];return(t=i(o(r.prototype),"emit",this)).call.apply(t,[this,e].concat(a))}},{key:"safeEmit",value:function(e){var t=i(o(r.prototype),"listenerCount",this).call(this,e);try{for(var n,a=arguments.length,s=new Array(a>1?a-1:0),c=1;c<a;c++)s[c-1]=arguments[c];return(n=i(o(r.prototype),"emit",this)).call.apply(n,[this,e].concat(s))}catch(u){return l.error("safeEmit() | event listener threw an error [eventName:%s]:%o",e,u),Boolean(t)}}},{key:"on",value:function(e,t){return i(o(r.prototype),"on",this).call(this,e,t),this}},{key:"off",value:function(e,t){return i(o(r.prototype),"off",this).call(this,e,t),this}},{key:"addListener",value:function(e,t){return i(o(r.prototype),"on",this).call(this,e,t),this}},{key:"prependListener",value:function(e,t){return i(o(r.prototype),"prependListener",this).call(this,e,t),this}},{key:"once",value:function(e,t){return i(o(r.prototype),"once",this).call(this,e,t),this}},{key:"prependOnceListener",value:function(e,t){return i(o(r.prototype),"prependOnceListener",this).call(this,e,t),this}},{key:"removeListener",value:function(e,t){return i(o(r.prototype),"off",this).call(this,e,t),this}},{key:"removeAllListeners",value:function(e){return i(o(r.prototype),"removeAllListeners",this).call(this,e),this}},{key:"listenerCount",value:function(e){return i(o(r.prototype),"listenerCount",this).call(this,e)}},{key:"listeners",value:function(e){return i(o(r.prototype),"listeners",this).call(this,e)}},{key:"rawListeners",value:function(e){return i(o(r.prototype),"rawListeners",this).call(this,e)}}]),r}(u.EventEmitter);t.EnhancedEventEmitter=d},4115:function(e,t,r){"use strict";var n=r(6690).default,a=r(9728).default,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=void 0;var o=i(r(8392)),s="mediasoup-client",c=function(){function e(t){n(this,e),t?(this._debug=(0,o.default)("".concat(s,":").concat(t)),this._warn=(0,o.default)("".concat(s,":WARN:").concat(t)),this._error=(0,o.default)("".concat(s,":ERROR:").concat(t))):(this._debug=(0,o.default)(s),this._warn=(0,o.default)("".concat(s,":WARN")),this._error=(0,o.default)("".concat(s,":ERROR"))),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}return a(e,[{key:"debug",get:function(){return this._debug}},{key:"warn",get:function(){return this._warn}},{key:"error",get:function(){return this._error}}]),e}();t.Logger=c},9277:function(e,t,r){"use strict";var n=r(7061).default,a=r(7156).default,i=r(6690).default,o=r(9728).default,s=r(6115).default,c=r(1655).default,u=r(6389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Producer=void 0;var l=r(4115),d=r(7318),p=r(6431),f=new l.Logger("Producer"),h=function(e){c(r,e);var t=u(r);function r(e){var n,a=e.id,o=e.localId,c=e.rtpSender,u=e.track,l=e.rtpParameters,p=e.stopTracks,h=e.disableTrackOnPause,m=e.zeroRtpOnPause,v=e.appData;return i(this,r),(n=t.call(this))._closed=!1,n._observer=new d.EnhancedEventEmitter,f.debug("constructor()"),n._id=a,n._localId=o,n._rtpSender=c,n._track=u,n._kind=u.kind,n._rtpParameters=l,n._paused=!!h&&!u.enabled,n._maxSpatialLayer=void 0,n._stopTracks=p,n._disableTrackOnPause=h,n._zeroRtpOnPause=m,n._appData=v||{},n.onTrackEnded=n.onTrackEnded.bind(s(n)),n.handleTrack(),n}return o(r,[{key:"id",get:function(){return this._id}},{key:"localId",get:function(){return this._localId}},{key:"closed",get:function(){return this._closed}},{key:"kind",get:function(){return this._kind}},{key:"rtpSender",get:function(){return this._rtpSender}},{key:"track",get:function(){return this._track}},{key:"rtpParameters",get:function(){return this._rtpParameters}},{key:"paused",get:function(){return this._paused}},{key:"maxSpatialLayer",get:function(){return this._maxSpatialLayer}},{key:"appData",get:function(){return this._appData},set:function(e){this._appData=e}},{key:"observer",get:function(){return this._observer}},{key:"close",value:function(){this._closed||(f.debug("close()"),this._closed=!0,this.destroyTrack(),this.emit("@close"),this._observer.safeEmit("close"))}},{key:"transportClosed",value:function(){this._closed||(f.debug("transportClosed()"),this._closed=!0,this.destroyTrack(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}},{key:"getStats",value:function(){var e=a(n().mark((function e(){var t=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._closed){e.next=2;break}throw new p.InvalidStateError("closed");case 2:return e.abrupt("return",new Promise((function(e,r){t.safeEmit("@getstats",e,r)})));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"pause",value:function(){var e=this;f.debug("pause()"),this._closed?f.error("pause() | Producer closed"):(this._paused=!0,this._track&&this._disableTrackOnPause&&(this._track.enabled=!1),this._zeroRtpOnPause&&new Promise((function(t,r){e.safeEmit("@pause",t,r)})).catch((function(){})),this._observer.safeEmit("pause"))}},{key:"resume",value:function(){var e=this;f.debug("resume()"),this._closed?f.error("resume() | Producer closed"):(this._paused=!1,this._track&&this._disableTrackOnPause&&(this._track.enabled=!0),this._zeroRtpOnPause&&new Promise((function(t,r){e.safeEmit("@resume",t,r)})).catch((function(){})),this._observer.safeEmit("resume"))}},{key:"replaceTrack",value:function(){var e=a(n().mark((function e(t){var r,a=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.track,f.debug("replaceTrack() [track:%o]",r),!this._closed){e.next=7;break}if(r&&this._stopTracks)try{r.stop()}catch(n){}throw new p.InvalidStateError("closed");case 7:if(!r||"ended"!==r.readyState){e.next=9;break}throw new p.InvalidStateError("track ended");case 9:if(r!==this._track){e.next=12;break}return f.debug("replaceTrack() | same track, ignored"),e.abrupt("return");case 12:return e.next=14,new Promise((function(e,t){a.safeEmit("@replacetrack",r,e,t)}));case 14:this.destroyTrack(),this._track=r,this._track&&this._disableTrackOnPause&&(this._paused?this._paused&&(this._track.enabled=!1):this._track.enabled=!0),this.handleTrack();case 18:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setMaxSpatialLayer",value:function(){var e=a(n().mark((function e(t){var r=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._closed){e.next=4;break}throw new p.InvalidStateError("closed");case 4:if("video"===this._kind){e.next=8;break}throw new p.UnsupportedError("not a video Producer");case 8:if("number"===typeof t){e.next=10;break}throw new TypeError("invalid spatialLayer");case 10:if(t!==this._maxSpatialLayer){e.next=12;break}return e.abrupt("return");case 12:return e.next=14,new Promise((function(e,n){r.safeEmit("@setmaxspatiallayer",t,e,n)})).catch((function(){}));case 14:this._maxSpatialLayer=t;case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setRtpEncodingParameters",value:function(){var e=a(n().mark((function e(t){var r=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._closed){e.next=4;break}throw new p.InvalidStateError("closed");case 4:if("object"===typeof t){e.next=6;break}throw new TypeError("invalid params");case 6:return e.next=8,new Promise((function(e,n){r.safeEmit("@setrtpencodingparameters",t,e,n)}));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onTrackEnded",value:function(){f.debug('track "ended" event'),this.safeEmit("trackended"),this._observer.safeEmit("trackended")}},{key:"handleTrack",value:function(){this._track&&this._track.addEventListener("ended",this.onTrackEnded)}},{key:"destroyTrack",value:function(){if(this._track)try{this._track.removeEventListener("ended",this.onTrackEnded),this._stopTracks&&this._track.stop()}catch(e){}}}]),r}(d.EnhancedEventEmitter);t.Producer=h},2366:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1045:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},475:function(e,t,r){"use strict";var n=r(861).default,a=r(7061).default,i=r(7156).default,o=r(4704).default,s=r(1655).default,c=r(6389).default,u=r(9728).default,l=r(6690).default,d=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),p=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),f=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&d(t,e,r);return p(t,e),t},h=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Transport=void 0;var m=r(9647),v=h(r(4183)),g=r(4115),y=r(7318),b=r(6431),k=f(r(3001)),w=f(r(1777)),_=r(9277),S=r(1098),x=r(7358),C=r(6919),P=new g.Logger("Transport"),R=u((function e(t){var r=this;l(this,e),this.consumerOptions=t,this.promise=new Promise((function(e,t){r.resolve=e,r.reject=t}))})),T=function(e){s(r,e);var t=c(r);function r(e){var n,a=e.direction,i=e.id,o=e.iceParameters,s=e.iceCandidates,c=e.dtlsParameters,u=e.sctpParameters,d=e.iceServers,p=e.iceTransportPolicy,f=e.additionalSettings,h=e.proprietaryConstraints,v=e.appData,g=e.handlerFactory,b=e.extendedRtpCapabilities,w=e.canProduceByKind;return l(this,r),(n=t.call(this))._closed=!1,n._connectionState="new",n._producers=new Map,n._consumers=new Map,n._dataProducers=new Map,n._dataConsumers=new Map,n._probatorConsumerCreated=!1,n._awaitQueue=new m.AwaitQueue,n._pendingConsumerTasks=[],n._consumerCreationInProgress=!1,n._pendingPauseConsumers=new Map,n._consumerPauseInProgress=!1,n._pendingResumeConsumers=new Map,n._consumerResumeInProgress=!1,n._pendingCloseConsumers=new Map,n._consumerCloseInProgress=!1,n._observer=new y.EnhancedEventEmitter,P.debug("constructor() [id:%s, direction:%s]",i,a),n._id=i,n._direction=a,n._extendedRtpCapabilities=b,n._canProduceByKind=w,n._maxSctpMessageSize=u?u.maxMessageSize:null,delete(f=k.clone(f,{})).iceServers,delete f.iceTransportPolicy,delete f.bundlePolicy,delete f.rtcpMuxPolicy,delete f.sdpSemantics,n._handler=g(),n._handler.run({direction:a,iceParameters:o,iceCandidates:s,dtlsParameters:c,sctpParameters:u,iceServers:d,iceTransportPolicy:p,additionalSettings:f,proprietaryConstraints:h,extendedRtpCapabilities:b}),n._appData=v||{},n.handleHandler(),n}return u(r,[{key:"id",get:function(){return this._id}},{key:"closed",get:function(){return this._closed}},{key:"direction",get:function(){return this._direction}},{key:"handler",get:function(){return this._handler}},{key:"connectionState",get:function(){return this._connectionState}},{key:"appData",get:function(){return this._appData},set:function(e){this._appData=e}},{key:"observer",get:function(){return this._observer}},{key:"close",value:function(){if(!this._closed){P.debug("close()"),this._closed=!0,this._awaitQueue.stop(),this._handler.close();var e,t=o(this._producers.values());try{for(t.s();!(e=t.n()).done;){e.value.transportClosed()}}catch(u){t.e(u)}finally{t.f()}this._producers.clear();var r,n=o(this._consumers.values());try{for(n.s();!(r=n.n()).done;){r.value.transportClosed()}}catch(u){n.e(u)}finally{n.f()}this._consumers.clear();var a,i=o(this._dataProducers.values());try{for(i.s();!(a=i.n()).done;){a.value.transportClosed()}}catch(u){i.e(u)}finally{i.f()}this._dataProducers.clear();var s,c=o(this._dataConsumers.values());try{for(c.s();!(s=c.n()).done;){s.value.transportClosed()}}catch(u){c.e(u)}finally{c.f()}this._dataConsumers.clear(),this._observer.safeEmit("close")}}},{key:"getStats",value:function(){var e=i(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._closed){e.next=2;break}throw new b.InvalidStateError("closed");case 2:return e.abrupt("return",this._handler.getTransportStats());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"restartIce",value:function(){var e=i(a().mark((function e(t){var r,n=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.iceParameters,P.debug("restartIce()"),!this._closed){e.next=6;break}throw new b.InvalidStateError("closed");case 6:if(r){e.next=8;break}throw new TypeError("missing iceParameters");case 8:return e.abrupt("return",this._awaitQueue.push(i(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n._handler.restartIce(r));case 1:case"end":return e.stop()}}),e)}))),"transport.restartIce()"));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateIceServers",value:function(){var e=i(a().mark((function e(){var t,r=this,n=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(n.length>0&&void 0!==n[0]?n[0]:{}).iceServers,P.debug("updateIceServers()"),!this._closed){e.next=6;break}throw new b.InvalidStateError("closed");case 6:if(Array.isArray(t)){e.next=8;break}throw new TypeError("missing iceServers");case 8:return e.abrupt("return",this._awaitQueue.push(i(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r._handler.updateIceServers(t));case 1:case"end":return e.stop()}}),e)}))),"transport.updateIceServers()"));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"produce",value:function(){var e=i(a().mark((function e(){var t,r,n,o,s,c,u,l,d,p,f,h,m,v=this,g=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(t=g.length>0&&void 0!==g[0]?g[0]:{}).track,n=t.encodings,o=t.codecOptions,s=t.codec,c=t.stopTracks,u=void 0===c||c,l=t.disableTrackOnPause,d=void 0===l||l,p=t.zeroRtpOnPause,f=void 0!==p&&p,h=t.appData,m=void 0===h?{}:h,P.debug("produce() [track:%o]",r),!this._closed){e.next=6;break}throw new b.InvalidStateError("closed");case 6:if(r){e.next=10;break}throw new TypeError("missing track");case 10:if("send"===this._direction){e.next=14;break}throw new b.UnsupportedError("not a sending Transport");case 14:if(this._canProduceByKind[r.kind]){e.next=18;break}throw new b.UnsupportedError("cannot produce ".concat(r.kind));case 18:if("ended"!==r.readyState){e.next=22;break}throw new b.InvalidStateError("track ended");case 22:if(0!==this.listenerCount("connect")||"new"!==this._connectionState){e.next=26;break}throw new TypeError('no "connect" listener set into this transport');case 26:if(0!==this.listenerCount("produce")){e.next=30;break}throw new TypeError('no "produce" listener set into this transport');case 30:if(!m||"object"===typeof m){e.next=32;break}throw new TypeError("if given, appData must be an object");case 32:return e.abrupt("return",this._awaitQueue.push(i(a().mark((function e(){var t,i,c,l,p,h,g,y;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n||Array.isArray(n)){e.next=4;break}throw TypeError("encodings must be an array");case 4:n&&0===n.length?t=void 0:n&&(t=n.map((function(e){var t={active:!0};return!1===e.active&&(t.active=!1),"boolean"===typeof e.dtx&&(t.dtx=e.dtx),"string"===typeof e.scalabilityMode&&(t.scalabilityMode=e.scalabilityMode),"number"===typeof e.scaleResolutionDownBy&&(t.scaleResolutionDownBy=e.scaleResolutionDownBy),"number"===typeof e.maxBitrate&&(t.maxBitrate=e.maxBitrate),"number"===typeof e.maxFramerate&&(t.maxFramerate=e.maxFramerate),"boolean"===typeof e.adaptivePtime&&(t.adaptivePtime=e.adaptivePtime),"string"===typeof e.priority&&(t.priority=e.priority),"string"===typeof e.networkPriority&&(t.networkPriority=e.networkPriority),t})));case 5:return e.next=7,v._handler.send({track:r,encodings:t,codecOptions:o,codec:s});case 7:return i=e.sent,c=i.localId,l=i.rtpParameters,p=i.rtpSender,e.prev=11,w.validateRtpParameters(l),e.next=15,new Promise((function(e,t){v.safeEmit("produce",{kind:r.kind,rtpParameters:l,appData:m},e,t)}));case 15:return h=e.sent,g=h.id,y=new _.Producer({id:g,localId:c,rtpSender:p,track:r,rtpParameters:l,stopTracks:u,disableTrackOnPause:d,zeroRtpOnPause:f,appData:m}),v._producers.set(y.id,y),v.handleProducer(y),v._observer.safeEmit("newproducer",y),e.abrupt("return",y);case 24:throw e.prev=24,e.t0=e.catch(11),v._handler.stopSending(c).catch((function(){})),e.t0;case 28:case"end":return e.stop()}}),e,null,[[11,24]])}))),"transport.produce()").catch((function(e){if(u)try{r.stop()}catch(t){}throw e})));case 33:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"consume",value:function(){var e=i(a().mark((function e(t){var r,n,i,o,s,c,u,l,d=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.id,n=t.producerId,i=t.kind,o=t.rtpParameters,s=t.streamId,c=t.appData,u=void 0===c?{}:c,P.debug("consume()"),o=k.clone(o,void 0),!this._closed){e.next=7;break}throw new b.InvalidStateError("closed");case 7:if("recv"===this._direction){e.next=11;break}throw new b.UnsupportedError("not a receiving Transport");case 11:if("string"===typeof r){e.next=15;break}throw new TypeError("missing id");case 15:if("string"===typeof n){e.next=19;break}throw new TypeError("missing producerId");case 19:if("audio"===i||"video"===i){e.next=23;break}throw new TypeError("invalid kind '".concat(i,"'"));case 23:if(0!==this.listenerCount("connect")||"new"!==this._connectionState){e.next=27;break}throw new TypeError('no "connect" listener set into this transport');case 27:if(!u||"object"===typeof u){e.next=29;break}throw new TypeError("if given, appData must be an object");case 29:if(w.canReceive(o,this._extendedRtpCapabilities)){e.next=32;break}throw new b.UnsupportedError("cannot consume this Producer");case 32:return l=new R({id:r,producerId:n,kind:i,rtpParameters:o,streamId:s,appData:u}),this._pendingConsumerTasks.push(l),(0,v.default)((function(){d._closed||!1===d._consumerCreationInProgress&&d.createPendingConsumers()})),e.abrupt("return",l.promise);case 36:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"produceData",value:function(){var e=i(a().mark((function e(){var t,r,n,o,s,c,u,l,d,p,f,h=this,m=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(t=m.length>0&&void 0!==m[0]?m[0]:{}).ordered,n=void 0===r||r,o=t.maxPacketLifeTime,s=t.maxRetransmits,c=t.label,u=void 0===c?"":c,l=t.protocol,d=void 0===l?"":l,p=t.appData,f=void 0===p?{}:p,P.debug("produceData()"),!this._closed){e.next=6;break}throw new b.InvalidStateError("closed");case 6:if("send"===this._direction){e.next=10;break}throw new b.UnsupportedError("not a sending Transport");case 10:if(this._maxSctpMessageSize){e.next=14;break}throw new b.UnsupportedError("SCTP not enabled by remote Transport");case 14:if(0!==this.listenerCount("connect")||"new"!==this._connectionState){e.next=18;break}throw new TypeError('no "connect" listener set into this transport');case 18:if(0!==this.listenerCount("producedata")){e.next=22;break}throw new TypeError('no "producedata" listener set into this transport');case 22:if(!f||"object"===typeof f){e.next=24;break}throw new TypeError("if given, appData must be an object");case 24:return(o||s)&&(n=!1),e.abrupt("return",this._awaitQueue.push(i(a().mark((function e(){var t,r,i,c,l,p;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h._handler.sendDataChannel({ordered:n,maxPacketLifeTime:o,maxRetransmits:s,label:u,protocol:d});case 2:return t=e.sent,r=t.dataChannel,i=t.sctpStreamParameters,w.validateSctpStreamParameters(i),e.next=8,new Promise((function(e,t){h.safeEmit("producedata",{sctpStreamParameters:i,label:u,protocol:d,appData:f},e,t)}));case 8:return c=e.sent,l=c.id,p=new x.DataProducer({id:l,dataChannel:r,sctpStreamParameters:i,appData:f}),h._dataProducers.set(p.id,p),h.handleDataProducer(p),h._observer.safeEmit("newdataproducer",p),e.abrupt("return",p);case 15:case"end":return e.stop()}}),e)}))),"transport.produceData()"));case 26:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"consumeData",value:function(){var e=i(a().mark((function e(t){var r,n,o,s,c,u,l,d,p,f=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.id,n=t.dataProducerId,o=t.sctpStreamParameters,s=t.label,c=void 0===s?"":s,u=t.protocol,l=void 0===u?"":u,d=t.appData,p=void 0===d?{}:d,P.debug("consumeData()"),o=k.clone(o,void 0),!this._closed){e.next=7;break}throw new b.InvalidStateError("closed");case 7:if("recv"===this._direction){e.next=11;break}throw new b.UnsupportedError("not a receiving Transport");case 11:if(this._maxSctpMessageSize){e.next=15;break}throw new b.UnsupportedError("SCTP not enabled by remote Transport");case 15:if("string"===typeof r){e.next=19;break}throw new TypeError("missing id");case 19:if("string"===typeof n){e.next=23;break}throw new TypeError("missing dataProducerId");case 23:if(0!==this.listenerCount("connect")||"new"!==this._connectionState){e.next=27;break}throw new TypeError('no "connect" listener set into this transport');case 27:if(!p||"object"===typeof p){e.next=29;break}throw new TypeError("if given, appData must be an object");case 29:return w.validateSctpStreamParameters(o),e.abrupt("return",this._awaitQueue.push(i(a().mark((function e(){var t,i,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f._handler.receiveDataChannel({sctpStreamParameters:o,label:c,protocol:l});case 2:return t=e.sent,i=t.dataChannel,s=new C.DataConsumer({id:r,dataProducerId:n,dataChannel:i,sctpStreamParameters:o,appData:p}),f._dataConsumers.set(s.id,s),f.handleDataConsumer(s),f._observer.safeEmit("newdataconsumer",s),e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)}))),"transport.consumeData()"));case 31:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createPendingConsumers",value:function(){var e=i(a().mark((function e(){var t=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._consumerCreationInProgress=!0,this._awaitQueue.push(i(a().mark((function e(){var r,i,s,c,u,l,d,p,f,h,m,v,g,y,b,k,_,x,C,R,T,E,O,D,M,j,I,A;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t._pendingConsumerTasks.length){e.next=3;break}return P.debug("createPendingConsumers() | there is no Consumer to be created"),e.abrupt("return");case 3:r=n(t._pendingConsumerTasks),t._pendingConsumerTasks=[],i=void 0,s=[],c=o(r);try{for(c.s();!(u=c.n()).done;)l=u.value,d=l.consumerOptions,p=d.id,f=d.kind,h=d.rtpParameters,m=d.streamId,s.push({trackId:p,kind:f,rtpParameters:h,streamId:m})}catch(a){c.e(a)}finally{c.f()}return e.prev=9,e.next=12,t._handler.receive(s);case 12:for(v=e.sent,g=0;g<v.length;++g)y=r[g],b=v[g],k=y.consumerOptions,_=k.id,x=k.producerId,C=k.kind,R=k.rtpParameters,T=k.appData,E=b.localId,O=b.rtpReceiver,D=b.track,M=new S.Consumer({id:_,localId:E,producerId:x,rtpReceiver:O,track:D,rtpParameters:R,appData:T}),t._consumers.set(M.id,M),t.handleConsumer(M),t._probatorConsumerCreated||i||"video"!==C||(i=M),t._observer.safeEmit("newconsumer",M),y.resolve(M);e.next=20;break;case 16:e.prev=16,e.t0=e.catch(9),j=o(r);try{for(j.s();!(I=j.n()).done;)I.value.reject(e.t0)}catch(a){j.e(a)}finally{j.f()}case 20:if(!i){e.next=32;break}return e.prev=21,A=w.generateProbatorRtpParameters(i.rtpParameters),e.next=25,t._handler.receive([{trackId:"probator",kind:"video",rtpParameters:A}]);case 25:P.debug("createPendingConsumers() | Consumer for RTP probation created"),t._probatorConsumerCreated=!0,e.next=32;break;case 29:e.prev=29,e.t1=e.catch(21),P.error("createPendingConsumers() | failed to create Consumer for RTP probation:%o",e.t1);case 32:case"end":return e.stop()}}),e,null,[[9,16],[21,29]])}))),"transport.createPendingConsumers()").then((function(){t._consumerCreationInProgress=!1,t._pendingConsumerTasks.length>0&&t.createPendingConsumers()})).catch((function(){}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"pausePendingConsumers",value:function(){var e=this;this._consumerPauseInProgress=!0,this._awaitQueue.push(i(a().mark((function t(){var r,n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==e._pendingPauseConsumers.size){t.next=3;break}return P.debug("pausePendingConsumers() | there is no Consumer to be paused"),t.abrupt("return");case 3:return r=Array.from(e._pendingPauseConsumers.values()),e._pendingPauseConsumers.clear(),t.prev=5,n=r.map((function(e){return e.localId})),t.next=9,e._handler.pauseReceiving(n);case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(5),P.error("pausePendingConsumers() | failed to pause Consumers:",t.t0);case 14:case"end":return t.stop()}}),t,null,[[5,11]])}))),"transport.pausePendingConsumers").then((function(){e._consumerPauseInProgress=!1,e._pendingPauseConsumers.size>0&&e.pausePendingConsumers()})).catch((function(){}))}},{key:"resumePendingConsumers",value:function(){var e=this;this._consumerResumeInProgress=!0,this._awaitQueue.push(i(a().mark((function t(){var r,n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==e._pendingResumeConsumers.size){t.next=3;break}return P.debug("resumePendingConsumers() | there is no Consumer to be resumed"),t.abrupt("return");case 3:return r=Array.from(e._pendingResumeConsumers.values()),e._pendingResumeConsumers.clear(),t.prev=5,n=r.map((function(e){return e.localId})),t.next=9,e._handler.resumeReceiving(n);case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(5),P.error("resumePendingConsumers() | failed to resume Consumers:",t.t0);case 14:case"end":return t.stop()}}),t,null,[[5,11]])}))),"transport.resumePendingConsumers").then((function(){e._consumerResumeInProgress=!1,e._pendingResumeConsumers.size>0&&e.resumePendingConsumers()})).catch((function(){}))}},{key:"closePendingConsumers",value:function(){var e=this;this._consumerCloseInProgress=!0,this._awaitQueue.push(i(a().mark((function t(){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==e._pendingCloseConsumers.size){t.next=3;break}return P.debug("closePendingConsumers() | there is no Consumer to be closed"),t.abrupt("return");case 3:return r=Array.from(e._pendingCloseConsumers.values()),e._pendingCloseConsumers.clear(),t.prev=5,t.next=8,e._handler.stopReceiving(r.map((function(e){return e.localId})));case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(5),P.error("closePendingConsumers() | failed to close Consumers:",t.t0);case 13:case"end":return t.stop()}}),t,null,[[5,10]])}))),"transport.closePendingConsumers").then((function(){e._consumerCloseInProgress=!1,e._pendingCloseConsumers.size>0&&e.closePendingConsumers()})).catch((function(){}))}},{key:"handleHandler",value:function(){var e=this,t=this._handler;t.on("@connect",(function(t,r,n){var a=t.dtlsParameters;e._closed?n(new b.InvalidStateError("closed")):e.safeEmit("connect",{dtlsParameters:a},r,n)})),t.on("@connectionstatechange",(function(t){t!==e._connectionState&&(P.debug("connection state changed to %s",t),e._connectionState=t,e._closed||e.safeEmit("connectionstatechange",t))}))}},{key:"handleProducer",value:function(e){var t=this;e.on("@close",(function(){t._producers.delete(e.id),t._closed||t._awaitQueue.push(i(a().mark((function r(){return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",t._handler.stopSending(e.localId));case 1:case"end":return r.stop()}}),r)}))),"producer @close event").catch((function(e){return P.warn("producer.close() failed:%o",e)}))})),e.on("@pause",(function(r,n){t._awaitQueue.push(i(a().mark((function r(){return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",t._handler.pauseSending(e.localId));case 1:case"end":return r.stop()}}),r)}))),"producer @pause event").then(r).catch(n)})),e.on("@resume",(function(r,n){t._awaitQueue.push(i(a().mark((function r(){return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",t._handler.resumeSending(e.localId));case 1:case"end":return r.stop()}}),r)}))),"producer @resume event").then(r).catch(n)})),e.on("@replacetrack",(function(r,n,o){t._awaitQueue.push(i(a().mark((function n(){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t._handler.replaceTrack(e.localId,r));case 1:case"end":return n.stop()}}),n)}))),"producer @replacetrack event").then(n).catch(o)})),e.on("@setmaxspatiallayer",(function(r,n,o){t._awaitQueue.push(i(a().mark((function n(){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t._handler.setMaxSpatialLayer(e.localId,r));case 1:case"end":return n.stop()}}),n)}))),"producer @setmaxspatiallayer event").then(n).catch(o)})),e.on("@setrtpencodingparameters",(function(r,n,o){t._awaitQueue.push(i(a().mark((function n(){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t._handler.setRtpEncodingParameters(e.localId,r));case 1:case"end":return n.stop()}}),n)}))),"producer @setrtpencodingparameters event").then(n).catch(o)})),e.on("@getstats",(function(r,n){if(t._closed)return n(new b.InvalidStateError("closed"));t._handler.getSenderStats(e.localId).then(r).catch(n)}))}},{key:"handleConsumer",value:function(e){var t=this;e.on("@close",(function(){t._consumers.delete(e.id),t._pendingPauseConsumers.delete(e.id),t._pendingResumeConsumers.delete(e.id),t._closed||(t._pendingCloseConsumers.set(e.id,e),!1===t._consumerCloseInProgress&&t.closePendingConsumers())})),e.on("@pause",(function(){t._pendingResumeConsumers.has(e.id)&&t._pendingResumeConsumers.delete(e.id),t._pendingPauseConsumers.set(e.id,e),(0,v.default)((function(){t._closed||!1===t._consumerPauseInProgress&&t.pausePendingConsumers()}))})),e.on("@resume",(function(){t._pendingPauseConsumers.has(e.id)&&t._pendingPauseConsumers.delete(e.id),t._pendingResumeConsumers.set(e.id,e),(0,v.default)((function(){t._closed||!1===t._consumerResumeInProgress&&t.resumePendingConsumers()}))})),e.on("@getstats",(function(r,n){if(t._closed)return n(new b.InvalidStateError("closed"));t._handler.getReceiverStats(e.localId).then(r).catch(n)}))}},{key:"handleDataProducer",value:function(e){var t=this;e.on("@close",(function(){t._dataProducers.delete(e.id)}))}},{key:"handleDataConsumer",value:function(e){var t=this;e.on("@close",(function(){t._dataConsumers.delete(e.id)}))}}]),r}(y.EnhancedEventEmitter);t.Transport=T},6431:function(e,t,r){"use strict";var n=r(9728).default,a=r(6690).default,i=r(6115).default,o=r(1655).default,s=r(6389).default,c=r(3496).default;Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidStateError=t.UnsupportedError=void 0;var u=function(e){o(r,e);var t=s(r);function r(e){var n;return a(this,r),(n=t.call(this,e)).name="UnsupportedError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(i(n),r):n.stack=new Error(e).stack,n}return n(r)}(c(Error));t.UnsupportedError=u;var l=function(e){o(r,e);var t=s(r);function r(e){var n;return a(this,r),(n=t.call(this,e)).name="InvalidStateError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(i(n),r):n.stack=new Error(e).stack,n}return n(r)}(c(Error));t.InvalidStateError=l},4197:function(e,t,r){"use strict";var n=r(4704).default,a=r(2122).default,i=r(7061).default,o=r(7156).default,s=r(6690).default,c=r(9728).default,u=r(1655).default,l=r(6389).default,d=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),p=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),f=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&d(t,e,r);return p(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Chrome111=void 0;var h=f(r(5861)),m=r(4115),v=f(r(3001)),g=f(r(1777)),y=f(r(8978)),b=f(r(8480)),k=f(r(4032)),w=r(4376),_=r(9678),S=r(8732),x=new m.Logger("Chrome111"),C={OS:1024,MIS:1024},P=function(e){u(r,e);var t=l(r);function r(){var e;return s(this,r),(e=t.call(this))._mapMidTransceiver=new Map,e._sendStream=new MediaStream,e._hasDataChannelMediaSection=!1,e._nextSendSctpStreamId=0,e._transportReady=!1,e}return c(r,[{key:"name",get:function(){return"Chrome111"}},{key:"close",value:function(){if(x.debug("close()"),this._pc)try{this._pc.close()}catch(e){}this.emit("@close")}},{key:"getNativeRtpCapabilities",value:function(){var e=o(i().mark((function e(){var t,r,n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x.debug("getNativeRtpCapabilities()"),t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"}),e.prev=2,t.addTransceiver("audio"),t.addTransceiver("video"),e.next=7,t.createOffer();case 7:r=e.sent;try{t.close()}catch(i){}return n=h.parse(r.sdp),a=y.extractRtpCapabilities({sdpObject:n}),k.addNackSuppportForOpus(a),e.abrupt("return",a);case 15:e.prev=15,e.t0=e.catch(2);try{t.close()}catch(o){}throw e.t0;case 19:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(){return e.apply(this,arguments)}}()},{key:"getNativeSctpCapabilities",value:function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x.debug("getNativeSctpCapabilities()"),e.abrupt("return",{numStreams:C});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"run",value:function(e){var t=this,r=e.direction,n=e.iceParameters,i=e.iceCandidates,o=e.dtlsParameters,s=e.sctpParameters,c=e.iceServers,u=e.iceTransportPolicy,l=e.additionalSettings,d=e.proprietaryConstraints,p=e.extendedRtpCapabilities;x.debug("run()"),this._direction=r,this._remoteSdp=new _.RemoteSdp({iceParameters:n,iceCandidates:i,dtlsParameters:o,sctpParameters:s}),this._sendingRtpParametersByKind={audio:g.getSendingRtpParameters("audio",p),video:g.getSendingRtpParameters("video",p)},this._sendingRemoteRtpParametersByKind={audio:g.getSendingRemoteRtpParameters("audio",p),video:g.getSendingRemoteRtpParameters("video",p)},o.role&&"auto"!==o.role&&(this._forcedLocalDtlsRole="server"===o.role?"client":"server"),this._pc=new RTCPeerConnection(a({iceServers:c||[],iceTransportPolicy:u||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"},l),d),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",(function(){t.emit("@connectionstatechange",t._pc.connectionState)})):(x.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.addEventListener("iceconnectionstatechange",(function(){switch(t._pc.iceConnectionState){case"checking":t.emit("@connectionstatechange","connecting");break;case"connected":case"completed":t.emit("@connectionstatechange","connected");break;case"failed":t.emit("@connectionstatechange","failed");break;case"disconnected":t.emit("@connectionstatechange","disconnected");break;case"closed":t.emit("@connectionstatechange","closed")}})))}},{key:"updateIceServers",value:function(){var e=o(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x.debug("updateIceServers()"),(r=this._pc.getConfiguration()).iceServers=t,this._pc.setConfiguration(r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"restartIce",value:function(){var e=o(i().mark((function e(t){var r,n,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),this._transportReady){e.next=4;break}return e.abrupt("return");case 4:if("send"!==this._direction){e.next=17;break}return e.next=7,this._pc.createOffer({iceRestart:!0});case 7:return r=e.sent,x.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),e.next=11,this._pc.setLocalDescription(r);case 11:return n={type:"answer",sdp:this._remoteSdp.getSdp()},x.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),e.next=15,this._pc.setRemoteDescription(n);case 15:e.next=27;break;case 17:return a={type:"offer",sdp:this._remoteSdp.getSdp()},x.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",a),e.next=21,this._pc.setRemoteDescription(a);case 21:return e.next=23,this._pc.createAnswer();case 23:return o=e.sent,x.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",o),e.next=27,this._pc.setLocalDescription(o);case 27:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTransportStats",value:function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._pc.getStats());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"send",value:function(){var e=o(i().mark((function e(t){var r,a,o,s,c,u,l,d,p,f,m,k,w,_,C,P,R,T,E,O,D,M,j,I;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.track,a=t.encodings,o=t.codecOptions,s=t.codec,this.assertSendDirection(),x.debug("send() [kind:%s, track.id:%s]",r.kind,r.id),a&&a.length>1){a.forEach((function(e,t){e.rid="r".concat(t)})),u=1,l=1,d=n(a);try{for(d.s();!(p=d.n()).done;)f=p.value,(m=f.scalabilityMode?(0,S.parse)(f.scalabilityMode).temporalLayers:3)>l&&(l=m)}catch(i){d.e(i)}finally{d.f()}k=n(a);try{for(k.s();!(w=k.n()).done;)(_=w.value).rid="r".concat(u++),_.scalabilityMode="L1T".concat(l)}catch(i){k.e(i)}finally{k.f()}}return(C=v.clone(this._sendingRtpParametersByKind[r.kind],{})).codecs=g.reduceCodecs(C.codecs,s),(P=v.clone(this._sendingRemoteRtpParametersByKind[r.kind],{})).codecs=g.reduceCodecs(P.codecs,s),R=this._remoteSdp.getNextMediaSectionIdx(),T=this._pc.addTransceiver(r,{direction:"sendonly",streams:[this._sendStream],sendEncodings:a}),e.next=12,this._pc.createOffer();case 12:if(E=e.sent,O=h.parse(E.sdp),this._transportReady){e.next=17;break}return e.next=17,this.setupTransport({localDtlsRole:null!==(c=this._forcedLocalDtlsRole)&&void 0!==c?c:"client",localSdpObject:O});case 17:return x.debug("send() | calling pc.setLocalDescription() [offer:%o]",E),e.next=20,this._pc.setLocalDescription(E);case 20:return D=T.mid,C.mid=D,O=h.parse(this._pc.localDescription.sdp),M=O.media[R.idx],C.rtcp.cname=y.getCname({offerMediaObject:M}),a?1===a.length?(j=b.getRtpEncodings({offerMediaObject:M}),Object.assign(j[0],a[0]),C.encodings=j):C.encodings=a:C.encodings=b.getRtpEncodings({offerMediaObject:M}),this._remoteSdp.send({offerMediaObject:M,reuseMid:R.reuseMid,offerRtpParameters:C,answerRtpParameters:P,codecOptions:o,extmapAllowMixed:!0}),I={type:"answer",sdp:this._remoteSdp.getSdp()},x.debug("send() | calling pc.setRemoteDescription() [answer:%o]",I),e.next=31,this._pc.setRemoteDescription(I);case 31:return this._mapMidTransceiver.set(D,T),e.abrupt("return",{localId:D,rtpParameters:C,rtpSender:T.sender});case 33:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"stopSending",value:function(){var e=o(i().mark((function e(t){var r,n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.assertSendDirection(),x.debug("stopSending() [localId:%s]",t),r=this._mapMidTransceiver.get(t)){e.next=5;break}throw new Error("associated RTCRtpTransceiver not found");case 5:if(r.sender.replaceTrack(null),this._pc.removeTrack(r.sender),this._remoteSdp.closeMediaSection(r.mid))try{r.stop()}catch(i){}return e.next=11,this._pc.createOffer();case 11:return n=e.sent,x.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n),e.next=15,this._pc.setLocalDescription(n);case 15:return a={type:"answer",sdp:this._remoteSdp.getSdp()},x.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",a),e.next=19,this._pc.setRemoteDescription(a);case 19:this._mapMidTransceiver.delete(t);case 20:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"pauseSending",value:function(){var e=o(i().mark((function e(t){var r,n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.assertSendDirection(),x.debug("pauseSending() [localId:%s]",t),r=this._mapMidTransceiver.get(t)){e.next=5;break}throw new Error("associated RTCRtpTransceiver not found");case 5:return r.direction="inactive",this._remoteSdp.pauseMediaSection(t),e.next=9,this._pc.createOffer();case 9:return n=e.sent,x.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",n),e.next=13,this._pc.setLocalDescription(n);case 13:return a={type:"answer",sdp:this._remoteSdp.getSdp()},x.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",a),e.next=17,this._pc.setRemoteDescription(a);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"resumeSending",value:function(){var e=o(i().mark((function e(t){var r,n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.assertSendDirection(),x.debug("resumeSending() [localId:%s]",t),r=this._mapMidTransceiver.get(t),this._remoteSdp.resumeSendingMediaSection(t),r){e.next=6;break}throw new Error("associated RTCRtpTransceiver not found");case 6:return r.direction="sendonly",e.next=9,this._pc.createOffer();case 9:return n=e.sent,x.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",n),e.next=13,this._pc.setLocalDescription(n);case 13:return a={type:"answer",sdp:this._remoteSdp.getSdp()},x.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",a),e.next=17,this._pc.setRemoteDescription(a);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"replaceTrack",value:function(){var e=o(i().mark((function e(t,r){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.assertSendDirection(),r?x.debug("replaceTrack() [localId:%s, track.id:%s]",t,r.id):x.debug("replaceTrack() [localId:%s, no track]",t),n=this._mapMidTransceiver.get(t)){e.next=5;break}throw new Error("associated RTCRtpTransceiver not found");case 5:return e.next=7,n.sender.replaceTrack(r);case 7:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"setMaxSpatialLayer",value:function(){var e=o(i().mark((function e(t,r){var n,a,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.assertSendDirection(),x.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,r),n=this._mapMidTransceiver.get(t)){e.next=5;break}throw new Error("associated RTCRtpTransceiver not found");case 5:return(a=n.sender.getParameters()).encodings.forEach((function(e,t){e.active=t<=r})),e.next=9,n.sender.setParameters(a);case 9:return this._remoteSdp.muxMediaSectionSimulcast(t,a.encodings),e.next=12,this._pc.createOffer();case 12:return o=e.sent,x.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",o),e.next=16,this._pc.setLocalDescription(o);case 16:return s={type:"answer",sdp:this._remoteSdp.getSdp()},x.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",s),e.next=20,this._pc.setRemoteDescription(s);case 20:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"setRtpEncodingParameters",value:function(){var e=o(i().mark((function e(t,r){var n,o,s,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.assertSendDirection(),x.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,r),n=this._mapMidTransceiver.get(t)){e.next=5;break}throw new Error("associated RTCRtpTransceiver not found");case 5:return(o=n.sender.getParameters()).encodings.forEach((function(e,t){o.encodings[t]=a(a({},e),r)})),e.next=9,n.sender.setParameters(o);case 9:return this._remoteSdp.muxMediaSectionSimulcast(t,o.encodings),e.next=12,this._pc.createOffer();case 12:return s=e.sent,x.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",s),e.next=16,this._pc.setLocalDescription(s);case 16:return c={type:"answer",sdp:this._remoteSdp.getSdp()},x.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",c),e.next=20,this._pc.setRemoteDescription(c);case 20:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getSenderStats",value:function(){var e=o(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.assertSendDirection(),r=this._mapMidTransceiver.get(t)){e.next=4;break}throw new Error("associated RTCRtpTransceiver not found");case 4:return e.abrupt("return",r.sender.getStats());case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendDataChannel",value:function(){var e=o(i().mark((function e(t){var r,n,a,o,s,c,u,l,d,p,f,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.ordered,n=t.maxPacketLifeTime,a=t.maxRetransmits,o=t.label,s=t.protocol,this.assertSendDirection(),u={negotiated:!0,id:this._nextSendSctpStreamId,ordered:r,maxPacketLifeTime:n,maxRetransmits:a,protocol:s},x.debug("sendDataChannel() [options:%o]",u),l=this._pc.createDataChannel(o,u),this._nextSendSctpStreamId=++this._nextSendSctpStreamId%C.MIS,this._hasDataChannelMediaSection){e.next=24;break}return e.next=9,this._pc.createOffer();case 9:if(d=e.sent,p=h.parse(d.sdp),f=p.media.find((function(e){return"application"===e.type})),this._transportReady){e.next=15;break}return e.next=15,this.setupTransport({localDtlsRole:null!==(c=this._forcedLocalDtlsRole)&&void 0!==c?c:"client",localSdpObject:p});case 15:return x.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",d),e.next=18,this._pc.setLocalDescription(d);case 18:return this._remoteSdp.sendSctpAssociation({offerMediaObject:f}),m={type:"answer",sdp:this._remoteSdp.getSdp()},x.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",m),e.next=23,this._pc.setRemoteDescription(m);case 23:this._hasDataChannelMediaSection=!0;case 24:return v={streamId:u.id,ordered:u.ordered,maxPacketLifeTime:u.maxPacketLifeTime,maxRetransmits:u.maxRetransmits},e.abrupt("return",{dataChannel:l,sctpStreamParameters:v});case 26:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"receive",value:function(){var e=o(i().mark((function e(t){var r,a,o,s,c,u,l,d,p,f,m,v,g,b,k,w,_,S,C,P,R=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.assertRecvDirection(),a=[],o=new Map,s=n(t);try{for(s.s();!(c=s.n()).done;)u=c.value,l=u.trackId,d=u.kind,p=u.rtpParameters,f=u.streamId,x.debug("receive() [trackId:%s, kind:%s]",l,d),m=p.mid||String(this._mapMidTransceiver.size),o.set(l,m),this._remoteSdp.receive({mid:m,kind:d,offerRtpParameters:p,streamId:f||p.rtcp.cname,trackId:l})}catch(T){s.e(T)}finally{s.f()}return v={type:"offer",sdp:this._remoteSdp.getSdp()},x.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",v),e.next=9,this._pc.setRemoteDescription(v);case 9:return e.next=11,this._pc.createAnswer();case 11:g=e.sent,b=h.parse(g.sdp),k=n(t),e.prev=14,_=i().mark((function e(){var t,r,n,a,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=w.value,r=t.trackId,n=t.rtpParameters,a=o.get(r),s=b.media.find((function(e){return String(e.mid)===a})),y.applyCodecParameters({offerRtpParameters:n,answerMediaObject:s});case 5:case"end":return e.stop()}}),e)})),k.s();case 17:if((w=k.n()).done){e.next=21;break}return e.delegateYield(_(),"t0",19);case 19:e.next=17;break;case 21:e.next=26;break;case 23:e.prev=23,e.t1=e.catch(14),k.e(e.t1);case 26:return e.prev=26,k.f(),e.finish(26);case 29:if(g={type:"answer",sdp:h.write(b)},this._transportReady){e.next=33;break}return e.next=33,this.setupTransport({localDtlsRole:null!==(r=this._forcedLocalDtlsRole)&&void 0!==r?r:"client",localSdpObject:b});case 33:return x.debug("receive() | calling pc.setLocalDescription() [answer:%o]",g),e.next=36,this._pc.setLocalDescription(g);case 36:S=n(t),e.prev=37,P=i().mark((function e(){var t,r,n,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=C.value,r=t.trackId,n=o.get(r),s=R._pc.getTransceivers().find((function(e){return e.mid===n}))){e.next=8;break}throw new Error("new RTCRtpTransceiver not found");case 8:R._mapMidTransceiver.set(n,s),a.push({localId:n,track:s.receiver.track,rtpReceiver:s.receiver});case 10:case"end":return e.stop()}}),e)})),S.s();case 40:if((C=S.n()).done){e.next=44;break}return e.delegateYield(P(),"t2",42);case 42:e.next=40;break;case 44:e.next=49;break;case 46:e.prev=46,e.t3=e.catch(37),S.e(e.t3);case 49:return e.prev=49,S.f(),e.finish(49);case 52:return e.abrupt("return",a);case 53:case"end":return e.stop()}}),e,this,[[14,23,26,29],[37,46,49,52]])})));return function(t){return e.apply(this,arguments)}}()},{key:"stopReceiving",value:function(){var e=o(i().mark((function e(t){var r,a,o,s,c,u,l,d,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.assertRecvDirection(),r=n(t),e.prev=2,r.s();case 4:if((a=r.n()).done){e.next=13;break}if(o=a.value,x.debug("stopReceiving() [localId:%s]",o),s=this._mapMidTransceiver.get(o)){e.next=10;break}throw new Error("associated RTCRtpTransceiver not found");case 10:this._remoteSdp.closeMediaSection(s.mid);case 11:e.next=4;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return c={type:"offer",sdp:this._remoteSdp.getSdp()},x.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",c),e.next=25,this._pc.setRemoteDescription(c);case 25:return e.next=27,this._pc.createAnswer();case 27:return u=e.sent,x.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",u),e.next=31,this._pc.setLocalDescription(u);case 31:l=n(t);try{for(l.s();!(d=l.n()).done;)p=d.value,this._mapMidTransceiver.delete(p)}catch(i){l.e(i)}finally{l.f()}case 33:case"end":return e.stop()}}),e,this,[[2,15,18,21]])})));return function(t){return e.apply(this,arguments)}}()},{key:"pauseReceiving",value:function(){var e=o(i().mark((function e(t){var r,a,o,s,c,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.assertRecvDirection(),r=n(t),e.prev=2,r.s();case 4:if((a=r.n()).done){e.next=14;break}if(o=a.value,x.debug("pauseReceiving() [localId:%s]",o),s=this._mapMidTransceiver.get(o)){e.next=10;break}throw new Error("associated RTCRtpTransceiver not found");case 10:s.direction="inactive",this._remoteSdp.pauseMediaSection(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:return c={type:"offer",sdp:this._remoteSdp.getSdp()},x.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",c),e.next=26,this._pc.setRemoteDescription(c);case 26:return e.next=28,this._pc.createAnswer();case 28:return u=e.sent,x.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",u),e.next=32,this._pc.setLocalDescription(u);case 32:case"end":return e.stop()}}),e,this,[[2,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()},{key:"resumeReceiving",value:function(){var e=o(i().mark((function e(t){var r,a,o,s,c,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.assertRecvDirection(),r=n(t),e.prev=2,r.s();case 4:if((a=r.n()).done){e.next=14;break}if(o=a.value,x.debug("resumeReceiving() [localId:%s]",o),s=this._mapMidTransceiver.get(o)){e.next=10;break}throw new Error("associated RTCRtpTransceiver not found");case 10:s.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:return c={type:"offer",sdp:this._remoteSdp.getSdp()},x.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",c),e.next=26,this._pc.setRemoteDescription(c);case 26:return e.next=28,this._pc.createAnswer();case 28:return u=e.sent,x.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",u),e.next=32,this._pc.setLocalDescription(u);case 32:case"end":return e.stop()}}),e,this,[[2,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getReceiverStats",value:function(){var e=o(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.assertRecvDirection(),r=this._mapMidTransceiver.get(t)){e.next=4;break}throw new Error("associated RTCRtpTransceiver not found");case 4:return e.abrupt("return",r.receiver.getStats());case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"receiveDataChannel",value:function(){var e=o(i().mark((function e(t){var r,n,a,o,s,c,u,l,d,p,f,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.sctpStreamParameters,n=t.label,a=t.protocol,this.assertRecvDirection(),s=r.streamId,c=r.ordered,u=r.maxPacketLifeTime,l=r.maxRetransmits,d={negotiated:!0,id:s,ordered:c,maxPacketLifeTime:u,maxRetransmits:l,protocol:a},x.debug("receiveDataChannel() [options:%o]",d),p=this._pc.createDataChannel(n,d),this._hasDataChannelMediaSection){e.next=23;break}return this._remoteSdp.receiveSctpAssociation(),f={type:"offer",sdp:this._remoteSdp.getSdp()},x.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",f),e.next=12,this._pc.setRemoteDescription(f);case 12:return e.next=14,this._pc.createAnswer();case 14:if(m=e.sent,this._transportReady){e.next=19;break}return v=h.parse(m.sdp),e.next=19,this.setupTransport({localDtlsRole:null!==(o=this._forcedLocalDtlsRole)&&void 0!==o?o:"client",localSdpObject:v});case 19:return x.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",m),e.next=22,this._pc.setLocalDescription(m);case 22:this._hasDataChannelMediaSection=!0;case 23:return e.abrupt("return",{dataChannel:p});case 24:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setupTransport",value:function(){var e=o(i().mark((function e(t){var r,n,a,o=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.localDtlsRole,(n=t.localSdpObject)||(n=h.parse(this._pc.localDescription.sdp)),(a=y.extractDtlsParameters({sdpObject:n})).role=r,this._remoteSdp.updateDtlsRole("client"===r?"server":"client"),e.next=7,new Promise((function(e,t){o.safeEmit("@connect",{dtlsParameters:a},e,t)}));case 7:this._transportReady=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"assertSendDirection",value:function(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}},{key:"assertRecvDirection",value:function(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}],[{key:"createFactory",value:function(){return function(){return new r}}}]),r}(w.HandlerInterface);t.Chrome111=P},5939:function(e,t,r){"use strict";var n=r(4704).default,a=r(2122).default,i=r(7061).default,o=r(7156).default,s=r(6690).default,c=r(9728).default,u=r(1655).default,l=r(6389).default,d=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),p=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),f=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&d(t,e,r);return p(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Chrome55=void 0;var h=f(r(5861)),m=r(4115),v=r(6431),g=f(r(3001)),y=f(r(1777)),b=f(r(8978)),k=f(r(9547)),w=r(4376),_=r(9678),S=new m.Logger("Chrome55"),x={OS:1024,MIS:1024},C=function(e){u(r,e);var t=l(r);function r(){var e;return s(this,r),(e=t.call(this))._sendStream=new MediaStream,e._mapSendLocalIdTrack=new Map,e._nextSendLocalId=0,e._mapRecvLocalIdInfo=new Map,e._hasDataChannelMediaSection=!1,e._nextSendSctpStreamId=0,e._transportReady=!1,e}return c(r,[{key:"name",get:function(){return"Chrome55"}},{key:"close",value:function(){if(S.debug("close()"),this._pc)try{this._pc.close()}catch(e){}this.emit("@close")}},{key:"getNativeRtpCapabilities",value:function(){var e=o(i().mark((function e(){var t,r,n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S.debug("getNativeRtpCapabilities()"),t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"}),e.prev=2,e.next=5,t.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});case 5:r=e.sent;try{t.close()}catch(i){}return n=h.parse(r.sdp),a=b.extractRtpCapabilities({sdpObject:n}),e.abrupt("return",a);case 12:e.prev=12,e.t0=e.catch(2);try{t.close()}catch(o){}throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"getNativeSctpCapabilities",value:function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S.debug("getNativeSctpCapabilities()"),e.abrupt("return",{numStreams:x});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"run",value:function(e){var t=this,r=e.direction,n=e.iceParameters,i=e.iceCandidates,o=e.dtlsParameters,s=e.sctpParameters,c=e.iceServers,u=e.iceTransportPolicy,l=e.additionalSettings,d=e.proprietaryConstraints,p=e.extendedRtpCapabilities;S.debug("run()"),this._direction=r,this._remoteSdp=new _.RemoteSdp({iceParameters:n,iceCandidates:i,dtlsParameters:o,sctpParameters:s,planB:!0}),this._sendingRtpParametersByKind={audio:y.getSendingRtpParameters("audio",p),video:y.getSendingRtpParameters("video",p)},this._sendingRemoteRtpParametersByKind={audio:y.getSendingRemoteRtpParameters("audio",p),video:y.getSendingRemoteRtpParameters("video",p)},o.role&&"auto"!==o.role&&(this._forcedLocalDtlsRole="server"===o.role?"client":"server"),this._pc=new RTCPeerConnection(a({iceServers:c||[],iceTransportPolicy:u||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"},l),d),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",(function(){t.emit("@connectionstatechange",t._pc.connectionState)})):this._pc.addEventListener("iceconnectionstatechange",(function(){switch(S.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),t._pc.iceConnectionState){case"checking":t.emit("@connectionstatechange","connecting");break;case"connected":case"completed":t.emit("@connectionstatechange","connected");break;case"failed":t.emit("@connectionstatechange","failed");break;case"disconnected":t.emit("@connectionstatechange","disconnected");break;case"closed":t.emit("@connectionstatechange","closed")}}))}},{key:"updateIceServers",value:function(){var e=o(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S.debug("updateIceServers()"),(r=this._pc.getConfiguration()).iceServers=t,this._pc.setConfiguration(r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"restartIce",value:function(){var e=o(i().mark((function e(t){var r,n,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),this._transportReady){e.next=4;break}return e.abrupt("return");case 4:if("send"!==this._direction){e.next=17;break}return e.next=7,this._pc.createOffer({iceRestart:!0});case 7:return r=e.sent,S.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),e.next=11,this._pc.setLocalDescription(r);case 11:return n={type:"answer",sdp:this._remoteSdp.getSdp()},S.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),e.next=15,this._pc.setRemoteDescription(n);case 15:e.next=27;break;case 17:return a={type:"offer",sdp:this._remoteSdp.getSdp()},S.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",a),e.next=21,this._pc.setRemoteDescription(a);case 21:return e.next=23,this._pc.createAnswer();case 23:return o=e.sent,S.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",o),e.next=27,this._pc.setLocalDescription(o);case 27:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTransportStats",value:function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._pc.getStats());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"send",value:function(){var e=o(i().mark((function e(t){var r,a,o,s,c,u,l,d,p,f,m,v,w,_,x;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.track,a=t.encodings,o=t.codecOptions,s=t.codec,this.assertSendDirection(),S.debug("send() [kind:%s, track.id:%s]",r.kind,r.id),s&&S.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(r),this._pc.addStream(this._sendStream),e.next=8,this._pc.createOffer();case 8:if(u=e.sent,l=h.parse(u.sdp),(p=g.clone(this._sendingRtpParametersByKind[r.kind],{})).codecs=y.reduceCodecs(p.codecs),(f=g.clone(this._sendingRemoteRtpParametersByKind[r.kind],{})).codecs=y.reduceCodecs(f.codecs),this._transportReady){e.next=17;break}return e.next=17,this.setupTransport({localDtlsRole:null!==(c=this._forcedLocalDtlsRole)&&void 0!==c?c:"client",localSdpObject:l});case 17:return"video"===r.kind&&a&&a.length>1&&(S.debug("send() | enabling simulcast"),l=h.parse(u.sdp),d=l.media.find((function(e){return"video"===e.type})),k.addLegacySimulcast({offerMediaObject:d,track:r,numStreams:a.length}),u={type:"offer",sdp:h.write(l)}),S.debug("send() | calling pc.setLocalDescription() [offer:%o]",u),e.next=21,this._pc.setLocalDescription(u);case 21:if(l=h.parse(this._pc.localDescription.sdp),d=l.media.find((function(e){return e.type===r.kind})),p.rtcp.cname=b.getCname({offerMediaObject:d}),p.encodings=k.getRtpEncodings({offerMediaObject:d,track:r}),a)for(m=0;m<p.encodings.length;++m)a[m]&&Object.assign(p.encodings[m],a[m]);if(p.encodings.length>1&&"video/vp8"===p.codecs[0].mimeType.toLowerCase()){v=n(p.encodings);try{for(v.s();!(w=v.n()).done;)w.value.scalabilityMode="L1T3"}catch(i){v.e(i)}finally{v.f()}}return this._remoteSdp.send({offerMediaObject:d,offerRtpParameters:p,answerRtpParameters:f,codecOptions:o}),_={type:"answer",sdp:this._remoteSdp.getSdp()},S.debug("send() | calling pc.setRemoteDescription() [answer:%o]",_),e.next=32,this._pc.setRemoteDescription(_);case 32:return x=String(this._nextSendLocalId),this._nextSendLocalId++,this._mapSendLocalIdTrack.set(x,r),e.abrupt("return",{localId:x,rtpParameters:p});case 36:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"stopSending",value:function(){var e=o(i().mark((function e(t){var r,n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.assertSendDirection(),S.debug("stopSending() [localId:%s]",t),r=this._mapSendLocalIdTrack.get(t)){e.next=5;break}throw new Error("track not found");case 5:return this._mapSendLocalIdTrack.delete(t),this._sendStream.removeTrack(r),this._pc.addStream(this._sendStream),e.next=10,this._pc.createOffer();case 10:return n=e.sent,S.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n),e.prev=12,e.next=15,this._pc.setLocalDescription(n);case 15:e.next=23;break;case 17:if(e.prev=17,e.t0=e.catch(12),0!==this._sendStream.getTracks().length){e.next=22;break}return S.warn("stopSending() | ignoring expected error due no sending tracks: %s",e.t0.toString()),e.abrupt("return");case 22:throw e.t0;case 23:if("stable"!==this._pc.signalingState){e.next=25;break}return e.abrupt("return");case 25:return a={type:"answer",sdp:this._remoteSdp.getSdp()},S.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",a),e.next=29,this._pc.setRemoteDescription(a);case 29:case"end":return e.stop()}}),e,this,[[12,17]])})));return function(t){return e.apply(this,arguments)}}()},{key:"pauseSending",value:function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"resumeSending",value:function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"replaceTrack",value:function(){var e=o(i().mark((function e(t,r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new v.UnsupportedError("not implemented");case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"setMaxSpatialLayer",value:function(){var e=o(i().mark((function e(t,r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new v.UnsupportedError(" not implemented");case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"setRtpEncodingParameters",value:function(){var e=o(i().mark((function e(t,r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new v.UnsupportedError("not supported");case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getSenderStats",value:function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new v.UnsupportedError("not implemented");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendDataChannel",value:function(){var e=o(i().mark((function e(t){var r,n,a,o,s,c,u,l,d,p,f,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.ordered,n=t.maxPacketLifeTime,a=t.maxRetransmits,o=t.label,s=t.protocol,this.assertSendDirection(),u={negotiated:!0,id:this._nextSendSctpStreamId,ordered:r,maxPacketLifeTime:n,maxRetransmitTime:n,maxRetransmits:a,protocol:s},S.debug("sendDataChannel() [options:%o]",u),l=this._pc.createDataChannel(o,u),this._nextSendSctpStreamId=++this._nextSendSctpStreamId%x.MIS,this._hasDataChannelMediaSection){e.next=24;break}return e.next=9,this._pc.createOffer();case 9:if(d=e.sent,p=h.parse(d.sdp),f=p.media.find((function(e){return"application"===e.type})),this._transportReady){e.next=15;break}return e.next=15,this.setupTransport({localDtlsRole:null!==(c=this._forcedLocalDtlsRole)&&void 0!==c?c:"client",localSdpObject:p});case 15:return S.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",d),e.next=18,this._pc.setLocalDescription(d);case 18:return this._remoteSdp.sendSctpAssociation({offerMediaObject:f}),m={type:"answer",sdp:this._remoteSdp.getSdp()},S.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",m),e.next=23,this._pc.setRemoteDescription(m);case 23:this._hasDataChannelMediaSection=!0;case 24:return v={streamId:u.id,ordered:u.ordered,maxPacketLifeTime:u.maxPacketLifeTime,maxRetransmits:u.maxRetransmits},e.abrupt("return",{dataChannel:l,sctpStreamParameters:v});case 26:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"receive",value:function(){var e=o(i().mark((function e(t){var r,a,o,s,c,u,l,d,p,f,m,v,g,y,k,w,_,x,C,P=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.assertRecvDirection(),a=[],o=n(t);try{for(o.s();!(s=o.n()).done;)c=s.value,u=c.trackId,l=c.kind,d=c.rtpParameters,p=c.streamId,S.debug("receive() [trackId:%s, kind:%s]",u,l),f=l,this._remoteSdp.receive({mid:f,kind:l,offerRtpParameters:d,streamId:p||d.rtcp.cname,trackId:u})}catch(R){o.e(R)}finally{o.f()}return m={type:"offer",sdp:this._remoteSdp.getSdp()},S.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",m),e.next=8,this._pc.setRemoteDescription(m);case 8:return e.next=10,this._pc.createAnswer();case 10:v=e.sent,g=h.parse(v.sdp),y=n(t),e.prev=13,w=i().mark((function e(){var t,r,n,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=k.value,r=t.kind,n=t.rtpParameters,a=r,o=g.media.find((function(e){return String(e.mid)===a})),b.applyCodecParameters({offerRtpParameters:n,answerMediaObject:o});case 5:case"end":return e.stop()}}),e)})),y.s();case 16:if((k=y.n()).done){e.next=20;break}return e.delegateYield(w(),"t0",18);case 18:e.next=16;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(13),y.e(e.t1);case 25:return e.prev=25,y.f(),e.finish(25);case 28:if(v={type:"answer",sdp:h.write(g)},this._transportReady){e.next=32;break}return e.next=32,this.setupTransport({localDtlsRole:null!==(r=this._forcedLocalDtlsRole)&&void 0!==r?r:"client",localSdpObject:g});case 32:return S.debug("receive() | calling pc.setLocalDescription() [answer:%o]",v),e.next=35,this._pc.setLocalDescription(v);case 35:_=n(t),e.prev=36,C=i().mark((function e(){var t,r,n,o,s,c,u,l,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=x.value,r=t.kind,n=t.trackId,o=t.rtpParameters,s=r,c=n,u=t.streamId||o.rtcp.cname,l=P._pc.getRemoteStreams().find((function(e){return e.id===u})),d=l.getTrackById(c)){e.next=9;break}throw new Error("remote track not found");case 9:P._mapRecvLocalIdInfo.set(c,{mid:s,rtpParameters:o}),a.push({localId:c,track:d});case 11:case"end":return e.stop()}}),e)})),_.s();case 39:if((x=_.n()).done){e.next=43;break}return e.delegateYield(C(),"t2",41);case 41:e.next=39;break;case 43:e.next=48;break;case 45:e.prev=45,e.t3=e.catch(36),_.e(e.t3);case 48:return e.prev=48,_.f(),e.finish(48);case 51:return e.abrupt("return",a);case 52:case"end":return e.stop()}}),e,this,[[13,22,25,28],[36,45,48,51]])})));return function(t){return e.apply(this,arguments)}}()},{key:"stopReceiving",value:function(){var e=o(i().mark((function e(t){var r,a,o,s,c,u,l,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.assertRecvDirection(),r=n(t);try{for(r.s();!(a=r.n()).done;)o=a.value,S.debug("stopReceiving() [localId:%s]",o),s=this._mapRecvLocalIdInfo.get(o)||{},c=s.mid,u=s.rtpParameters,this._mapRecvLocalIdInfo.delete(o),this._remoteSdp.planBStopReceiving({mid:c,offerRtpParameters:u})}catch(i){r.e(i)}finally{r.f()}return l={type:"offer",sdp:this._remoteSdp.getSdp()},S.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",l),e.next=7,this._pc.setRemoteDescription(l);case 7:return e.next=9,this._pc.createAnswer();case 9:return d=e.sent,S.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",d),e.next=13,this._pc.setLocalDescription(d);case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"pauseReceiving",value:function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"resumeReceiving",value:function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getReceiverStats",value:function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new v.UnsupportedError("not implemented");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"receiveDataChannel",value:function(){var e=o(i().mark((function e(t){var r,n,a,o,s,c,u,l,d,p,f,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.sctpStreamParameters,n=t.label,a=t.protocol,this.assertRecvDirection(),s=r.streamId,c=r.ordered,u=r.maxPacketLifeTime,l=r.maxRetransmits,d={negotiated:!0,id:s,ordered:c,maxPacketLifeTime:u,maxRetransmitTime:u,maxRetransmits:l,protocol:a},S.debug("receiveDataChannel() [options:%o]",d),p=this._pc.createDataChannel(n,d),this._hasDataChannelMediaSection){e.next=23;break}return this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0}),f={type:"offer",sdp:this._remoteSdp.getSdp()},S.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",f),e.next=12,this._pc.setRemoteDescription(f);case 12:return e.next=14,this._pc.createAnswer();case 14:if(m=e.sent,this._transportReady){e.next=19;break}return v=h.parse(m.sdp),e.next=19,this.setupTransport({localDtlsRole:null!==(o=this._forcedLocalDtlsRole)&&void 0!==o?o:"client",localSdpObject:v});case 19:return S.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",m),e.next=22,this._pc.setLocalDescription(m);case 22:this._hasDataChannelMediaSection=!0;case 23:return e.abrupt("return",{dataChannel:p});case 24:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setupTransport",value:function(){var e=o(i().mark((function e(t){var r,n,a,o=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.localDtlsRole,(n=t.localSdpObject)||(n=h.parse(this._pc.localDescription.sdp)),(a=b.extractDtlsParameters({sdpObject:n})).role=r,this._remoteSdp.updateDtlsRole("client"===r?"server":"client"),e.next=7,new Promise((function(e,t){o.safeEmit("@connect",{dtlsParameters:a},e,t)}));case 7:this._transportReady=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"assertSendDirection",value:function(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}},{key:"assertRecvDirection",value:function(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}],[{key:"createFactory",value:function(){return function(){return new r}}}]),r}(w.HandlerInterface);t.Chrome55=C},6452:function(e,t,r){"use strict";var n=r(4704).default,a=r(2122).default,i=r(7061).default,o=r(7156).default,s=r(6690).default,c=r(9728).default,u=r(1655).default,l=r(6389).default,d=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),p=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),f=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&d(t,e,r);return p(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Chrome67=void 0;var h=f(r(5861)),m=r(4115),v=f(r(3001)),g=f(r(1777)),y=f(r(8978)),b=f(r(9547)),k=r(4376),w=r(9678),_=new m.Logger("Chrome67"),S={OS:1024,MIS:1024},x=function(e){u(r,e);var t=l(r);function r(){var e;return s(this,r),(e=t.call(this))._sendStream=new MediaStream,e._mapSendLocalIdRtpSender=new Map,e._nextSendLocalId=0,e._mapRecvLocalIdInfo=new Map,e._hasDataChannelMediaSection=!1,e._nextSendSctpStreamId=0,e._transportReady=!1,e}return c(r,[{key:"name",get:function(){return"Chrome67"}},{key:"close",value:function(){if(_.debug("close()"),this._pc)try{this._pc.close()}catch(e){}this.emit("@close")}},{key:"getNativeRtpCapabilities",value:function(){var e=o(i().mark((function e(){var t,r,n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _.debug("getNativeRtpCapabilities()"),t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"}),e.prev=2,e.next=5,t.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});case 5:r=e.sent;try{t.close()}catch(i){}return n=h.parse(r.sdp),a=y.extractRtpCapabilities({sdpObject:n}),e.abrupt("return",a);case 12:e.prev=12,e.t0=e.catch(2);try{t.close()}catch(o){}throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"getNativeSctpCapabilities",value:function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _.debug("getNativeSctpCapabilities()"),e.abrupt("return",{numStreams:S});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"run",value:function(e){var t=this,r=e.direction,n=e.iceParameters,i=e.iceCandidates,o=e.dtlsParameters,s=e.sctpParameters,c=e.iceServers,u=e.iceTransportPolicy,l=e.additionalSettings,d=e.proprietaryConstraints,p=e.extendedRtpCapabilities;_.debug("run()"),this._direction=r,this._remoteSdp=new w.RemoteSdp({iceParameters:n,iceCandidates:i,dtlsParameters:o,sctpParameters:s,planB:!0}),this._sendingRtpParametersByKind={audio:g.getSendingRtpParameters("audio",p),video:g.getSendingRtpParameters("video",p)},this._sendingRemoteRtpParametersByKind={audio:g.getSendingRemoteRtpParameters("audio",p),video:g.getSendingRemoteRtpParameters("video",p)},o.role&&"auto"!==o.role&&(this._forcedLocalDtlsRole="server"===o.role?"client":"server"),this._pc=new RTCPeerConnection(a({iceServers:c||[],iceTransportPolicy:u||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"},l),d),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",(function(){t.emit("@connectionstatechange",t._pc.connectionState)})):this._pc.addEventListener("iceconnectionstatechange",(function(){switch(_.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),t._pc.iceConnectionState){case"checking":t.emit("@connectionstatechange","connecting");break;case"connected":case"completed":t.emit("@connectionstatechange","connected");break;case"failed":t.emit("@connectionstatechange","failed");break;case"disconnected":t.emit("@connectionstatechange","disconnected");break;case"closed":t.emit("@connectionstatechange","closed")}}))}},{key:"updateIceServers",value:function(){var e=o(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_.debug("updateIceServers()"),(r=this._pc.getConfiguration()).iceServers=t,this._pc.setConfiguration(r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"restartIce",value:function(){var e=o(i().mark((function e(t){var r,n,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),this._transportReady){e.next=4;break}return e.abrupt("return");case 4:if("send"!==this._direction){e.next=17;break}return e.next=7,this._pc.createOffer({iceRestart:!0});case 7:return r=e.sent,_.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),e.next=11,this._pc.setLocalDescription(r);case 11:return n={type:"answer",sdp:this._remoteSdp.getSdp()},_.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),e.next=15,this._pc.setRemoteDescription(n);case 15:e.next=27;break;case 17:return a={type:"offer",sdp:this._remoteSdp.getSdp()},_.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",a),e.next=21,this._pc.setRemoteDescription(a);case 21:return e.next=23,this._pc.createAnswer();case 23:return o=e.sent,_.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",o),e.next=27,this._pc.setLocalDescription(o);case 27:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTransportStats",value:function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._pc.getStats());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"send",value:function(){var e=o(i().mark((function e(t){var r,a,o,s,c,u,l,d,p,f,m,k,w,S,x,C;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.track,a=t.encodings,o=t.codecOptions,s=t.codec,this.assertSendDirection(),_.debug("send() [kind:%s, track.id:%s]",r.kind,r.id),s&&_.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(r),this._pc.addTrack(r,this._sendStream),e.next=8,this._pc.createOffer();case 8:if(u=e.sent,l=h.parse(u.sdp),(p=v.clone(this._sendingRtpParametersByKind[r.kind],{})).codecs=g.reduceCodecs(p.codecs),(f=v.clone(this._sendingRemoteRtpParametersByKind[r.kind],{})).codecs=g.reduceCodecs(f.codecs),this._transportReady){e.next=17;break}return e.next=17,this.setupTransport({localDtlsRole:null!==(c=this._forcedLocalDtlsRole)&&void 0!==c?c:"client",localSdpObject:l});case 17:return"video"===r.kind&&a&&a.length>1&&(_.debug("send() | enabling simulcast"),l=h.parse(u.sdp),d=l.media.find((function(e){return"video"===e.type})),b.addLegacySimulcast({offerMediaObject:d,track:r,numStreams:a.length}),u={type:"offer",sdp:h.write(l)}),_.debug("send() | calling pc.setLocalDescription() [offer:%o]",u),e.next=21,this._pc.setLocalDescription(u);case 21:if(l=h.parse(this._pc.localDescription.sdp),d=l.media.find((function(e){return e.type===r.kind})),p.rtcp.cname=y.getCname({offerMediaObject:d}),p.encodings=b.getRtpEncodings({offerMediaObject:d,track:r}),a)for(m=0;m<p.encodings.length;++m)a[m]&&Object.assign(p.encodings[m],a[m]);if(p.encodings.length>1&&"video/vp8"===p.codecs[0].mimeType.toLowerCase()){k=n(p.encodings);try{for(k.s();!(w=k.n()).done;)w.value.scalabilityMode="L1T3"}catch(i){k.e(i)}finally{k.f()}}return this._remoteSdp.send({offerMediaObject:d,offerRtpParameters:p,answerRtpParameters:f,codecOptions:o}),S={type:"answer",sdp:this._remoteSdp.getSdp()},_.debug("send() | calling pc.setRemoteDescription() [answer:%o]",S),e.next=32,this._pc.setRemoteDescription(S);case 32:return x=String(this._nextSendLocalId),this._nextSendLocalId++,C=this._pc.getSenders().find((function(e){return e.track===r})),this._mapSendLocalIdRtpSender.set(x,C),e.abrupt("return",{localId:x,rtpParameters:p,rtpSender:C});case 37:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"stopSending",value:function(){var e=o(i().mark((function e(t){var r,n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.assertSendDirection(),_.debug("stopSending() [localId:%s]",t),r=this._mapSendLocalIdRtpSender.get(t)){e.next=5;break}throw new Error("associated RTCRtpSender not found");case 5:return this._pc.removeTrack(r),r.track&&this._sendStream.removeTrack(r.track),this._mapSendLocalIdRtpSender.delete(t),e.next=10,this._pc.createOffer();case 10:return n=e.sent,_.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n),e.prev=12,e.next=15,this._pc.setLocalDescription(n);case 15:e.next=23;break;case 17:if(e.prev=17,e.t0=e.catch(12),0!==this._sendStream.getTracks().length){e.next=22;break}return _.warn("stopSending() | ignoring expected error due no sending tracks: %s",e.t0.toString()),e.abrupt("return");case 22:throw e.t0;case 23:if("stable"!==this._pc.signalingState){e.next=25;break}return e.abrupt("return");case 25:return a={type:"answer",sdp:this._remoteSdp.getSdp()},_.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",a),e.next=29,this._pc.setRemoteDescription(a);case 29:case"end":return e.stop()}}),e,this,[[12,17]])})));return function(t){return e.apply(this,arguments)}}()},{key:"pauseSending",value:function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"resumeSending",value:function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"replaceTrack",value:function(){var e=o(i().mark((function e(t,r){var n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.assertSendDirection(),r?_.debug("replaceTrack() [localId:%s, track.id:%s]",t,r.id):_.debug("replaceTrack() [localId:%s, no track]",t),n=this._mapSendLocalIdRtpSender.get(t)){e.next=5;break}throw new Error("associated RTCRtpSender not found");case 5:return a=n.track,e.next=8,n.replaceTrack(r);case 8:a&&this._sendStream.removeTrack(a),r&&this._sendStream.addTrack(r);case 10:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"setMaxSpatialLayer",value:function(){var e=o(i().mark((function e(t,r){var n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.assertSendDirection(),_.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,r),n=this._mapSendLocalIdRtpSender.get(t)){e.next=5;break}throw new Error("associated RTCRtpSender not found");case 5:return(a=n.getParameters()).encodings.forEach((function(e,t){e.active=t<=r})),e.next=9,n.setParameters(a);case 9:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"setRtpEncodingParameters",value:function(){var e=o(i().mark((function e(t,r){var n,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.assertSendDirection(),_.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,r),n=this._mapSendLocalIdRtpSender.get(t)){e.next=5;break}throw new Error("associated RTCRtpSender not found");case 5:return(o=n.getParameters()).encodings.forEach((function(e,t){o.encodings[t]=a(a({},e),r)})),e.next=9,n.setParameters(o);case 9:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getSenderStats",value:function(){var e=o(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.assertSendDirection(),r=this._mapSendLocalIdRtpSender.get(t)){e.next=4;break}throw new Error("associated RTCRtpSender not found");case 4:return e.abrupt("return",r.getStats());case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendDataChannel",value:function(){var e=o(i().mark((function e(t){var r,n,a,o,s,c,u,l,d,p,f,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.ordered,n=t.maxPacketLifeTime,a=t.maxRetransmits,o=t.label,s=t.protocol,this.assertSendDirection(),u={negotiated:!0,id:this._nextSendSctpStreamId,ordered:r,maxPacketLifeTime:n,maxRetransmitTime:n,maxRetransmits:a,protocol:s},_.debug("sendDataChannel() [options:%o]",u),l=this._pc.createDataChannel(o,u),this._nextSendSctpStreamId=++this._nextSendSctpStreamId%S.MIS,this._hasDataChannelMediaSection){e.next=24;break}return e.next=9,this._pc.createOffer();case 9:if(d=e.sent,p=h.parse(d.sdp),f=p.media.find((function(e){return"application"===e.type})),this._transportReady){e.next=15;break}return e.next=15,this.setupTransport({localDtlsRole:null!==(c=this._forcedLocalDtlsRole)&&void 0!==c?c:"client",localSdpObject:p});case 15:return _.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",d),e.next=18,this._pc.setLocalDescription(d);case 18:return this._remoteSdp.sendSctpAssociation({offerMediaObject:f}),m={type:"answer",sdp:this._remoteSdp.getSdp()},_.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",m),e.next=23,this._pc.setRemoteDescription(m);case 23:this._hasDataChannelMediaSection=!0;case 24:return v={streamId:u.id,ordered:u.ordered,maxPacketLifeTime:u.maxPacketLifeTime,maxRetransmits:u.maxRetransmits},e.abrupt("return",{dataChannel:l,sctpStreamParameters:v});case 26:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"receive",value:function(){var e=o(i().mark((function e(t){var r,a,o,s,c,u,l,d,p,f,m,v,g,b,k,w,S,x,C,P=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.assertRecvDirection(),a=[],o=n(t);try{for(o.s();!(s=o.n()).done;)c=s.value,u=c.trackId,l=c.kind,d=c.rtpParameters,p=c.streamId,_.debug("receive() [trackId:%s, kind:%s]",u,l),f=l,this._remoteSdp.receive({mid:f,kind:l,offerRtpParameters:d,streamId:p||d.rtcp.cname,trackId:u})}catch(R){o.e(R)}finally{o.f()}return m={type:"offer",sdp:this._remoteSdp.getSdp()},_.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",m),e.next=8,this._pc.setRemoteDescription(m);case 8:return e.next=10,this._pc.createAnswer();case 10:v=e.sent,g=h.parse(v.sdp),b=n(t),e.prev=13,w=i().mark((function e(){var t,r,n,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=k.value,r=t.kind,n=t.rtpParameters,a=r,o=g.media.find((function(e){return String(e.mid)===a})),y.applyCodecParameters({offerRtpParameters:n,answerMediaObject:o});case 5:case"end":return e.stop()}}),e)})),b.s();case 16:if((k=b.n()).done){e.next=20;break}return e.delegateYield(w(),"t0",18);case 18:e.next=16;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(13),b.e(e.t1);case 25:return e.prev=25,b.f(),e.finish(25);case 28:if(v={type:"answer",sdp:h.write(g)},this._transportReady){e.next=32;break}return e.next=32,this.setupTransport({localDtlsRole:null!==(r=this._forcedLocalDtlsRole)&&void 0!==r?r:"client",localSdpObject:g});case 32:return _.debug("receive() | calling pc.setLocalDescription() [answer:%o]",v),e.next=35,this._pc.setLocalDescription(v);case 35:S=n(t),e.prev=36,C=i().mark((function e(){var t,r,n,o,s,c,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=x.value,r=t.kind,n=t.trackId,o=t.rtpParameters,s=n,c=r,u=P._pc.getReceivers().find((function(e){return e.track&&e.track.id===s}))){e.next=7;break}throw new Error("new RTCRtpReceiver not");case 7:P._mapRecvLocalIdInfo.set(s,{mid:c,rtpParameters:o,rtpReceiver:u}),a.push({localId:s,track:u.track,rtpReceiver:u});case 9:case"end":return e.stop()}}),e)})),S.s();case 39:if((x=S.n()).done){e.next=43;break}return e.delegateYield(C(),"t2",41);case 41:e.next=39;break;case 43:e.next=48;break;case 45:e.prev=45,e.t3=e.catch(36),S.e(e.t3);case 48:return e.prev=48,S.f(),e.finish(48);case 51:return e.abrupt("return",a);case 52:case"end":return e.stop()}}),e,this,[[13,22,25,28],[36,45,48,51]])})));return function(t){return e.apply(this,arguments)}}()},{key:"stopReceiving",value:function(){var e=o(i().mark((function e(t){var r,a,o,s,c,u,l,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.assertRecvDirection(),r=n(t);try{for(r.s();!(a=r.n()).done;)o=a.value,_.debug("stopReceiving() [localId:%s]",o),s=this._mapRecvLocalIdInfo.get(o)||{},c=s.mid,u=s.rtpParameters,this._mapRecvLocalIdInfo.delete(o),this._remoteSdp.planBStopReceiving({mid:c,offerRtpParameters:u})}catch(i){r.e(i)}finally{r.f()}return l={type:"offer",sdp:this._remoteSdp.getSdp()},_.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",l),e.next=7,this._pc.setRemoteDescription(l);case 7:return e.next=9,this._pc.createAnswer();case 9:return d=e.sent,_.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",d),e.next=13,this._pc.setLocalDescription(d);case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"pauseReceiving",value:function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"resumeReceiving",value:function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getReceiverStats",value:function(){var e=o(i().mark((function e(t){var r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.assertRecvDirection(),r=this._mapRecvLocalIdInfo.get(t)||{},n=r.rtpReceiver){e.next=4;break}throw new Error("associated RTCRtpReceiver not found");case 4:return e.abrupt("return",n.getStats());case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"receiveDataChannel",value:function(){var e=o(i().mark((function e(t){var r,n,a,o,s,c,u,l,d,p,f,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.sctpStreamParameters,n=t.label,a=t.protocol,this.assertRecvDirection(),s=r.streamId,c=r.ordered,u=r.maxPacketLifeTime,l=r.maxRetransmits,d={negotiated:!0,id:s,ordered:c,maxPacketLifeTime:u,maxRetransmitTime:u,maxRetransmits:l,protocol:a},_.debug("receiveDataChannel() [options:%o]",d),p=this._pc.createDataChannel(n,d),this._hasDataChannelMediaSection){e.next=23;break}return this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0}),f={type:"offer",sdp:this._remoteSdp.getSdp()},_.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",f),e.next=12,this._pc.setRemoteDescription(f);case 12:return e.next=14,this._pc.createAnswer();case 14:if(m=e.sent,this._transportReady){e.next=19;break}return v=h.parse(m.sdp),e.next=19,this.setupTransport({localDtlsRole:null!==(o=this._forcedLocalDtlsRole)&&void 0!==o?o:"client",localSdpObject:v});case 19:return _.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",m),e.next=22,this._pc.setLocalDescription(m);case 22:this._hasDataChannelMediaSection=!0;case 23:return e.abrupt("return",{dataChannel:p});case 24:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setupTransport",value:function(){var e=o(i().mark((function e(t){var r,n,a,o=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.localDtlsRole,(n=t.localSdpObject)||(n=h.parse(this._pc.localDescription.sdp)),(a=y.extractDtlsParameters({sdpObject:n})).role=r,this._remoteSdp.updateDtlsRole("client"===r?"server":"client"),e.next=7,new Promise((function(e,t){o.safeEmit("@connect",{dtlsParameters:a},e,t)}));case 7:this._transportReady=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"assertSendDirection",value:function(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}},{key:"assertRecvDirection",value:function(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}],[{key:"createFactory",value:function(){return function(){return new r}}}]),r}(k.HandlerInterface);t.Chrome67=x},1521:function(e,t,r){"use strict";var n=r(4704).default,a=r(2122).default,i=r(7061).default,o=r(7156).default,s=r(6690).default,c=r(9728).default,u=r(1655).default,l=r(6389).default,d=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),p=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),f=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&d(t,e,r);return p(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Chrome70=void 0;var h=f(r(5861)),m=r(4115),v=f(r(3001)),g=f(r(1777)),y=f(r(8978)),b=f(r(8480)),k=r(4376),w=r(9678),_=r(8732),S=new m.Logger("Chrome70"),x={OS:1024,MIS:1024},C=function(e){u(r,e);var t=l(r);function r(){var e;return s(this,r),(e=t.call(this))._mapMidTransceiver=new Map,e._sendStream=new MediaStream,e._hasDataChannelMediaSection=!1,e._nextSendSctpStreamId=0,e._transportReady=!1,e}return c(r,[{key:"name",get:function(){return"Chrome70"}},{key:"close",value:function(){if(S.debug("close()"),this._pc)try{this._pc.close()}catch(e){}this.emit("@close")}},{key:"getNativeRtpCapabilities",value:function(){var e=o(i().mark((function e(){var t,r,n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S.debug("getNativeRtpCapabilities()"),t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"}),e.prev=2,t.addTransceiver("audio"),t.addTransceiver("video"),e.next=7,t.createOffer();case 7:r=e.sent;try{t.close()}catch(i){}return n=h.parse(r.sdp),a=y.extractRtpCapabilities({sdpObject:n}),e.abrupt("return",a);case 14:e.prev=14,e.t0=e.catch(2);try{t.close()}catch(o){}throw e.t0;case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"getNativeSctpCapabilities",value:function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S.debug("getNativeSctpCapabilities()"),e.abrupt("return",{numStreams:x});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"run",value:function(e){var t=this,r=e.direction,n=e.iceParameters,i=e.iceCandidates,o=e.dtlsParameters,s=e.sctpParameters,c=e.iceServers,u=e.iceTransportPolicy,l=e.additionalSettings,d=e.proprietaryConstraints,p=e.extendedRtpCapabilities;S.debug("run()"),this._direction=r,this._remoteSdp=new w.RemoteSdp({iceParameters:n,iceCandidates:i,dtlsParameters:o,sctpParameters:s}),this._sendingRtpParametersByKind={audio:g.getSendingRtpParameters("audio",p),video:g.getSendingRtpParameters("video",p)},this._sendingRemoteRtpParametersByKind={audio:g.getSendingRemoteRtpParameters("audio",p),video:g.getSendingRemoteRtpParameters("video",p)},o.role&&"auto"!==o.role&&(this._forcedLocalDtlsRole="server"===o.role?"client":"server"),this._pc=new RTCPeerConnection(a({iceServers:c||[],iceTransportPolicy:u||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"},l),d),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",(function(){t.emit("@connectionstatechange",t._pc.connectionState)})):this._pc.addEventListener("iceconnectionstatechange",(function(){switch(S.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),t._pc.iceConnectionState){case"checking":t.emit("@connectionstatechange","connecting");break;case"connected":case"completed":t.emit("@connectionstatechange","connected");break;case"failed":t.emit("@connectionstatechange","failed");break;case"disconnected":t.emit("@connectionstatechange","disconnected");break;case"closed":t.emit("@connectionstatechange","closed")}}))}},{key:"updateIceServers",value:function(){var e=o(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S.debug("updateIceServers()"),(r=this._pc.getConfiguration()).iceServers=t,this._pc.setConfiguration(r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"restartIce",value:function(){var e=o(i().mark((function e(t){var r,n,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),this._transportReady){e.next=4;break}return e.abrupt("return");case 4:if("send"!==this._direction){e.next=17;break}return e.next=7,this._pc.createOffer({iceRestart:!0});case 7:return r=e.sent,S.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),e.next=11,this._pc.setLocalDescription(r);case 11:return n={type:"answer",sdp:this._remoteSdp.getSdp()},S.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),e.next=15,this._pc.setRemoteDescription(n);case 15:e.next=27;break;case 17:return a={type:"offer",sdp:this._remoteSdp.getSdp()},S.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",a),e.next=21,this._pc.setRemoteDescription(a);case 21:return e.next=23,this._pc.createAnswer();case 23:return o=e.sent,S.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",o),e.next=27,this._pc.setLocalDescription(o);case 27:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTransportStats",value:function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._pc.getStats());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"send",value:function(){var e=o(i().mark((function e(t){var r,a,o,s,c,u,l,d,p,f,m,k,w,x,C,P,R,T,E,O,D,M,j;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.track,a=t.encodings,o=t.codecOptions,s=t.codec,this.assertSendDirection(),S.debug("send() [kind:%s, track.id:%s]",r.kind,r.id),(u=v.clone(this._sendingRtpParametersByKind[r.kind],{})).codecs=g.reduceCodecs(u.codecs,s),(l=v.clone(this._sendingRemoteRtpParametersByKind[r.kind],{})).codecs=g.reduceCodecs(l.codecs,s),d=this._remoteSdp.getNextMediaSectionIdx(),p=this._pc.addTransceiver(r,{direction:"sendonly",streams:[this._sendStream]}),e.next=11,this._pc.createOffer();case 11:if(f=e.sent,m=h.parse(f.sdp),this._transportReady){e.next=16;break}return e.next=16,this.setupTransport({localDtlsRole:null!==(c=this._forcedLocalDtlsRole)&&void 0!==c?c:"client",localSdpObject:m});case 16:return a&&a.length>1&&(S.debug("send() | enabling legacy simulcast"),m=h.parse(f.sdp),k=m.media[d.idx],b.addLegacySimulcast({offerMediaObject:k,numStreams:a.length}),f={type:"offer",sdp:h.write(m)}),w=!1,x=(0,_.parse)((a||[{}])[0].scalabilityMode),a&&1===a.length&&x.spatialLayers>1&&"video/vp9"===u.codecs[0].mimeType.toLowerCase()&&(S.debug("send() | enabling legacy simulcast for VP9 SVC"),w=!0,m=h.parse(f.sdp),k=m.media[d.idx],b.addLegacySimulcast({offerMediaObject:k,numStreams:x.spatialLayers}),f={type:"offer",sdp:h.write(m)}),S.debug("send() | calling pc.setLocalDescription() [offer:%o]",f),e.next=23,this._pc.setLocalDescription(f);case 23:if(!a){e.next=38;break}S.debug("send() | applying given encodings"),C=p.sender.getParameters(),P=0;case 27:if(!(P<(C.encodings||[]).length)){e.next=36;break}if(R=C.encodings[P],T=a[P]){e.next=32;break}return e.abrupt("break",36);case 32:C.encodings[P]=Object.assign(R,T);case 33:++P,e.next=27;break;case 36:return e.next=38,p.sender.setParameters(C);case 38:if(E=p.mid,u.mid=E,m=h.parse(this._pc.localDescription.sdp),k=m.media[d.idx],u.rtcp.cname=y.getCname({offerMediaObject:k}),u.encodings=b.getRtpEncodings({offerMediaObject:k}),a)for(O=0;O<u.encodings.length;++O)a[O]&&Object.assign(u.encodings[O],a[O]);if(w&&(u.encodings=[u.encodings[0]]),u.encodings.length>1&&("video/vp8"===u.codecs[0].mimeType.toLowerCase()||"video/h264"===u.codecs[0].mimeType.toLowerCase())){D=n(u.encodings);try{for(D.s();!(M=D.n()).done;)M.value.scalabilityMode="L1T3"}catch(i){D.e(i)}finally{D.f()}}return this._remoteSdp.send({offerMediaObject:k,reuseMid:d.reuseMid,offerRtpParameters:u,answerRtpParameters:l,codecOptions:o}),j={type:"answer",sdp:this._remoteSdp.getSdp()},S.debug("send() | calling pc.setRemoteDescription() [answer:%o]",j),e.next=52,this._pc.setRemoteDescription(j);case 52:return this._mapMidTransceiver.set(E,p),e.abrupt("return",{localId:E,rtpParameters:u,rtpSender:p.sender});case 54:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"stopSending",value:function(){var e=o(i().mark((function e(t){var r,n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.assertSendDirection(),S.debug("stopSending() [localId:%s]",t),r=this._mapMidTransceiver.get(t)){e.next=5;break}throw new Error("associated RTCRtpTransceiver not found");case 5:if(r.sender.replaceTrack(null),this._pc.removeTrack(r.sender),this._remoteSdp.closeMediaSection(r.mid))try{r.stop()}catch(i){}return e.next=11,this._pc.createOffer();case 11:return n=e.sent,S.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n),e.next=15,this._pc.setLocalDescription(n);case 15:return a={type:"answer",sdp:this._remoteSdp.getSdp()},S.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",a),e.next=19,this._pc.setRemoteDescription(a);case 19:this._mapMidTransceiver.delete(t);case 20:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"pauseSending",value:function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"resumeSending",value:function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"replaceTrack",value:function(){var e=o(i().mark((function e(t,r){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.assertSendDirection(),r?S.debug("replaceTrack() [localId:%s, track.id:%s]",t,r.id):S.debug("replaceTrack() [localId:%s, no track]",t),n=this._mapMidTransceiver.get(t)){e.next=5;break}throw new Error("associated RTCRtpTransceiver not found");case 5:return e.next=7,n.sender.replaceTrack(r);case 7:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"setMaxSpatialLayer",value:function(){var e=o(i().mark((function e(t,r){var n,a,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.assertSendDirection(),S.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,r),n=this._mapMidTransceiver.get(t)){e.next=5;break}throw new Error("associated RTCRtpTransceiver not found");case 5:return(a=n.sender.getParameters()).encodings.forEach((function(e,t){e.active=t<=r})),e.next=9,n.sender.setParameters(a);case 9:return this._remoteSdp.muxMediaSectionSimulcast(t,a.encodings),e.next=12,this._pc.createOffer();case 12:return o=e.sent,S.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",o),e.next=16,this._pc.setLocalDescription(o);case 16:return s={type:"answer",sdp:this._remoteSdp.getSdp()},S.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",s),e.next=20,this._pc.setRemoteDescription(s);case 20:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"setRtpEncodingParameters",value:function(){var e=o(i().mark((function e(t,r){var n,o,s,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.assertSendDirection(),S.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,r),n=this._mapMidTransceiver.get(t)){e.next=5;break}throw new Error("associated RTCRtpTransceiver not found");case 5:return(o=n.sender.getParameters()).encodings.forEach((function(e,t){o.encodings[t]=a(a({},e),r)})),e.next=9,n.sender.setParameters(o);case 9:return this._remoteSdp.muxMediaSectionSimulcast(t,o.encodings),e.next=12,this._pc.createOffer();case 12:return s=e.sent,S.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",s),e.next=16,this._pc.setLocalDescription(s);case 16:return c={type:"answer",sdp:this._remoteSdp.getSdp()},S.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",c),e.next=20,this._pc.setRemoteDescription(c);case 20:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getSenderStats",value:function(){var e=o(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.assertSendDirection(),r=this._mapMidTransceiver.get(t)){e.next=4;break}throw new Error("associated RTCRtpTransceiver not found");case 4:return e.abrupt("return",r.sender.getStats());case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendDataChannel",value:function(){var e=o(i().mark((function e(t){var r,n,a,o,s,c,u,l,d,p,f,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.ordered,n=t.maxPacketLifeTime,a=t.maxRetransmits,o=t.label,s=t.protocol,this.assertSendDirection(),u={negotiated:!0,id:this._nextSendSctpStreamId,ordered:r,maxPacketLifeTime:n,maxRetransmitTime:n,maxRetransmits:a,protocol:s},S.debug("sendDataChannel() [options:%o]",u),l=this._pc.createDataChannel(o,u),this._nextSendSctpStreamId=++this._nextSendSctpStreamId%x.MIS,this._hasDataChannelMediaSection){e.next=24;break}return e.next=9,this._pc.createOffer();case 9:if(d=e.sent,p=h.parse(d.sdp),f=p.media.find((function(e){return"application"===e.type})),this._transportReady){e.next=15;break}return e.next=15,this.setupTransport({localDtlsRole:null!==(c=this._forcedLocalDtlsRole)&&void 0!==c?c:"client",localSdpObject:p});case 15:return S.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",d),e.next=18,this._pc.setLocalDescription(d);case 18:return this._remoteSdp.sendSctpAssociation({offerMediaObject:f}),m={type:"answer",sdp:this._remoteSdp.getSdp()},S.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",m),e.next=23,this._pc.setRemoteDescription(m);case 23:this._hasDataChannelMediaSection=!0;case 24:return v={streamId:u.id,ordered:u.ordered,maxPacketLifeTime:u.maxPacketLifeTime,maxRetransmits:u.maxRetransmits},e.abrupt("return",{dataChannel:l,sctpStreamParameters:v});case 26:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"receive",value:function(){var e=o(i().mark((function e(t){var r,a,o,s,c,u,l,d,p,f,m,v,g,b,k,w,_,x,C,P,R=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.assertRecvDirection(),a=[],o=new Map,s=n(t);try{for(s.s();!(c=s.n()).done;)u=c.value,l=u.trackId,d=u.kind,p=u.rtpParameters,f=u.streamId,S.debug("receive() [trackId:%s, kind:%s]",l,d),m=p.mid||String(this._mapMidTransceiver.size),o.set(l,m),this._remoteSdp.receive({mid:m,kind:d,offerRtpParameters:p,streamId:f||p.rtcp.cname,trackId:l})}catch(T){s.e(T)}finally{s.f()}return v={type:"offer",sdp:this._remoteSdp.getSdp()},S.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",v),e.next=9,this._pc.setRemoteDescription(v);case 9:return e.next=11,this._pc.createAnswer();case 11:g=e.sent,b=h.parse(g.sdp),k=n(t),e.prev=14,_=i().mark((function e(){var t,r,n,a,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=w.value,r=t.trackId,n=t.rtpParameters,a=o.get(r),s=b.media.find((function(e){return String(e.mid)===a})),y.applyCodecParameters({offerRtpParameters:n,answerMediaObject:s});case 5:case"end":return e.stop()}}),e)})),k.s();case 17:if((w=k.n()).done){e.next=21;break}return e.delegateYield(_(),"t0",19);case 19:e.next=17;break;case 21:e.next=26;break;case 23:e.prev=23,e.t1=e.catch(14),k.e(e.t1);case 26:return e.prev=26,k.f(),e.finish(26);case 29:if(g={type:"answer",sdp:h.write(b)},this._transportReady){e.next=33;break}return e.next=33,this.setupTransport({localDtlsRole:null!==(r=this._forcedLocalDtlsRole)&&void 0!==r?r:"client",localSdpObject:b});case 33:return S.debug("receive() | calling pc.setLocalDescription() [answer:%o]",g),e.next=36,this._pc.setLocalDescription(g);case 36:x=n(t),e.prev=37,P=i().mark((function e(){var t,r,n,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=C.value,r=t.trackId,n=o.get(r),s=R._pc.getTransceivers().find((function(e){return e.mid===n}))){e.next=6;break}throw new Error("new RTCRtpTransceiver not found");case 6:R._mapMidTransceiver.set(n,s),a.push({localId:n,track:s.receiver.track,rtpReceiver:s.receiver});case 8:case"end":return e.stop()}}),e)})),x.s();case 40:if((C=x.n()).done){e.next=44;break}return e.delegateYield(P(),"t2",42);case 42:e.next=40;break;case 44:e.next=49;break;case 46:e.prev=46,e.t3=e.catch(37),x.e(e.t3);case 49:return e.prev=49,x.f(),e.finish(49);case 52:return e.abrupt("return",a);case 53:case"end":return e.stop()}}),e,this,[[14,23,26,29],[37,46,49,52]])})));return function(t){return e.apply(this,arguments)}}()},{key:"stopReceiving",value:function(){var e=o(i().mark((function e(t){var r,a,o,s,c,u,l,d,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.assertRecvDirection(),r=n(t),e.prev=2,r.s();case 4:if((a=r.n()).done){e.next=13;break}if(o=a.value,S.debug("stopReceiving() [localId:%s]",o),s=this._mapMidTransceiver.get(o)){e.next=10;break}throw new Error("associated RTCRtpTransceiver not found");case 10:this._remoteSdp.closeMediaSection(s.mid);case 11:e.next=4;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return c={type:"offer",sdp:this._remoteSdp.getSdp()},S.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",c),e.next=25,this._pc.setRemoteDescription(c);case 25:return e.next=27,this._pc.createAnswer();case 27:return u=e.sent,S.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",u),e.next=31,this._pc.setLocalDescription(u);case 31:l=n(t);try{for(l.s();!(d=l.n()).done;)p=d.value,this._mapMidTransceiver.delete(p)}catch(i){l.e(i)}finally{l.f()}case 33:case"end":return e.stop()}}),e,this,[[2,15,18,21]])})));return function(t){return e.apply(this,arguments)}}()},{key:"pauseReceiving",value:function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"resumeReceiving",value:function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getReceiverStats",value:function(){var e=o(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.assertRecvDirection(),r=this._mapMidTransceiver.get(t)){e.next=4;break}throw new Error("associated RTCRtpTransceiver not found");case 4:return e.abrupt("return",r.receiver.getStats());case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"receiveDataChannel",value:function(){var e=o(i().mark((function e(t){var r,n,a,o,s,c,u,l,d,p,f,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.sctpStreamParameters,n=t.label,a=t.protocol,this.assertRecvDirection(),s=r.streamId,c=r.ordered,u=r.maxPacketLifeTime,l=r.maxRetransmits,d={negotiated:!0,id:s,ordered:c,maxPacketLifeTime:u,maxRetransmitTime:u,maxRetransmits:l,protocol:a},S.debug("receiveDataChannel() [options:%o]",d),p=this._pc.createDataChannel(n,d),this._hasDataChannelMediaSection){e.next=23;break}return this._remoteSdp.receiveSctpAssociation(),f={type:"offer",sdp:this._remoteSdp.getSdp()},S.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",f),e.next=12,this._pc.setRemoteDescription(f);case 12:return e.next=14,this._pc.createAnswer();case 14:if(m=e.sent,this._transportReady){e.next=19;break}return v=h.parse(m.sdp),e.next=19,this.setupTransport({localDtlsRole:null!==(o=this._forcedLocalDtlsRole)&&void 0!==o?o:"client",localSdpObject:v});case 19:return S.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",m),e.next=22,this._pc.setLocalDescription(m);case 22:this._hasDataChannelMediaSection=!0;case 23:return e.abrupt("return",{dataChannel:p});case 24:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setupTransport",value:function(){var e=o(i().mark((function e(t){var r,n,a,o=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.localDtlsRole,(n=t.localSdpObject)||(n=h.parse(this._pc.localDescription.sdp)),(a=y.extractDtlsParameters({sdpObject:n})).role=r,this._remoteSdp.updateDtlsRole("client"===r?"server":"client"),e.next=7,new Promise((function(e,t){o.safeEmit("@connect",{dtlsParameters:a},e,t)}));case 7:this._transportReady=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"assertSendDirection",value:function(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}},{key:"assertRecvDirection",value:function(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}],[{key:"createFactory",value:function(){return function(){return new r}}}]),r}(k.HandlerInterface);t.Chrome70=C},6139:function(e,t,r){"use strict";var n=r(4704).default,a=r(2122).default,i=r(7061).default,o=r(7156).default,s=r(6690).default,c=r(9728).default,u=r(1655).default,l=r(6389).default,d=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),p=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),f=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&d(t,e,r);return p(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Chrome74=void 0;var h=f(r(5861)),m=r(4115),v=f(r(3001)),g=f(r(1777)),y=f(r(8978)),b=f(r(8480)),k=f(r(4032)),w=r(4376),_=r(9678),S=r(8732),x=new m.Logger("Chrome74"),C={OS:1024,MIS:1024},P=function(e){u(r,e);var t=l(r);function r(){var e;return s(this,r),(e=t.call(this))._mapMidTransceiver=new Map,e._sendStream=new MediaStream,e._hasDataChannelMediaSection=!1,e._nextSendSctpStreamId=0,e._transportReady=!1,e}return c(r,[{key:"name",get:function(){return"Chrome74"}},{key:"close",value:function(){if(x.debug("close()"),this._pc)try{this._pc.close()}catch(e){}this.emit("@close")}},{key:"getNativeRtpCapabilities",value:function(){var e=o(i().mark((function e(){var t,r,n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x.debug("getNativeRtpCapabilities()"),t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"}),e.prev=2,t.addTransceiver("audio"),t.addTransceiver("video"),e.next=7,t.createOffer();case 7:r=e.sent;try{t.close()}catch(i){}return n=h.parse(r.sdp),a=y.extractRtpCapabilities({sdpObject:n}),k.addNackSuppportForOpus(a),e.abrupt("return",a);case 15:e.prev=15,e.t0=e.catch(2);try{t.close()}catch(o){}throw e.t0;case 19:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(){return e.apply(this,arguments)}}()},{key:"getNativeSctpCapabilities",value:function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x.debug("getNativeSctpCapabilities()"),e.abrupt("return",{numStreams:C});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"run",value:function(e){var t=this,r=e.direction,n=e.iceParameters,i=e.iceCandidates,o=e.dtlsParameters,s=e.sctpParameters,c=e.iceServers,u=e.iceTransportPolicy,l=e.additionalSettings,d=e.proprietaryConstraints,p=e.extendedRtpCapabilities;x.debug("run()"),this._direction=r,this._remoteSdp=new _.RemoteSdp({iceParameters:n,iceCandidates:i,dtlsParameters:o,sctpParameters:s}),this._sendingRtpParametersByKind={audio:g.getSendingRtpParameters("audio",p),video:g.getSendingRtpParameters("video",p)},this._sendingRemoteRtpParametersByKind={audio:g.getSendingRemoteRtpParameters("audio",p),video:g.getSendingRemoteRtpParameters("video",p)},o.role&&"auto"!==o.role&&(this._forcedLocalDtlsRole="server"===o.role?"client":"server"),this._pc=new RTCPeerConnection(a({iceServers:c||[],iceTransportPolicy:u||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"},l),d),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",(function(){t.emit("@connectionstatechange",t._pc.connectionState)})):(x.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.addEventListener("iceconnectionstatechange",(function(){switch(t._pc.iceConnectionState){case"checking":t.emit("@connectionstatechange","connecting");break;case"connected":case"completed":t.emit("@connectionstatechange","connected");break;case"failed":t.emit("@connectionstatechange","failed");break;case"disconnected":t.emit("@connectionstatechange","disconnected");break;case"closed":t.emit("@connectionstatechange","closed")}})))}},{key:"updateIceServers",value:function(){var e=o(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x.debug("updateIceServers()"),(r=this._pc.getConfiguration()).iceServers=t,this._pc.setConfiguration(r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"restartIce",value:function(){var e=o(i().mark((function e(t){var r,n,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),this._transportReady){e.next=4;break}return e.abrupt("return");case 4:if("send"!==this._direction){e.next=17;break}return e.next=7,this._pc.createOffer({iceRestart:!0});case 7:return r=e.sent,x.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),e.next=11,this._pc.setLocalDescription(r);case 11:return n={type:"answer",sdp:this._remoteSdp.getSdp()},x.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),e.next=15,this._pc.setRemoteDescription(n);case 15:e.next=27;break;case 17:return a={type:"offer",sdp:this._remoteSdp.getSdp()},x.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",a),e.next=21,this._pc.setRemoteDescription(a);case 21:return e.next=23,this._pc.createAnswer();case 23:return o=e.sent,x.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",o),e.next=27,this._pc.setLocalDescription(o);case 27:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTransportStats",value:function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._pc.getStats());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"send",value:function(){var e=o(i().mark((function e(t){var r,a,o,s,c,u,l,d,p,f,m,k,w,_,C,P,R,T,E,O;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.track,a=t.encodings,o=t.codecOptions,s=t.codec,this.assertSendDirection(),x.debug("send() [kind:%s, track.id:%s]",r.kind,r.id),a&&a.length>1&&a.forEach((function(e,t){e.rid="r".concat(t)})),(u=v.clone(this._sendingRtpParametersByKind[r.kind],{})).codecs=g.reduceCodecs(u.codecs,s),(l=v.clone(this._sendingRemoteRtpParametersByKind[r.kind],{})).codecs=g.reduceCodecs(l.codecs,s),d=this._remoteSdp.getNextMediaSectionIdx(),p=this._pc.addTransceiver(r,{direction:"sendonly",streams:[this._sendStream],sendEncodings:a}),e.next=12,this._pc.createOffer();case 12:if(f=e.sent,m=h.parse(f.sdp),this._transportReady){e.next=17;break}return e.next=17,this.setupTransport({localDtlsRole:null!==(c=this._forcedLocalDtlsRole)&&void 0!==c?c:"client",localSdpObject:m});case 17:return w=!1,_=(0,S.parse)((a||[{}])[0].scalabilityMode),a&&1===a.length&&_.spatialLayers>1&&"video/vp9"===u.codecs[0].mimeType.toLowerCase()&&(x.debug("send() | enabling legacy simulcast for VP9 SVC"),w=!0,m=h.parse(f.sdp),k=m.media[d.idx],b.addLegacySimulcast({offerMediaObject:k,numStreams:_.spatialLayers}),f={type:"offer",sdp:h.write(m)}),x.debug("send() | calling pc.setLocalDescription() [offer:%o]",f),e.next=23,this._pc.setLocalDescription(f);case 23:if(C=p.mid,u.mid=C,m=h.parse(this._pc.localDescription.sdp),k=m.media[d.idx],u.rtcp.cname=y.getCname({offerMediaObject:k}),a?1===a.length?(P=b.getRtpEncodings({offerMediaObject:k}),Object.assign(P[0],a[0]),w&&(P=[P[0]]),u.encodings=P):u.encodings=a:u.encodings=b.getRtpEncodings({offerMediaObject:k}),u.encodings.length>1&&("video/vp8"===u.codecs[0].mimeType.toLowerCase()||"video/h264"===u.codecs[0].mimeType.toLowerCase())){R=n(u.encodings);try{for(R.s();!(T=R.n()).done;)(E=T.value).scalabilityMode?E.scalabilityMode="L1T".concat(_.temporalLayers):E.scalabilityMode="L1T3"}catch(i){R.e(i)}finally{R.f()}}return this._remoteSdp.send({offerMediaObject:k,reuseMid:d.reuseMid,offerRtpParameters:u,answerRtpParameters:l,codecOptions:o,extmapAllowMixed:!0}),O={type:"answer",sdp:this._remoteSdp.getSdp()},x.debug("send() | calling pc.setRemoteDescription() [answer:%o]",O),e.next=35,this._pc.setRemoteDescription(O);case 35:return this._mapMidTransceiver.set(C,p),e.abrupt("return",{localId:C,rtpParameters:u,rtpSender:p.sender});case 37:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"stopSending",value:function(){var e=o(i().mark((function e(t){var r,n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.assertSendDirection(),x.debug("stopSending() [localId:%s]",t),r=this._mapMidTransceiver.get(t)){e.next=5;break}throw new Error("associated RTCRtpTransceiver not found");case 5:if(r.sender.replaceTrack(null),this._pc.removeTrack(r.sender),this._remoteSdp.closeMediaSection(r.mid))try{r.stop()}catch(i){}return e.next=11,this._pc.createOffer();case 11:return n=e.sent,x.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n),e.next=15,this._pc.setLocalDescription(n);case 15:return a={type:"answer",sdp:this._remoteSdp.getSdp()},x.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",a),e.next=19,this._pc.setRemoteDescription(a);case 19:this._mapMidTransceiver.delete(t);case 20:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"pauseSending",value:function(){var e=o(i().mark((function e(t){var r,n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.assertSendDirection(),x.debug("pauseSending() [localId:%s]",t),r=this._mapMidTransceiver.get(t)){e.next=5;break}throw new Error("associated RTCRtpTransceiver not found");case 5:return r.direction="inactive",this._remoteSdp.pauseMediaSection(t),e.next=9,this._pc.createOffer();case 9:return n=e.sent,x.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",n),e.next=13,this._pc.setLocalDescription(n);case 13:return a={type:"answer",sdp:this._remoteSdp.getSdp()},x.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",a),e.next=17,this._pc.setRemoteDescription(a);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"resumeSending",value:function(){var e=o(i().mark((function e(t){var r,n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.assertSendDirection(),x.debug("resumeSending() [localId:%s]",t),r=this._mapMidTransceiver.get(t),this._remoteSdp.resumeSendingMediaSection(t),r){e.next=6;break}throw new Error("associated RTCRtpTransceiver not found");case 6:return r.direction="sendonly",e.next=9,this._pc.createOffer();case 9:return n=e.sent,x.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",n),e.next=13,this._pc.setLocalDescription(n);case 13:return a={type:"answer",sdp:this._remoteSdp.getSdp()},x.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",a),e.next=17,this._pc.setRemoteDescription(a);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"replaceTrack",value:function(){var e=o(i().mark((function e(t,r){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.assertSendDirection(),r?x.debug("replaceTrack() [localId:%s, track.id:%s]",t,r.id):x.debug("replaceTrack() [localId:%s, no track]",t),n=this._mapMidTransceiver.get(t)){e.next=5;break}throw new Error("associated RTCRtpTransceiver not found");case 5:return e.next=7,n.sender.replaceTrack(r);case 7:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"setMaxSpatialLayer",value:function(){var e=o(i().mark((function e(t,r){var n,a,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.assertSendDirection(),x.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,r),n=this._mapMidTransceiver.get(t)){e.next=5;break}throw new Error("associated RTCRtpTransceiver not found");case 5:return(a=n.sender.getParameters()).encodings.forEach((function(e,t){e.active=t<=r})),e.next=9,n.sender.setParameters(a);case 9:return this._remoteSdp.muxMediaSectionSimulcast(t,a.encodings),e.next=12,this._pc.createOffer();case 12:return o=e.sent,x.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",o),e.next=16,this._pc.setLocalDescription(o);case 16:return s={type:"answer",sdp:this._remoteSdp.getSdp()},x.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",s),e.next=20,this._pc.setRemoteDescription(s);case 20:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"setRtpEncodingParameters",value:function(){var e=o(i().mark((function e(t,r){var n,o,s,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.assertSendDirection(),x.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,r),n=this._mapMidTransceiver.get(t)){e.next=5;break}throw new Error("associated RTCRtpTransceiver not found");case 5:return(o=n.sender.getParameters()).encodings.forEach((function(e,t){o.encodings[t]=a(a({},e),r)})),e.next=9,n.sender.setParameters(o);case 9:return this._remoteSdp.muxMediaSectionSimulcast(t,o.encodings),e.next=12,this._pc.createOffer();case 12:return s=e.sent,x.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",s),e.next=16,this._pc.setLocalDescription(s);case 16:return c={type:"answer",sdp:this._remoteSdp.getSdp()},x.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",c),e.next=20,this._pc.setRemoteDescription(c);case 20:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getSenderStats",value:function(){var e=o(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.assertSendDirection(),r=this._mapMidTransceiver.get(t)){e.next=4;break}throw new Error("associated RTCRtpTransceiver not found");case 4:return e.abrupt("return",r.sender.getStats());case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendDataChannel",value:function(){var e=o(i().mark((function e(t){var r,n,a,o,s,c,u,l,d,p,f,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.ordered,n=t.maxPacketLifeTime,a=t.maxRetransmits,o=t.label,s=t.protocol,this.assertSendDirection(),u={negotiated:!0,id:this._nextSendSctpStreamId,ordered:r,maxPacketLifeTime:n,maxRetransmits:a,protocol:s},x.debug("sendDataChannel() [options:%o]",u),l=this._pc.createDataChannel(o,u),this._nextSendSctpStreamId=++this._nextSendSctpStreamId%C.MIS,this._hasDataChannelMediaSection){e.next=24;break}return e.next=9,this._pc.createOffer();case 9:if(d=e.sent,p=h.parse(d.sdp),f=p.media.find((function(e){return"application"===e.type})),this._transportReady){e.next=15;break}return e.next=15,this.setupTransport({localDtlsRole:null!==(c=this._forcedLocalDtlsRole)&&void 0!==c?c:"client",localSdpObject:p});case 15:return x.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",d),e.next=18,this._pc.setLocalDescription(d);case 18:return this._remoteSdp.sendSctpAssociation({offerMediaObject:f}),m={type:"answer",sdp:this._remoteSdp.getSdp()},x.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",m),e.next=23,this._pc.setRemoteDescription(m);case 23:this._hasDataChannelMediaSection=!0;case 24:return v={streamId:u.id,ordered:u.ordered,maxPacketLifeTime:u.maxPacketLifeTime,maxRetransmits:u.maxRetransmits},e.abrupt("return",{dataChannel:l,sctpStreamParameters:v});case 26:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"receive",value:function(){var e=o(i().mark((function e(t){var r,a,o,s,c,u,l,d,p,f,m,v,g,b,k,w,_,S,C,P,R=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.assertRecvDirection(),a=[],o=new Map,s=n(t);try{for(s.s();!(c=s.n()).done;)u=c.value,l=u.trackId,d=u.kind,p=u.rtpParameters,f=u.streamId,x.debug("receive() [trackId:%s, kind:%s]",l,d),m=p.mid||String(this._mapMidTransceiver.size),o.set(l,m),this._remoteSdp.receive({mid:m,kind:d,offerRtpParameters:p,streamId:f||p.rtcp.cname,trackId:l})}catch(T){s.e(T)}finally{s.f()}return v={type:"offer",sdp:this._remoteSdp.getSdp()},x.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",v),e.next=9,this._pc.setRemoteDescription(v);case 9:return e.next=11,this._pc.createAnswer();case 11:g=e.sent,b=h.parse(g.sdp),k=n(t),e.prev=14,_=i().mark((function e(){var t,r,n,a,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=w.value,r=t.trackId,n=t.rtpParameters,a=o.get(r),s=b.media.find((function(e){return String(e.mid)===a})),y.applyCodecParameters({offerRtpParameters:n,answerMediaObject:s});case 5:case"end":return e.stop()}}),e)})),k.s();case 17:if((w=k.n()).done){e.next=21;break}return e.delegateYield(_(),"t0",19);case 19:e.next=17;break;case 21:e.next=26;break;case 23:e.prev=23,e.t1=e.catch(14),k.e(e.t1);case 26:return e.prev=26,k.f(),e.finish(26);case 29:if(g={type:"answer",sdp:h.write(b)},this._transportReady){e.next=33;break}return e.next=33,this.setupTransport({localDtlsRole:null!==(r=this._forcedLocalDtlsRole)&&void 0!==r?r:"client",localSdpObject:b});case 33:return x.debug("receive() | calling pc.setLocalDescription() [answer:%o]",g),e.next=36,this._pc.setLocalDescription(g);case 36:S=n(t),e.prev=37,P=i().mark((function e(){var t,r,n,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=C.value,r=t.trackId,n=o.get(r),s=R._pc.getTransceivers().find((function(e){return e.mid===n}))){e.next=8;break}throw new Error("new RTCRtpTransceiver not found");case 8:R._mapMidTransceiver.set(n,s),a.push({localId:n,track:s.receiver.track,rtpReceiver:s.receiver});case 10:case"end":return e.stop()}}),e)})),S.s();case 40:if((C=S.n()).done){e.next=44;break}return e.delegateYield(P(),"t2",42);case 42:e.next=40;break;case 44:e.next=49;break;case 46:e.prev=46,e.t3=e.catch(37),S.e(e.t3);case 49:return e.prev=49,S.f(),e.finish(49);case 52:return e.abrupt("return",a);case 53:case"end":return e.stop()}}),e,this,[[14,23,26,29],[37,46,49,52]])})));return function(t){return e.apply(this,arguments)}}()},{key:"stopReceiving",value:function(){var e=o(i().mark((function e(t){var r,a,o,s,c,u,l,d,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.assertRecvDirection(),r=n(t),e.prev=2,r.s();case 4:if((a=r.n()).done){e.next=13;break}if(o=a.value,x.debug("stopReceiving() [localId:%s]",o),s=this._mapMidTransceiver.get(o)){e.next=10;break}throw new Error("associated RTCRtpTransceiver not found");case 10:this._remoteSdp.closeMediaSection(s.mid);case 11:e.next=4;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return c={type:"offer",sdp:this._remoteSdp.getSdp()},x.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",c),e.next=25,this._pc.setRemoteDescription(c);case 25:return e.next=27,this._pc.createAnswer();case 27:return u=e.sent,x.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",u),e.next=31,this._pc.setLocalDescription(u);case 31:l=n(t);try{for(l.s();!(d=l.n()).done;)p=d.value,this._mapMidTransceiver.delete(p)}catch(i){l.e(i)}finally{l.f()}case 33:case"end":return e.stop()}}),e,this,[[2,15,18,21]])})));return function(t){return e.apply(this,arguments)}}()},{key:"pauseReceiving",value:function(){var e=o(i().mark((function e(t){var r,a,o,s,c,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.assertRecvDirection(),r=n(t),e.prev=2,r.s();case 4:if((a=r.n()).done){e.next=14;break}if(o=a.value,x.debug("pauseReceiving() [localId:%s]",o),s=this._mapMidTransceiver.get(o)){e.next=10;break}throw new Error("associated RTCRtpTransceiver not found");case 10:s.direction="inactive",this._remoteSdp.pauseMediaSection(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:return c={type:"offer",sdp:this._remoteSdp.getSdp()},x.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",c),e.next=26,this._pc.setRemoteDescription(c);case 26:return e.next=28,this._pc.createAnswer();case 28:return u=e.sent,x.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",u),e.next=32,this._pc.setLocalDescription(u);case 32:case"end":return e.stop()}}),e,this,[[2,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()},{key:"resumeReceiving",value:function(){var e=o(i().mark((function e(t){var r,a,o,s,c,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.assertRecvDirection(),r=n(t),e.prev=2,r.s();case 4:if((a=r.n()).done){e.next=14;break}if(o=a.value,x.debug("resumeReceiving() [localId:%s]",o),s=this._mapMidTransceiver.get(o)){e.next=10;break}throw new Error("associated RTCRtpTransceiver not found");case 10:s.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:return c={type:"offer",sdp:this._remoteSdp.getSdp()},x.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",c),e.next=26,this._pc.setRemoteDescription(c);case 26:return e.next=28,this._pc.createAnswer();case 28:return u=e.sent,x.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",u),e.next=32,this._pc.setLocalDescription(u);case 32:case"end":return e.stop()}}),e,this,[[2,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getReceiverStats",value:function(){var e=o(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.assertRecvDirection(),r=this._mapMidTransceiver.get(t)){e.next=4;break}throw new Error("associated RTCRtpTransceiver not found");case 4:return e.abrupt("return",r.receiver.getStats());case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"receiveDataChannel",value:function(){var e=o(i().mark((function e(t){var r,n,a,o,s,c,u,l,d,p,f,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.sctpStreamParameters,n=t.label,a=t.protocol,this.assertRecvDirection(),s=r.streamId,c=r.ordered,u=r.maxPacketLifeTime,l=r.maxRetransmits,d={negotiated:!0,id:s,ordered:c,maxPacketLifeTime:u,maxRetransmits:l,protocol:a},x.debug("receiveDataChannel() [options:%o]",d),p=this._pc.createDataChannel(n,d),this._hasDataChannelMediaSection){e.next=23;break}return this._remoteSdp.receiveSctpAssociation(),f={type:"offer",sdp:this._remoteSdp.getSdp()},x.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",f),e.next=12,this._pc.setRemoteDescription(f);case 12:return e.next=14,this._pc.createAnswer();case 14:if(m=e.sent,this._transportReady){e.next=19;break}return v=h.parse(m.sdp),e.next=19,this.setupTransport({localDtlsRole:null!==(o=this._forcedLocalDtlsRole)&&void 0!==o?o:"client",localSdpObject:v});case 19:return x.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",m),e.next=22,this._pc.setLocalDescription(m);case 22:this._hasDataChannelMediaSection=!0;case 23:return e.abrupt("return",{dataChannel:p});case 24:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setupTransport",value:function(){var e=o(i().mark((function e(t){var r,n,a,o=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.localDtlsRole,(n=t.localSdpObject)||(n=h.parse(this._pc.localDescription.sdp)),(a=y.extractDtlsParameters({sdpObject:n})).role=r,this._remoteSdp.updateDtlsRole("client"===r?"server":"client"),e.next=7,new Promise((function(e,t){o.safeEmit("@connect",{dtlsParameters:a},e,t)}));case 7:this._transportReady=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"assertSendDirection",value:function(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}},{key:"assertRecvDirection",value:function(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}],[{key:"createFactory",value:function(){return function(){return new r}}}]),r}(w.HandlerInterface);t.Chrome74=P},7516:function(e,t,r){"use strict";var n=r(2122).default,a=r(7061).default,i=r(7156).default,o=r(4704).default,s=r(6690).default,c=r(9728).default,u=r(1655).default,l=r(6389).default,d=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),p=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),f=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&d(t,e,r);return p(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Edge11=void 0;var h=r(4115),m=r(6431),v=f(r(3001)),g=f(r(1777)),y=f(r(9132)),b=r(4376),k=new h.Logger("Edge11"),w=function(e){u(r,e);var t=l(r);function r(){var e;return s(this,r),(e=t.call(this))._rtpSenders=new Map,e._rtpReceivers=new Map,e._nextSendLocalId=0,e._transportReady=!1,e}return c(r,[{key:"name",get:function(){return"Edge11"}},{key:"close",value:function(){k.debug("close()");try{this._iceGatherer.close()}catch(s){}try{this._iceTransport.stop()}catch(s){}try{this._dtlsTransport.stop()}catch(s){}var e,t=o(this._rtpSenders.values());try{for(t.s();!(e=t.n()).done;){var r=e.value;try{r.stop()}catch(s){}}}catch(c){t.e(c)}finally{t.f()}var n,a=o(this._rtpReceivers.values());try{for(a.s();!(n=a.n()).done;){var i=n.value;try{i.stop()}catch(s){}}}catch(c){a.e(c)}finally{a.f()}this.emit("@close")}},{key:"getNativeRtpCapabilities",value:function(){var e=i(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k.debug("getNativeRtpCapabilities()"),e.abrupt("return",y.getCapabilities());case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getNativeSctpCapabilities",value:function(){var e=i(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k.debug("getNativeSctpCapabilities()"),e.abrupt("return",{numStreams:{OS:0,MIS:0}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"run",value:function(e){e.direction;var t=e.iceParameters,r=e.iceCandidates,n=e.dtlsParameters,a=(e.sctpParameters,e.iceServers),i=e.iceTransportPolicy,o=(e.additionalSettings,e.proprietaryConstraints,e.extendedRtpCapabilities);k.debug("run()"),this._sendingRtpParametersByKind={audio:g.getSendingRtpParameters("audio",o),video:g.getSendingRtpParameters("video",o)},this._remoteIceParameters=t,this._remoteIceCandidates=r,this._remoteDtlsParameters=n,this._cname="CNAME-".concat(v.generateRandomNumber()),this.setIceGatherer({iceServers:a,iceTransportPolicy:i}),this.setIceTransport(),this.setDtlsTransport()}},{key:"updateIceServers",value:function(){var e=i(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new m.UnsupportedError("not supported");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"restartIce",value:function(){var e=i(a().mark((function e(t){var r,n,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k.debug("restartIce()"),this._remoteIceParameters=t,this._transportReady){e.next=4;break}return e.abrupt("return");case 4:k.debug("restartIce() | calling iceTransport.start()"),this._iceTransport.start(this._iceGatherer,t,"controlling"),r=o(this._remoteIceCandidates);try{for(r.s();!(n=r.n()).done;)i=n.value,this._iceTransport.addRemoteCandidate(i)}catch(a){r.e(a)}finally{r.f()}this._iceTransport.addRemoteCandidate({});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTransportStats",value:function(){var e=i(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._iceTransport.getStats());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"send",value:function(){var e=i(a().mark((function e(t){var r,n,i,s,c,u,l,d,p,f,h;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.track,n=t.encodings,t.codecOptions,i=t.codec,k.debug("send() [kind:%s, track.id:%s]",r.kind,r.id),this._transportReady){e.next=5;break}return e.next=5,this.setupTransport({localDtlsRole:"server"});case 5:k.debug("send() | calling new RTCRtpSender()"),s=new RTCRtpSender(r,this._dtlsTransport),(c=v.clone(this._sendingRtpParametersByKind[r.kind],{})).codecs=g.reduceCodecs(c.codecs,i),u=c.codecs.some((function(e){return/.+\/rtx$/i.test(e.mimeType)})),n||(n=[{}]),l=o(n);try{for(l.s();!(d=l.n()).done;)(p=d.value).ssrc=v.generateRandomNumber(),u&&(p.rtx={ssrc:v.generateRandomNumber()})}catch(a){l.e(a)}finally{l.f()}return c.encodings=n,c.rtcp={cname:this._cname,reducedSize:!0,mux:!0},f=y.mangleRtpParameters(c),k.debug("send() | calling rtpSender.send() [params:%o]",f),e.next=19,s.send(f);case 19:return h=String(this._nextSendLocalId),this._nextSendLocalId++,this._rtpSenders.set(h,s),e.abrupt("return",{localId:h,rtpParameters:c,rtpSender:s});case 23:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"stopSending",value:function(){var e=i(a().mark((function e(t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k.debug("stopSending() [localId:%s]",t),r=this._rtpSenders.get(t)){e.next=4;break}throw new Error("RTCRtpSender not found");case 4:this._rtpSenders.delete(t),e.prev=5,k.debug("stopSending() | calling rtpSender.stop()"),r.stop(),e.next=14;break;case 10:throw e.prev=10,e.t0=e.catch(5),k.warn("stopSending() | rtpSender.stop() failed:%o",e.t0),e.t0;case 14:case"end":return e.stop()}}),e,this,[[5,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"pauseSending",value:function(){var e=i(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"resumeSending",value:function(){var e=i(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"replaceTrack",value:function(){var e=i(a().mark((function e(t,r){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r?k.debug("replaceTrack() [localId:%s, track.id:%s]",t,r.id):k.debug("replaceTrack() [localId:%s, no track]",t),n=this._rtpSenders.get(t)){e.next=4;break}throw new Error("RTCRtpSender not found");case 4:n.setTrack(r);case 5:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"setMaxSpatialLayer",value:function(){var e=i(a().mark((function e(t,r){var n,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,r),n=this._rtpSenders.get(t)){e.next=4;break}throw new Error("RTCRtpSender not found");case 4:return(i=n.getParameters()).encodings.forEach((function(e,t){e.active=t<=r})),e.next=8,n.setParameters(i);case 8:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"setRtpEncodingParameters",value:function(){var e=i(a().mark((function e(t,r){var i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,r),i=this._rtpSenders.get(t)){e.next=4;break}throw new Error("RTCRtpSender not found");case 4:return(o=i.getParameters()).encodings.forEach((function(e,t){o.encodings[t]=n(n({},e),r)})),e.next=8,i.setParameters(o);case 8:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getSenderStats",value:function(){var e=i(a().mark((function e(t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this._rtpSenders.get(t)){e.next=3;break}throw new Error("RTCRtpSender not found");case 3:return e.abrupt("return",r.getStats());case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendDataChannel",value:function(){var e=i(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new m.UnsupportedError("not implemented");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"receive",value:function(){var e=i(a().mark((function e(t){var r,n,i,s,c,u,l,d,p,f,h,m,v,g,b;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],n=o(t);try{for(n.s();!(i=n.n()).done;)s=i.value,c=s.trackId,u=s.kind,k.debug("receive() [trackId:%s, kind:%s]",c,u)}catch(a){n.e(a)}finally{n.f()}if(this._transportReady){e.next=6;break}return e.next=6,this.setupTransport({localDtlsRole:"server"});case 6:l=o(t),e.prev=7,l.s();case 9:if((d=l.n()).done){e.next=24;break}return p=d.value,f=p.trackId,h=p.kind,m=p.rtpParameters,k.debug("receive() | calling new RTCRtpReceiver()"),(v=new RTCRtpReceiver(this._dtlsTransport,h)).addEventListener("error",(function(e){k.error('rtpReceiver "error" event [event:%o]',e)})),g=y.mangleRtpParameters(m),k.debug("receive() | calling rtpReceiver.receive() [params:%o]",g),e.next=19,v.receive(g);case 19:b=f,this._rtpReceivers.set(b,v),r.push({localId:b,track:v.track,rtpReceiver:v});case 22:e.next=9;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(7),l.e(e.t0);case 29:return e.prev=29,l.f(),e.finish(29);case 32:return e.abrupt("return",r);case 33:case"end":return e.stop()}}),e,this,[[7,26,29,32]])})));return function(t){return e.apply(this,arguments)}}()},{key:"stopReceiving",value:function(){var e=i(a().mark((function e(t){var r,n,i,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=o(t),e.prev=1,r.s();case 3:if((n=r.n()).done){e.next=13;break}if(i=n.value,k.debug("stopReceiving() [localId:%s]",i),s=this._rtpReceivers.get(i)){e.next=9;break}throw new Error("RTCRtpReceiver not found");case 9:this._rtpReceivers.delete(i);try{k.debug("stopReceiving() | calling rtpReceiver.stop()"),s.stop()}catch(a){k.warn("stopReceiving() | rtpReceiver.stop() failed:%o",a)}case 11:e.next=3;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[1,15,18,21]])})));return function(t){return e.apply(this,arguments)}}()},{key:"pauseReceiving",value:function(){var e=i(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"resumeReceiving",value:function(){var e=i(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getReceiverStats",value:function(){var e=i(a().mark((function e(t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this._rtpReceivers.get(t)){e.next=3;break}throw new Error("RTCRtpReceiver not found");case 3:return e.abrupt("return",r.getStats());case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"receiveDataChannel",value:function(){var e=i(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new m.UnsupportedError("not implemented");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"setIceGatherer",value:function(e){var t=e.iceServers,r=e.iceTransportPolicy,n=new RTCIceGatherer({iceServers:t||[],gatherPolicy:r||"all"});n.addEventListener("error",(function(e){k.error('iceGatherer "error" event [event:%o]',e)}));try{n.gather()}catch(a){k.debug("setIceGatherer() | iceGatherer.gather() failed: %s",a.toString())}this._iceGatherer=n}},{key:"setIceTransport",value:function(){var e=this,t=new RTCIceTransport(this._iceGatherer);t.addEventListener("statechange",(function(){switch(t.state){case"checking":e.emit("@connectionstatechange","connecting");break;case"connected":case"completed":e.emit("@connectionstatechange","connected");break;case"failed":e.emit("@connectionstatechange","failed");break;case"disconnected":e.emit("@connectionstatechange","disconnected");break;case"closed":e.emit("@connectionstatechange","closed")}})),t.addEventListener("icestatechange",(function(){switch(t.state){case"checking":e.emit("@connectionstatechange","connecting");break;case"connected":case"completed":e.emit("@connectionstatechange","connected");break;case"failed":e.emit("@connectionstatechange","failed");break;case"disconnected":e.emit("@connectionstatechange","disconnected");break;case"closed":e.emit("@connectionstatechange","closed")}})),t.addEventListener("candidatepairchange",(function(e){k.debug('iceTransport "candidatepairchange" event [pair:%o]',e.pair)})),this._iceTransport=t}},{key:"setDtlsTransport",value:function(){var e=this,t=new RTCDtlsTransport(this._iceTransport);t.addEventListener("statechange",(function(){k.debug('dtlsTransport "statechange" event [state:%s]',t.state)})),t.addEventListener("dtlsstatechange",(function(){k.debug('dtlsTransport "dtlsstatechange" event [state:%s]',t.state),"closed"===t.state&&e.emit("@connectionstatechange","closed")})),t.addEventListener("error",(function(e){k.error('dtlsTransport "error" event [event:%o]',e)})),this._dtlsTransport=t}},{key:"setupTransport",value:function(){var e=i(a().mark((function e(t){var r,n,i,s,c,u=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.localDtlsRole,k.debug("setupTransport()"),(n=this._dtlsTransport.getLocalParameters()).role=r,e.next=6,new Promise((function(e,t){u.safeEmit("@connect",{dtlsParameters:n},e,t)}));case 6:this._iceTransport.start(this._iceGatherer,this._remoteIceParameters,"controlling"),i=o(this._remoteIceCandidates);try{for(i.s();!(s=i.n()).done;)c=s.value,this._iceTransport.addRemoteCandidate(c)}catch(a){i.e(a)}finally{i.f()}this._iceTransport.addRemoteCandidate({}),this._remoteDtlsParameters.fingerprints=this._remoteDtlsParameters.fingerprints.filter((function(e){return"sha-256"===e.algorithm||"sha-384"===e.algorithm||"sha-512"===e.algorithm})),this._dtlsTransport.start(this._remoteDtlsParameters),this._transportReady=!0;case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"createFactory",value:function(){return function(){return new r}}}]),r}(b.HandlerInterface);t.Edge11=w},1714:function(e,t,r){"use strict";var n=r(4704).default,a=r(2122).default,i=r(7061).default,o=r(7156).default,s=r(6690).default,c=r(9728).default,u=r(1655).default,l=r(6389).default,d=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),p=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),f=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&d(t,e,r);return p(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Firefox60=void 0;var h=f(r(5861)),m=r(4115),v=r(6431),g=f(r(3001)),y=f(r(1777)),b=f(r(8978)),k=f(r(8480)),w=r(4376),_=r(9678),S=r(8732),x=new m.Logger("Firefox60"),C={OS:16,MIS:2048},P=function(e){u(r,e);var t=l(r);function r(){var e;return s(this,r),(e=t.call(this))._mapMidTransceiver=new Map,e._sendStream=new MediaStream,e._hasDataChannelMediaSection=!1,e._nextSendSctpStreamId=0,e._transportReady=!1,e}return c(r,[{key:"name",get:function(){return"Firefox60"}},{key:"close",value:function(){if(x.debug("close()"),this._pc)try{this._pc.close()}catch(e){}this.emit("@close")}},{key:"getNativeRtpCapabilities",value:function(){var e=o(i().mark((function e(){var t,r,n,a,o,s,c,u,l,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x.debug("getNativeRtpCapabilities()"),t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),(r=document.createElement("canvas")).getContext("2d"),n=r.captureStream(),a=n.getVideoTracks()[0],e.prev=6,t.addTransceiver("audio",{direction:"sendrecv"}),o=t.addTransceiver(a,{direction:"sendrecv"}),s=o.sender.getParameters(),c=[{rid:"r0",maxBitrate:1e5},{rid:"r1",maxBitrate:5e5}],s.encodings=c,e.next=14,o.sender.setParameters(s);case 14:return e.next=16,t.createOffer();case 16:u=e.sent;try{r.remove()}catch(i){}try{a.stop()}catch(i){}try{t.close()}catch(i){}return l=h.parse(u.sdp),d=b.extractRtpCapabilities({sdpObject:l}),e.abrupt("return",d);case 25:e.prev=25,e.t0=e.catch(6);try{r.remove()}catch(p){}try{a.stop()}catch(p){}try{t.close()}catch(p){}throw e.t0;case 31:case"end":return e.stop()}}),e,null,[[6,25]])})));return function(){return e.apply(this,arguments)}}()},{key:"getNativeSctpCapabilities",value:function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x.debug("getNativeSctpCapabilities()"),e.abrupt("return",{numStreams:C});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"run",value:function(e){var t=this,r=e.direction,n=e.iceParameters,i=e.iceCandidates,o=e.dtlsParameters,s=e.sctpParameters,c=e.iceServers,u=e.iceTransportPolicy,l=e.additionalSettings,d=e.proprietaryConstraints,p=e.extendedRtpCapabilities;x.debug("run()"),this._direction=r,this._remoteSdp=new _.RemoteSdp({iceParameters:n,iceCandidates:i,dtlsParameters:o,sctpParameters:s}),this._sendingRtpParametersByKind={audio:y.getSendingRtpParameters("audio",p),video:y.getSendingRtpParameters("video",p)},this._sendingRemoteRtpParametersByKind={audio:y.getSendingRemoteRtpParameters("audio",p),video:y.getSendingRemoteRtpParameters("video",p)},this._pc=new RTCPeerConnection(a({iceServers:c||[],iceTransportPolicy:u||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"},l),d),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",(function(){t.emit("@connectionstatechange",t._pc.connectionState)})):this._pc.addEventListener("iceconnectionstatechange",(function(){switch(x.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),t._pc.iceConnectionState){case"checking":t.emit("@connectionstatechange","connecting");break;case"connected":case"completed":t.emit("@connectionstatechange","connected");break;case"failed":t.emit("@connectionstatechange","failed");break;case"disconnected":t.emit("@connectionstatechange","disconnected");break;case"closed":t.emit("@connectionstatechange","closed")}}))}},{key:"updateIceServers",value:function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new v.UnsupportedError("not supported");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"restartIce",value:function(){var e=o(i().mark((function e(t){var r,n,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),this._transportReady){e.next=4;break}return e.abrupt("return");case 4:if("send"!==this._direction){e.next=17;break}return e.next=7,this._pc.createOffer({iceRestart:!0});case 7:return r=e.sent,x.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),e.next=11,this._pc.setLocalDescription(r);case 11:return n={type:"answer",sdp:this._remoteSdp.getSdp()},x.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),e.next=15,this._pc.setRemoteDescription(n);case 15:e.next=27;break;case 17:return a={type:"offer",sdp:this._remoteSdp.getSdp()},x.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",a),e.next=21,this._pc.setRemoteDescription(a);case 21:return e.next=23,this._pc.createAnswer();case 23:return o=e.sent,x.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",o),e.next=27,this._pc.setLocalDescription(o);case 27:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTransportStats",value:function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._pc.getStats());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"send",value:function(){var e=o(i().mark((function e(t){var r,a,o,s,c,u,l,d,p,f,m,v,w,_,C,P,R,T;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.track,a=t.encodings,o=t.codecOptions,s=t.codec,this.assertSendDirection(),x.debug("send() [kind:%s, track.id:%s]",r.kind,r.id),a&&(a=g.clone(a,[])).length>1&&(a.forEach((function(e,t){e.rid="r".concat(t)})),a.reverse()),(c=g.clone(this._sendingRtpParametersByKind[r.kind],{})).codecs=y.reduceCodecs(c.codecs,s),(u=g.clone(this._sendingRemoteRtpParametersByKind[r.kind],{})).codecs=y.reduceCodecs(u.codecs,s),l=this._pc.addTransceiver(r,{direction:"sendonly",streams:[this._sendStream]}),!a){e.next=14;break}return(d=l.sender.getParameters()).encodings=a,e.next=14,l.sender.setParameters(d);case 14:return e.next=16,this._pc.createOffer();case 16:if(p=e.sent,f=h.parse(p.sdp),this._transportReady){e.next=21;break}return e.next=21,this.setupTransport({localDtlsRole:"client",localSdpObject:f});case 21:return m=(0,S.parse)((a||[{}])[0].scalabilityMode),x.debug("send() | calling pc.setLocalDescription() [offer:%o]",p),e.next=25,this._pc.setLocalDescription(p);case 25:if(v=l.mid,c.mid=v,f=h.parse(this._pc.localDescription.sdp),w=f.media[f.media.length-1],c.rtcp.cname=b.getCname({offerMediaObject:w}),a?1===a.length?(_=k.getRtpEncodings({offerMediaObject:w}),Object.assign(_[0],a[0]),c.encodings=_):c.encodings=a.reverse():c.encodings=k.getRtpEncodings({offerMediaObject:w}),c.encodings.length>1&&("video/vp8"===c.codecs[0].mimeType.toLowerCase()||"video/h264"===c.codecs[0].mimeType.toLowerCase())){C=n(c.encodings);try{for(C.s();!(P=C.n()).done;)(R=P.value).scalabilityMode?R.scalabilityMode="L1T".concat(m.temporalLayers):R.scalabilityMode="L1T3"}catch(i){C.e(i)}finally{C.f()}}return this._remoteSdp.send({offerMediaObject:w,offerRtpParameters:c,answerRtpParameters:u,codecOptions:o,extmapAllowMixed:!0}),T={type:"answer",sdp:this._remoteSdp.getSdp()},x.debug("send() | calling pc.setRemoteDescription() [answer:%o]",T),e.next=37,this._pc.setRemoteDescription(T);case 37:return this._mapMidTransceiver.set(v,l),e.abrupt("return",{localId:v,rtpParameters:c,rtpSender:l.sender});case 39:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"stopSending",value:function(){var e=o(i().mark((function e(t){var r,n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x.debug("stopSending() [localId:%s]",t),r=this._mapMidTransceiver.get(t)){e.next=4;break}throw new Error("associated transceiver not found");case 4:return r.sender.replaceTrack(null),this._pc.removeTrack(r.sender),this._remoteSdp.disableMediaSection(r.mid),e.next=9,this._pc.createOffer();case 9:return n=e.sent,x.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n),e.next=13,this._pc.setLocalDescription(n);case 13:return a={type:"answer",sdp:this._remoteSdp.getSdp()},x.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",a),e.next=17,this._pc.setRemoteDescription(a);case 17:this._mapMidTransceiver.delete(t);case 18:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"pauseSending",value:function(){var e=o(i().mark((function e(t){var r,n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.assertSendDirection(),x.debug("pauseSending() [localId:%s]",t),r=this._mapMidTransceiver.get(t)){e.next=5;break}throw new Error("associated RTCRtpTransceiver not found");case 5:return r.direction="inactive",this._remoteSdp.pauseMediaSection(t),e.next=9,this._pc.createOffer();case 9:return n=e.sent,x.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",n),e.next=13,this._pc.setLocalDescription(n);case 13:return a={type:"answer",sdp:this._remoteSdp.getSdp()},x.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",a),e.next=17,this._pc.setRemoteDescription(a);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"resumeSending",value:function(){var e=o(i().mark((function e(t){var r,n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.assertSendDirection(),x.debug("resumeSending() [localId:%s]",t),r=this._mapMidTransceiver.get(t)){e.next=5;break}throw new Error("associated RTCRtpTransceiver not found");case 5:return r.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(t),e.next=9,this._pc.createOffer();case 9:return n=e.sent,x.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",n),e.next=13,this._pc.setLocalDescription(n);case 13:return a={type:"answer",sdp:this._remoteSdp.getSdp()},x.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",a),e.next=17,this._pc.setRemoteDescription(a);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"replaceTrack",value:function(){var e=o(i().mark((function e(t,r){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.assertSendDirection(),r?x.debug("replaceTrack() [localId:%s, track.id:%s]",t,r.id):x.debug("replaceTrack() [localId:%s, no track]",t),n=this._mapMidTransceiver.get(t)){e.next=5;break}throw new Error("associated RTCRtpTransceiver not found");case 5:return e.next=7,n.sender.replaceTrack(r);case 7:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"setMaxSpatialLayer",value:function(){var e=o(i().mark((function e(t,r){var n,a,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.assertSendDirection(),x.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,r),n=this._mapMidTransceiver.get(t)){e.next=5;break}throw new Error("associated transceiver not found");case 5:return a=n.sender.getParameters(),r=a.encodings.length-1-r,a.encodings.forEach((function(e,t){e.active=t>=r})),e.next=10,n.sender.setParameters(a);case 10:return this._remoteSdp.muxMediaSectionSimulcast(t,a.encodings),e.next=13,this._pc.createOffer();case 13:return o=e.sent,x.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",o),e.next=17,this._pc.setLocalDescription(o);case 17:return s={type:"answer",sdp:this._remoteSdp.getSdp()},x.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",s),e.next=21,this._pc.setRemoteDescription(s);case 21:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"setRtpEncodingParameters",value:function(){var e=o(i().mark((function e(t,r){var n,o,s,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.assertSendDirection(),x.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,r),n=this._mapMidTransceiver.get(t)){e.next=5;break}throw new Error("associated RTCRtpTransceiver not found");case 5:return(o=n.sender.getParameters()).encodings.forEach((function(e,t){o.encodings[t]=a(a({},e),r)})),e.next=9,n.sender.setParameters(o);case 9:return this._remoteSdp.muxMediaSectionSimulcast(t,o.encodings),e.next=12,this._pc.createOffer();case 12:return s=e.sent,x.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",s),e.next=16,this._pc.setLocalDescription(s);case 16:return c={type:"answer",sdp:this._remoteSdp.getSdp()},x.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",c),e.next=20,this._pc.setRemoteDescription(c);case 20:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getSenderStats",value:function(){var e=o(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.assertSendDirection(),r=this._mapMidTransceiver.get(t)){e.next=4;break}throw new Error("associated RTCRtpTransceiver not found");case 4:return e.abrupt("return",r.sender.getStats());case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendDataChannel",value:function(){var e=o(i().mark((function e(t){var r,n,a,o,s,c,u,l,d,p,f,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.ordered,n=t.maxPacketLifeTime,a=t.maxRetransmits,o=t.label,s=t.protocol,this.assertSendDirection(),c={negotiated:!0,id:this._nextSendSctpStreamId,ordered:r,maxPacketLifeTime:n,maxRetransmits:a,protocol:s},x.debug("sendDataChannel() [options:%o]",c),u=this._pc.createDataChannel(o,c),this._nextSendSctpStreamId=++this._nextSendSctpStreamId%C.MIS,this._hasDataChannelMediaSection){e.next=24;break}return e.next=9,this._pc.createOffer();case 9:if(l=e.sent,d=h.parse(l.sdp),p=d.media.find((function(e){return"application"===e.type})),this._transportReady){e.next=15;break}return e.next=15,this.setupTransport({localDtlsRole:"client",localSdpObject:d});case 15:return x.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),e.next=18,this._pc.setLocalDescription(l);case 18:return this._remoteSdp.sendSctpAssociation({offerMediaObject:p}),f={type:"answer",sdp:this._remoteSdp.getSdp()},x.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),e.next=23,this._pc.setRemoteDescription(f);case 23:this._hasDataChannelMediaSection=!0;case 24:return m={streamId:c.id,ordered:c.ordered,maxPacketLifeTime:c.maxPacketLifeTime,maxRetransmits:c.maxRetransmits},e.abrupt("return",{dataChannel:u,sctpStreamParameters:m});case 26:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"receive",value:function(){var e=o(i().mark((function e(t){var r,a,o,s,c,u,l,d,p,f,m,v,g,y,k,w,_,S,C,P=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.assertRecvDirection(),r=[],a=new Map,o=n(t);try{for(o.s();!(s=o.n()).done;)c=s.value,u=c.trackId,l=c.kind,d=c.rtpParameters,p=c.streamId,x.debug("receive() [trackId:%s, kind:%s]",u,l),f=d.mid||String(this._mapMidTransceiver.size),a.set(u,f),this._remoteSdp.receive({mid:f,kind:l,offerRtpParameters:d,streamId:p||d.rtcp.cname,trackId:u})}catch(R){o.e(R)}finally{o.f()}return m={type:"offer",sdp:this._remoteSdp.getSdp()},x.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",m),e.next=9,this._pc.setRemoteDescription(m);case 9:return e.next=11,this._pc.createAnswer();case 11:v=e.sent,g=h.parse(v.sdp),y=n(t),e.prev=14,w=i().mark((function e(){var t,r,n,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=k.value,r=t.trackId,n=t.rtpParameters,o=a.get(r),s=g.media.find((function(e){return String(e.mid)===o})),b.applyCodecParameters({offerRtpParameters:n,answerMediaObject:s}),v={type:"answer",sdp:h.write(g)};case 6:case"end":return e.stop()}}),e)})),y.s();case 17:if((k=y.n()).done){e.next=21;break}return e.delegateYield(w(),"t0",19);case 19:e.next=17;break;case 21:e.next=26;break;case 23:e.prev=23,e.t1=e.catch(14),y.e(e.t1);case 26:return e.prev=26,y.f(),e.finish(26);case 29:if(this._transportReady){e.next=32;break}return e.next=32,this.setupTransport({localDtlsRole:"client",localSdpObject:g});case 32:return x.debug("receive() | calling pc.setLocalDescription() [answer:%o]",v),e.next=35,this._pc.setLocalDescription(v);case 35:_=n(t),e.prev=36,C=i().mark((function e(){var t,n,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=S.value,n=t.trackId,o=a.get(n),s=P._pc.getTransceivers().find((function(e){return e.mid===o}))){e.next=6;break}throw new Error("new RTCRtpTransceiver not found");case 6:P._mapMidTransceiver.set(o,s),r.push({localId:o,track:s.receiver.track,rtpReceiver:s.receiver});case 8:case"end":return e.stop()}}),e)})),_.s();case 39:if((S=_.n()).done){e.next=43;break}return e.delegateYield(C(),"t2",41);case 41:e.next=39;break;case 43:e.next=48;break;case 45:e.prev=45,e.t3=e.catch(36),_.e(e.t3);case 48:return e.prev=48,_.f(),e.finish(48);case 51:return e.abrupt("return",r);case 52:case"end":return e.stop()}}),e,this,[[14,23,26,29],[36,45,48,51]])})));return function(t){return e.apply(this,arguments)}}()},{key:"stopReceiving",value:function(){var e=o(i().mark((function e(t){var r,a,o,s,c,u,l,d,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.assertRecvDirection(),r=n(t),e.prev=2,r.s();case 4:if((a=r.n()).done){e.next=13;break}if(o=a.value,x.debug("stopReceiving() [localId:%s]",o),s=this._mapMidTransceiver.get(o)){e.next=10;break}throw new Error("associated RTCRtpTransceiver not found");case 10:this._remoteSdp.closeMediaSection(s.mid);case 11:e.next=4;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return c={type:"offer",sdp:this._remoteSdp.getSdp()},x.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",c),e.next=25,this._pc.setRemoteDescription(c);case 25:return e.next=27,this._pc.createAnswer();case 27:return u=e.sent,x.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",u),e.next=31,this._pc.setLocalDescription(u);case 31:l=n(t);try{for(l.s();!(d=l.n()).done;)p=d.value,this._mapMidTransceiver.delete(p)}catch(i){l.e(i)}finally{l.f()}case 33:case"end":return e.stop()}}),e,this,[[2,15,18,21]])})));return function(t){return e.apply(this,arguments)}}()},{key:"pauseReceiving",value:function(){var e=o(i().mark((function e(t){var r,a,o,s,c,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.assertRecvDirection(),r=n(t),e.prev=2,r.s();case 4:if((a=r.n()).done){e.next=14;break}if(o=a.value,x.debug("pauseReceiving() [localId:%s]",o),s=this._mapMidTransceiver.get(o)){e.next=10;break}throw new Error("associated RTCRtpTransceiver not found");case 10:s.direction="inactive",this._remoteSdp.pauseMediaSection(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:return c={type:"offer",sdp:this._remoteSdp.getSdp()},x.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",c),e.next=26,this._pc.setRemoteDescription(c);case 26:return e.next=28,this._pc.createAnswer();case 28:return u=e.sent,x.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",u),e.next=32,this._pc.setLocalDescription(u);case 32:case"end":return e.stop()}}),e,this,[[2,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()},{key:"resumeReceiving",value:function(){var e=o(i().mark((function e(t){var r,a,o,s,c,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.assertRecvDirection(),r=n(t),e.prev=2,r.s();case 4:if((a=r.n()).done){e.next=14;break}if(o=a.value,x.debug("resumeReceiving() [localId:%s]",o),s=this._mapMidTransceiver.get(o)){e.next=10;break}throw new Error("associated RTCRtpTransceiver not found");case 10:s.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:return c={type:"offer",sdp:this._remoteSdp.getSdp()},x.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",c),e.next=26,this._pc.setRemoteDescription(c);case 26:return e.next=28,this._pc.createAnswer();case 28:return u=e.sent,x.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",u),e.next=32,this._pc.setLocalDescription(u);case 32:case"end":return e.stop()}}),e,this,[[2,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getReceiverStats",value:function(){var e=o(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.assertRecvDirection(),r=this._mapMidTransceiver.get(t)){e.next=4;break}throw new Error("associated RTCRtpTransceiver not found");case 4:return e.abrupt("return",r.receiver.getStats());case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"receiveDataChannel",value:function(){var e=o(i().mark((function e(t){var r,n,a,o,s,c,u,l,d,p,f,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.sctpStreamParameters,n=t.label,a=t.protocol,this.assertRecvDirection(),o=r.streamId,s=r.ordered,c=r.maxPacketLifeTime,u=r.maxRetransmits,l={negotiated:!0,id:o,ordered:s,maxPacketLifeTime:c,maxRetransmits:u,protocol:a},x.debug("receiveDataChannel() [options:%o]",l),d=this._pc.createDataChannel(n,l),this._hasDataChannelMediaSection){e.next=23;break}return this._remoteSdp.receiveSctpAssociation(),p={type:"offer",sdp:this._remoteSdp.getSdp()},x.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",p),e.next=12,this._pc.setRemoteDescription(p);case 12:return e.next=14,this._pc.createAnswer();case 14:if(f=e.sent,this._transportReady){e.next=19;break}return m=h.parse(f.sdp),e.next=19,this.setupTransport({localDtlsRole:"client",localSdpObject:m});case 19:return x.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),e.next=22,this._pc.setLocalDescription(f);case 22:this._hasDataChannelMediaSection=!0;case 23:return e.abrupt("return",{dataChannel:d});case 24:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setupTransport",value:function(){var e=o(i().mark((function e(t){var r,n,a,o=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.localDtlsRole,(n=t.localSdpObject)||(n=h.parse(this._pc.localDescription.sdp)),(a=b.extractDtlsParameters({sdpObject:n})).role=r,this._remoteSdp.updateDtlsRole("client"===r?"server":"client"),e.next=7,new Promise((function(e,t){o.safeEmit("@connect",{dtlsParameters:a},e,t)}));case 7:this._transportReady=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"assertSendDirection",value:function(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}},{key:"assertRecvDirection",value:function(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}],[{key:"createFactory",value:function(){return function(){return new r}}}]),r}(w.HandlerInterface);t.Firefox60=P},4376:function(e,t,r){"use strict";var n=r(9728).default,a=r(6690).default,i=r(1655).default,o=r(6389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.HandlerInterface=void 0;var s=function(e){i(r,e);var t=o(r);function r(){return a(this,r),t.call(this)}return n(r)}(r(7318).EnhancedEventEmitter);t.HandlerInterface=s},3997:function(e,t,r){"use strict";var n=r(4704).default,a=r(2122).default,i=r(7061).default,o=r(7156).default,s=r(6690).default,c=r(9728).default,u=r(1655).default,l=r(6389).default,d=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),p=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),f=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&d(t,e,r);return p(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ReactNative=void 0;var h=f(r(5861)),m=r(4115),v=r(6431),g=f(r(3001)),y=f(r(1777)),b=f(r(8978)),k=f(r(9547)),w=r(4376),_=r(9678),S=new m.Logger("ReactNative"),x={OS:1024,MIS:1024},C=function(e){u(r,e);var t=l(r);function r(){var e;return s(this,r),(e=t.call(this))._sendStream=new MediaStream,e._mapSendLocalIdTrack=new Map,e._nextSendLocalId=0,e._mapRecvLocalIdInfo=new Map,e._hasDataChannelMediaSection=!1,e._nextSendSctpStreamId=0,e._transportReady=!1,e}return c(r,[{key:"name",get:function(){return"ReactNative"}},{key:"close",value:function(){if(S.debug("close()"),this._sendStream.release(!1),this._pc)try{this._pc.close()}catch(e){}this.emit("@close")}},{key:"getNativeRtpCapabilities",value:function(){var e=o(i().mark((function e(){var t,r,n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S.debug("getNativeRtpCapabilities()"),t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"}),e.prev=2,e.next=5,t.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});case 5:r=e.sent;try{t.close()}catch(i){}return n=h.parse(r.sdp),a=b.extractRtpCapabilities({sdpObject:n}),e.abrupt("return",a);case 12:e.prev=12,e.t0=e.catch(2);try{t.close()}catch(o){}throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"getNativeSctpCapabilities",value:function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S.debug("getNativeSctpCapabilities()"),e.abrupt("return",{numStreams:x});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"run",value:function(e){var t=this,r=e.direction,n=e.iceParameters,i=e.iceCandidates,o=e.dtlsParameters,s=e.sctpParameters,c=e.iceServers,u=e.iceTransportPolicy,l=e.additionalSettings,d=e.proprietaryConstraints,p=e.extendedRtpCapabilities;S.debug("run()"),this._direction=r,this._remoteSdp=new _.RemoteSdp({iceParameters:n,iceCandidates:i,dtlsParameters:o,sctpParameters:s,planB:!0}),this._sendingRtpParametersByKind={audio:y.getSendingRtpParameters("audio",p),video:y.getSendingRtpParameters("video",p)},this._sendingRemoteRtpParametersByKind={audio:y.getSendingRemoteRtpParameters("audio",p),video:y.getSendingRemoteRtpParameters("video",p)},o.role&&"auto"!==o.role&&(this._forcedLocalDtlsRole="server"===o.role?"client":"server"),this._pc=new RTCPeerConnection(a({iceServers:c||[],iceTransportPolicy:u||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"},l),d),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",(function(){t.emit("@connectionstatechange",t._pc.connectionState)})):this._pc.addEventListener("iceconnectionstatechange",(function(){switch(S.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),t._pc.iceConnectionState){case"checking":t.emit("@connectionstatechange","connecting");break;case"connected":case"completed":t.emit("@connectionstatechange","connected");break;case"failed":t.emit("@connectionstatechange","failed");break;case"disconnected":t.emit("@connectionstatechange","disconnected");break;case"closed":t.emit("@connectionstatechange","closed")}}))}},{key:"updateIceServers",value:function(){var e=o(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S.debug("updateIceServers()"),(r=this._pc.getConfiguration()).iceServers=t,this._pc.setConfiguration(r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"restartIce",value:function(){var e=o(i().mark((function e(t){var r,n,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),this._transportReady){e.next=4;break}return e.abrupt("return");case 4:if("send"!==this._direction){e.next=17;break}return e.next=7,this._pc.createOffer({iceRestart:!0});case 7:return r=e.sent,S.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),e.next=11,this._pc.setLocalDescription(r);case 11:return n={type:"answer",sdp:this._remoteSdp.getSdp()},S.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),e.next=15,this._pc.setRemoteDescription(n);case 15:e.next=27;break;case 17:return a={type:"offer",sdp:this._remoteSdp.getSdp()},S.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",a),e.next=21,this._pc.setRemoteDescription(a);case 21:return e.next=23,this._pc.createAnswer();case 23:return o=e.sent,S.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",o),e.next=27,this._pc.setLocalDescription(o);case 27:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTransportStats",value:function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._pc.getStats());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"send",value:function(){var e=o(i().mark((function e(t){var r,a,o,s,c,u,l,d,p,f,m,v,w,_,x;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.track,a=t.encodings,o=t.codecOptions,s=t.codec,this.assertSendDirection(),S.debug("send() [kind:%s, track.id:%s]",r.kind,r.id),s&&S.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(r),this._pc.addStream(this._sendStream),e.next=8,this._pc.createOffer();case 8:if(u=e.sent,l=h.parse(u.sdp),(p=g.clone(this._sendingRtpParametersByKind[r.kind],{})).codecs=y.reduceCodecs(p.codecs),(f=g.clone(this._sendingRemoteRtpParametersByKind[r.kind],{})).codecs=y.reduceCodecs(f.codecs),this._transportReady){e.next=17;break}return e.next=17,this.setupTransport({localDtlsRole:null!==(c=this._forcedLocalDtlsRole)&&void 0!==c?c:"client",localSdpObject:l});case 17:return"video"===r.kind&&a&&a.length>1&&(S.debug("send() | enabling simulcast"),l=h.parse(u.sdp),d=l.media.find((function(e){return"video"===e.type})),k.addLegacySimulcast({offerMediaObject:d,track:r,numStreams:a.length}),u={type:"offer",sdp:h.write(l)}),S.debug("send() | calling pc.setLocalDescription() [offer:%o]",u),e.next=21,this._pc.setLocalDescription(u);case 21:if(l=h.parse(this._pc.localDescription.sdp),d=l.media.find((function(e){return e.type===r.kind})),p.rtcp.cname=b.getCname({offerMediaObject:d}),p.encodings=k.getRtpEncodings({offerMediaObject:d,track:r}),a)for(m=0;m<p.encodings.length;++m)a[m]&&Object.assign(p.encodings[m],a[m]);if(p.encodings.length>1&&("video/vp8"===p.codecs[0].mimeType.toLowerCase()||"video/h264"===p.codecs[0].mimeType.toLowerCase())){v=n(p.encodings);try{for(v.s();!(w=v.n()).done;)w.value.scalabilityMode="L1T3"}catch(i){v.e(i)}finally{v.f()}}return this._remoteSdp.send({offerMediaObject:d,offerRtpParameters:p,answerRtpParameters:f,codecOptions:o}),_={type:"answer",sdp:this._remoteSdp.getSdp()},S.debug("send() | calling pc.setRemoteDescription() [answer:%o]",_),e.next=32,this._pc.setRemoteDescription(_);case 32:return x=String(this._nextSendLocalId),this._nextSendLocalId++,this._mapSendLocalIdTrack.set(x,r),e.abrupt("return",{localId:x,rtpParameters:p});case 36:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"stopSending",value:function(){var e=o(i().mark((function e(t){var r,n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.assertSendDirection(),S.debug("stopSending() [localId:%s]",t),r=this._mapSendLocalIdTrack.get(t)){e.next=5;break}throw new Error("track not found");case 5:return this._mapSendLocalIdTrack.delete(t),this._sendStream.removeTrack(r),this._pc.addStream(this._sendStream),e.next=10,this._pc.createOffer();case 10:return n=e.sent,S.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n),e.prev=12,e.next=15,this._pc.setLocalDescription(n);case 15:e.next=23;break;case 17:if(e.prev=17,e.t0=e.catch(12),0!==this._sendStream.getTracks().length){e.next=22;break}return S.warn("stopSending() | ignoring expected error due no sending tracks: %s",e.t0.toString()),e.abrupt("return");case 22:throw e.t0;case 23:if("stable"!==this._pc.signalingState){e.next=25;break}return e.abrupt("return");case 25:return a={type:"answer",sdp:this._remoteSdp.getSdp()},S.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",a),e.next=29,this._pc.setRemoteDescription(a);case 29:case"end":return e.stop()}}),e,this,[[12,17]])})));return function(t){return e.apply(this,arguments)}}()},{key:"pauseSending",value:function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"resumeSending",value:function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"replaceTrack",value:function(){var e=o(i().mark((function e(t,r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new v.UnsupportedError("not implemented");case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"setMaxSpatialLayer",value:function(){var e=o(i().mark((function e(t,r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new v.UnsupportedError("not implemented");case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"setRtpEncodingParameters",value:function(){var e=o(i().mark((function e(t,r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new v.UnsupportedError("not implemented");case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getSenderStats",value:function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new v.UnsupportedError("not implemented");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendDataChannel",value:function(){var e=o(i().mark((function e(t){var r,n,a,o,s,c,u,l,d,p,f,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.ordered,n=t.maxPacketLifeTime,a=t.maxRetransmits,o=t.label,s=t.protocol,this.assertSendDirection(),u={negotiated:!0,id:this._nextSendSctpStreamId,ordered:r,maxPacketLifeTime:n,maxRetransmitTime:n,maxRetransmits:a,protocol:s},S.debug("sendDataChannel() [options:%o]",u),l=this._pc.createDataChannel(o,u),this._nextSendSctpStreamId=++this._nextSendSctpStreamId%x.MIS,this._hasDataChannelMediaSection){e.next=24;break}return e.next=9,this._pc.createOffer();case 9:if(d=e.sent,p=h.parse(d.sdp),f=p.media.find((function(e){return"application"===e.type})),this._transportReady){e.next=15;break}return e.next=15,this.setupTransport({localDtlsRole:null!==(c=this._forcedLocalDtlsRole)&&void 0!==c?c:"client",localSdpObject:p});case 15:return S.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",d),e.next=18,this._pc.setLocalDescription(d);case 18:return this._remoteSdp.sendSctpAssociation({offerMediaObject:f}),m={type:"answer",sdp:this._remoteSdp.getSdp()},S.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",m),e.next=23,this._pc.setRemoteDescription(m);case 23:this._hasDataChannelMediaSection=!0;case 24:return v={streamId:u.id,ordered:u.ordered,maxPacketLifeTime:u.maxPacketLifeTime,maxRetransmits:u.maxRetransmits},e.abrupt("return",{dataChannel:l,sctpStreamParameters:v});case 26:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"receive",value:function(){var e=o(i().mark((function e(t){var r,a,o,s,c,u,l,d,p,f,m,v,y,k,w,_,x,C,P,R,T=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.assertRecvDirection(),a=[],o=new Map,s=n(t);try{for(s.s();!(c=s.n()).done;)u=c.value,l=u.trackId,d=u.kind,p=u.rtpParameters,S.debug("receive() [trackId:%s, kind:%s]",l,d),f=d,m=u.streamId||p.rtcp.cname,S.debug("receive() | forcing a random remote streamId to avoid well known bug in react-native-webrtc"),m+="-hack-".concat(g.generateRandomNumber()),o.set(l,m),this._remoteSdp.receive({mid:f,kind:d,offerRtpParameters:p,streamId:m,trackId:l})}catch(E){s.e(E)}finally{s.f()}return v={type:"offer",sdp:this._remoteSdp.getSdp()},S.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",v),e.next=9,this._pc.setRemoteDescription(v);case 9:return e.next=11,this._pc.createAnswer();case 11:y=e.sent,k=h.parse(y.sdp),w=n(t),e.prev=14,x=i().mark((function e(){var t,r,n,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=_.value,r=t.kind,n=t.rtpParameters,a=r,o=k.media.find((function(e){return String(e.mid)===a})),b.applyCodecParameters({offerRtpParameters:n,answerMediaObject:o});case 5:case"end":return e.stop()}}),e)})),w.s();case 17:if((_=w.n()).done){e.next=21;break}return e.delegateYield(x(),"t0",19);case 19:e.next=17;break;case 21:e.next=26;break;case 23:e.prev=23,e.t1=e.catch(14),w.e(e.t1);case 26:return e.prev=26,w.f(),e.finish(26);case 29:if(y={type:"answer",sdp:h.write(k)},this._transportReady){e.next=33;break}return e.next=33,this.setupTransport({localDtlsRole:null!==(r=this._forcedLocalDtlsRole)&&void 0!==r?r:"client",localSdpObject:k});case 33:return S.debug("receive() | calling pc.setLocalDescription() [answer:%o]",y),e.next=36,this._pc.setLocalDescription(y);case 36:C=n(t),e.prev=37,R=i().mark((function e(){var t,r,n,s,c,u,l,d,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=P.value,r=t.kind,n=t.trackId,s=t.rtpParameters,c=n,u=r,l=o.get(n),d=T._pc.getRemoteStreams().find((function(e){return e.id===l})),p=d.getTrackById(c)){e.next=9;break}throw new Error("remote track not found");case 9:T._mapRecvLocalIdInfo.set(c,{mid:u,rtpParameters:s}),a.push({localId:c,track:p});case 11:case"end":return e.stop()}}),e)})),C.s();case 40:if((P=C.n()).done){e.next=44;break}return e.delegateYield(R(),"t2",42);case 42:e.next=40;break;case 44:e.next=49;break;case 46:e.prev=46,e.t3=e.catch(37),C.e(e.t3);case 49:return e.prev=49,C.f(),e.finish(49);case 52:return e.abrupt("return",a);case 53:case"end":return e.stop()}}),e,this,[[14,23,26,29],[37,46,49,52]])})));return function(t){return e.apply(this,arguments)}}()},{key:"stopReceiving",value:function(){var e=o(i().mark((function e(t){var r,a,o,s,c,u,l,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.assertRecvDirection(),r=n(t);try{for(r.s();!(a=r.n()).done;)o=a.value,S.debug("stopReceiving() [localId:%s]",o),s=this._mapRecvLocalIdInfo.get(o)||{},c=s.mid,u=s.rtpParameters,this._mapRecvLocalIdInfo.delete(o),this._remoteSdp.planBStopReceiving({mid:c,offerRtpParameters:u})}catch(i){r.e(i)}finally{r.f()}return l={type:"offer",sdp:this._remoteSdp.getSdp()},S.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",l),e.next=7,this._pc.setRemoteDescription(l);case 7:return e.next=9,this._pc.createAnswer();case 9:return d=e.sent,S.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",d),e.next=13,this._pc.setLocalDescription(d);case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"pauseReceiving",value:function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"resumeReceiving",value:function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getReceiverStats",value:function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new v.UnsupportedError("not implemented");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"receiveDataChannel",value:function(){var e=o(i().mark((function e(t){var r,n,a,o,s,c,u,l,d,p,f,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.sctpStreamParameters,n=t.label,a=t.protocol,this.assertRecvDirection(),s=r.streamId,c=r.ordered,u=r.maxPacketLifeTime,l=r.maxRetransmits,d={negotiated:!0,id:s,ordered:c,maxPacketLifeTime:u,maxRetransmitTime:u,maxRetransmits:l,protocol:a},S.debug("receiveDataChannel() [options:%o]",d),p=this._pc.createDataChannel(n,d),this._hasDataChannelMediaSection){e.next=23;break}return this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0}),f={type:"offer",sdp:this._remoteSdp.getSdp()},S.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",f),e.next=12,this._pc.setRemoteDescription(f);case 12:return e.next=14,this._pc.createAnswer();case 14:if(m=e.sent,this._transportReady){e.next=19;break}return v=h.parse(m.sdp),e.next=19,this.setupTransport({localDtlsRole:null!==(o=this._forcedLocalDtlsRole)&&void 0!==o?o:"client",localSdpObject:v});case 19:return S.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",m),e.next=22,this._pc.setLocalDescription(m);case 22:this._hasDataChannelMediaSection=!0;case 23:return e.abrupt("return",{dataChannel:p});case 24:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setupTransport",value:function(){var e=o(i().mark((function e(t){var r,n,a,o=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.localDtlsRole,(n=t.localSdpObject)||(n=h.parse(this._pc.localDescription.sdp)),(a=b.extractDtlsParameters({sdpObject:n})).role=r,this._remoteSdp.updateDtlsRole("client"===r?"server":"client"),e.next=7,new Promise((function(e,t){o.safeEmit("@connect",{dtlsParameters:a},e,t)}));case 7:this._transportReady=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"assertSendDirection",value:function(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}},{key:"assertRecvDirection",value:function(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}],[{key:"createFactory",value:function(){return function(){return new r}}}]),r}(w.HandlerInterface);t.ReactNative=C},3685:function(e,t,r){"use strict";var n=r(4704).default,a=r(2122).default,i=r(7061).default,o=r(7156).default,s=r(6690).default,c=r(9728).default,u=r(1655).default,l=r(6389).default,d=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),p=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),f=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&d(t,e,r);return p(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ReactNativeUnifiedPlan=void 0;var h=f(r(5861)),m=r(4115),v=f(r(3001)),g=f(r(1777)),y=f(r(8978)),b=f(r(8480)),k=f(r(4032)),w=r(4376),_=r(9678),S=r(8732),x=new m.Logger("ReactNativeUnifiedPlan"),C={OS:1024,MIS:1024},P=function(e){u(r,e);var t=l(r);function r(){var e;return s(this,r),(e=t.call(this))._mapMidTransceiver=new Map,e._sendStream=new MediaStream,e._hasDataChannelMediaSection=!1,e._nextSendSctpStreamId=0,e._transportReady=!1,e}return c(r,[{key:"name",get:function(){return"ReactNativeUnifiedPlan"}},{key:"close",value:function(){if(x.debug("close()"),this._sendStream.release(!1),this._pc)try{this._pc.close()}catch(e){}this.emit("@close")}},{key:"getNativeRtpCapabilities",value:function(){var e=o(i().mark((function e(){var t,r,n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x.debug("getNativeRtpCapabilities()"),t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"}),e.prev=2,t.addTransceiver("audio"),t.addTransceiver("video"),e.next=7,t.createOffer();case 7:r=e.sent;try{t.close()}catch(i){}return n=h.parse(r.sdp),a=y.extractRtpCapabilities({sdpObject:n}),k.addNackSuppportForOpus(a),e.abrupt("return",a);case 15:e.prev=15,e.t0=e.catch(2);try{t.close()}catch(o){}throw e.t0;case 19:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(){return e.apply(this,arguments)}}()},{key:"getNativeSctpCapabilities",value:function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x.debug("getNativeSctpCapabilities()"),e.abrupt("return",{numStreams:C});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"run",value:function(e){var t=this,r=e.direction,n=e.iceParameters,i=e.iceCandidates,o=e.dtlsParameters,s=e.sctpParameters,c=e.iceServers,u=e.iceTransportPolicy,l=e.additionalSettings,d=e.proprietaryConstraints,p=e.extendedRtpCapabilities;x.debug("run()"),this._direction=r,this._remoteSdp=new _.RemoteSdp({iceParameters:n,iceCandidates:i,dtlsParameters:o,sctpParameters:s}),this._sendingRtpParametersByKind={audio:g.getSendingRtpParameters("audio",p),video:g.getSendingRtpParameters("video",p)},this._sendingRemoteRtpParametersByKind={audio:g.getSendingRemoteRtpParameters("audio",p),video:g.getSendingRemoteRtpParameters("video",p)},o.role&&"auto"!==o.role&&(this._forcedLocalDtlsRole="server"===o.role?"client":"server"),this._pc=new RTCPeerConnection(a({iceServers:c||[],iceTransportPolicy:u||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"},l),d),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",(function(){t.emit("@connectionstatechange",t._pc.connectionState)})):this._pc.addEventListener("iceconnectionstatechange",(function(){switch(x.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),t._pc.iceConnectionState){case"checking":t.emit("@connectionstatechange","connecting");break;case"connected":case"completed":t.emit("@connectionstatechange","connected");break;case"failed":t.emit("@connectionstatechange","failed");break;case"disconnected":t.emit("@connectionstatechange","disconnected");break;case"closed":t.emit("@connectionstatechange","closed")}}))}},{key:"updateIceServers",value:function(){var e=o(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x.debug("updateIceServers()"),(r=this._pc.getConfiguration()).iceServers=t,this._pc.setConfiguration(r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"restartIce",value:function(){var e=o(i().mark((function e(t){var r,n,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),this._transportReady){e.next=4;break}return e.abrupt("return");case 4:if("send"!==this._direction){e.next=17;break}return e.next=7,this._pc.createOffer({iceRestart:!0});case 7:return r=e.sent,x.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),e.next=11,this._pc.setLocalDescription(r);case 11:return n={type:"answer",sdp:this._remoteSdp.getSdp()},x.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),e.next=15,this._pc.setRemoteDescription(n);case 15:e.next=27;break;case 17:return a={type:"offer",sdp:this._remoteSdp.getSdp()},x.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",a),e.next=21,this._pc.setRemoteDescription(a);case 21:return e.next=23,this._pc.createAnswer();case 23:return o=e.sent,x.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",o),e.next=27,this._pc.setLocalDescription(o);case 27:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTransportStats",value:function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._pc.getStats());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"send",value:function(){var e=o(i().mark((function e(t){var r,a,o,s,c,u,l,d,p,f,m,k,w,_,C,P,R,T,E,O;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.track,a=t.encodings,o=t.codecOptions,s=t.codec,this.assertSendDirection(),x.debug("send() [kind:%s, track.id:%s]",r.kind,r.id),a&&a.length>1&&a.forEach((function(e,t){e.rid="r".concat(t)})),(u=v.clone(this._sendingRtpParametersByKind[r.kind],{})).codecs=g.reduceCodecs(u.codecs,s),(l=v.clone(this._sendingRemoteRtpParametersByKind[r.kind],{})).codecs=g.reduceCodecs(l.codecs,s),d=this._remoteSdp.getNextMediaSectionIdx(),p=this._pc.addTransceiver(r,{direction:"sendonly",streams:[this._sendStream],sendEncodings:a}),e.next=12,this._pc.createOffer();case 12:if(f=e.sent,m=h.parse(f.sdp),this._transportReady){e.next=17;break}return e.next=17,this.setupTransport({localDtlsRole:null!==(c=this._forcedLocalDtlsRole)&&void 0!==c?c:"client",localSdpObject:m});case 17:return w=!1,_=(0,S.parse)((a||[{}])[0].scalabilityMode),a&&1===a.length&&_.spatialLayers>1&&"video/vp9"===u.codecs[0].mimeType.toLowerCase()&&(x.debug("send() | enabling legacy simulcast for VP9 SVC"),w=!0,m=h.parse(f.sdp),k=m.media[d.idx],b.addLegacySimulcast({offerMediaObject:k,numStreams:_.spatialLayers}),f={type:"offer",sdp:h.write(m)}),x.debug("send() | calling pc.setLocalDescription() [offer:%o]",f),e.next=23,this._pc.setLocalDescription(f);case 23:if(C=p.mid,u.mid=C,m=h.parse(this._pc.localDescription.sdp),k=m.media[d.idx],u.rtcp.cname=y.getCname({offerMediaObject:k}),a?1===a.length?(P=b.getRtpEncodings({offerMediaObject:k}),Object.assign(P[0],a[0]),w&&(P=[P[0]]),u.encodings=P):u.encodings=a:u.encodings=b.getRtpEncodings({offerMediaObject:k}),u.encodings.length>1&&("video/vp8"===u.codecs[0].mimeType.toLowerCase()||"video/h264"===u.codecs[0].mimeType.toLowerCase())){R=n(u.encodings);try{for(R.s();!(T=R.n()).done;)(E=T.value).scalabilityMode?E.scalabilityMode="L1T".concat(_.temporalLayers):E.scalabilityMode="L1T3"}catch(i){R.e(i)}finally{R.f()}}return this._remoteSdp.send({offerMediaObject:k,reuseMid:d.reuseMid,offerRtpParameters:u,answerRtpParameters:l,codecOptions:o,extmapAllowMixed:!0}),O={type:"answer",sdp:this._remoteSdp.getSdp()},x.debug("send() | calling pc.setRemoteDescription() [answer:%o]",O),e.next=35,this._pc.setRemoteDescription(O);case 35:return this._mapMidTransceiver.set(C,p),e.abrupt("return",{localId:C,rtpParameters:u,rtpSender:p.sender});case 37:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"stopSending",value:function(){var e=o(i().mark((function e(t){var r,n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.assertSendDirection(),x.debug("stopSending() [localId:%s]",t),r=this._mapMidTransceiver.get(t)){e.next=5;break}throw new Error("associated RTCRtpTransceiver not found");case 5:if(r.sender.replaceTrack(null),this._pc.removeTrack(r.sender),this._remoteSdp.closeMediaSection(r.mid))try{r.stop()}catch(i){}return e.next=11,this._pc.createOffer();case 11:return n=e.sent,x.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n),e.next=15,this._pc.setLocalDescription(n);case 15:return a={type:"answer",sdp:this._remoteSdp.getSdp()},x.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",a),e.next=19,this._pc.setRemoteDescription(a);case 19:this._mapMidTransceiver.delete(t);case 20:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"pauseSending",value:function(){var e=o(i().mark((function e(t){var r,n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.assertSendDirection(),x.debug("pauseSending() [localId:%s]",t),r=this._mapMidTransceiver.get(t)){e.next=5;break}throw new Error("associated RTCRtpTransceiver not found");case 5:return r.direction="inactive",this._remoteSdp.pauseMediaSection(t),e.next=9,this._pc.createOffer();case 9:return n=e.sent,x.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",n),e.next=13,this._pc.setLocalDescription(n);case 13:return a={type:"answer",sdp:this._remoteSdp.getSdp()},x.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",a),e.next=17,this._pc.setRemoteDescription(a);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"resumeSending",value:function(){var e=o(i().mark((function e(t){var r,n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.assertSendDirection(),x.debug("resumeSending() [localId:%s]",t),r=this._mapMidTransceiver.get(t),this._remoteSdp.resumeSendingMediaSection(t),r){e.next=6;break}throw new Error("associated RTCRtpTransceiver not found");case 6:return r.direction="sendonly",e.next=9,this._pc.createOffer();case 9:return n=e.sent,x.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",n),e.next=13,this._pc.setLocalDescription(n);case 13:return a={type:"answer",sdp:this._remoteSdp.getSdp()},x.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",a),e.next=17,this._pc.setRemoteDescription(a);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"replaceTrack",value:function(){var e=o(i().mark((function e(t,r){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.assertSendDirection(),r?x.debug("replaceTrack() [localId:%s, track.id:%s]",t,r.id):x.debug("replaceTrack() [localId:%s, no track]",t),n=this._mapMidTransceiver.get(t)){e.next=5;break}throw new Error("associated RTCRtpTransceiver not found");case 5:return e.next=7,n.sender.replaceTrack(r);case 7:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"setMaxSpatialLayer",value:function(){var e=o(i().mark((function e(t,r){var n,a,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.assertSendDirection(),x.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,r),n=this._mapMidTransceiver.get(t)){e.next=5;break}throw new Error("associated RTCRtpTransceiver not found");case 5:return(a=n.sender.getParameters()).encodings.forEach((function(e,t){e.active=t<=r})),e.next=9,n.sender.setParameters(a);case 9:return this._remoteSdp.muxMediaSectionSimulcast(t,a.encodings),e.next=12,this._pc.createOffer();case 12:return o=e.sent,x.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",o),e.next=16,this._pc.setLocalDescription(o);case 16:return s={type:"answer",sdp:this._remoteSdp.getSdp()},x.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",s),e.next=20,this._pc.setRemoteDescription(s);case 20:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"setRtpEncodingParameters",value:function(){var e=o(i().mark((function e(t,r){var n,o,s,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.assertSendDirection(),x.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,r),n=this._mapMidTransceiver.get(t)){e.next=5;break}throw new Error("associated RTCRtpTransceiver not found");case 5:return(o=n.sender.getParameters()).encodings.forEach((function(e,t){o.encodings[t]=a(a({},e),r)})),e.next=9,n.sender.setParameters(o);case 9:return this._remoteSdp.muxMediaSectionSimulcast(t,o.encodings),e.next=12,this._pc.createOffer();case 12:return s=e.sent,x.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",s),e.next=16,this._pc.setLocalDescription(s);case 16:return c={type:"answer",sdp:this._remoteSdp.getSdp()},x.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",c),e.next=20,this._pc.setRemoteDescription(c);case 20:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getSenderStats",value:function(){var e=o(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.assertSendDirection(),r=this._mapMidTransceiver.get(t)){e.next=4;break}throw new Error("associated RTCRtpTransceiver not found");case 4:return e.abrupt("return",r.sender.getStats());case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendDataChannel",value:function(){var e=o(i().mark((function e(t){var r,n,a,o,s,c,u,l,d,p,f,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.ordered,n=t.maxPacketLifeTime,a=t.maxRetransmits,o=t.label,s=t.protocol,this.assertSendDirection(),u={negotiated:!0,id:this._nextSendSctpStreamId,ordered:r,maxPacketLifeTime:n,maxRetransmits:a,protocol:s},x.debug("sendDataChannel() [options:%o]",u),l=this._pc.createDataChannel(o,u),this._nextSendSctpStreamId=++this._nextSendSctpStreamId%C.MIS,this._hasDataChannelMediaSection){e.next=24;break}return e.next=9,this._pc.createOffer();case 9:if(d=e.sent,p=h.parse(d.sdp),f=p.media.find((function(e){return"application"===e.type})),this._transportReady){e.next=15;break}return e.next=15,this.setupTransport({localDtlsRole:null!==(c=this._forcedLocalDtlsRole)&&void 0!==c?c:"client",localSdpObject:p});case 15:return x.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",d),e.next=18,this._pc.setLocalDescription(d);case 18:return this._remoteSdp.sendSctpAssociation({offerMediaObject:f}),m={type:"answer",sdp:this._remoteSdp.getSdp()},x.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",m),e.next=23,this._pc.setRemoteDescription(m);case 23:this._hasDataChannelMediaSection=!0;case 24:return v={streamId:u.id,ordered:u.ordered,maxPacketLifeTime:u.maxPacketLifeTime,maxRetransmits:u.maxRetransmits},e.abrupt("return",{dataChannel:l,sctpStreamParameters:v});case 26:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"receive",value:function(){var e=o(i().mark((function e(t){var r,a,o,s,c,u,l,d,p,f,m,v,g,b,k,w,_,S,C,P,R=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.assertRecvDirection(),a=[],o=new Map,s=n(t);try{for(s.s();!(c=s.n()).done;)u=c.value,l=u.trackId,d=u.kind,p=u.rtpParameters,f=u.streamId,x.debug("receive() [trackId:%s, kind:%s]",l,d),m=p.mid||String(this._mapMidTransceiver.size),o.set(l,m),this._remoteSdp.receive({mid:m,kind:d,offerRtpParameters:p,streamId:f||p.rtcp.cname,trackId:l})}catch(T){s.e(T)}finally{s.f()}return v={type:"offer",sdp:this._remoteSdp.getSdp()},x.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",v),e.next=9,this._pc.setRemoteDescription(v);case 9:return e.next=11,this._pc.createAnswer();case 11:g=e.sent,b=h.parse(g.sdp),k=n(t),e.prev=14,_=i().mark((function e(){var t,r,n,a,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=w.value,r=t.trackId,n=t.rtpParameters,a=o.get(r),s=b.media.find((function(e){return String(e.mid)===a})),y.applyCodecParameters({offerRtpParameters:n,answerMediaObject:s});case 5:case"end":return e.stop()}}),e)})),k.s();case 17:if((w=k.n()).done){e.next=21;break}return e.delegateYield(_(),"t0",19);case 19:e.next=17;break;case 21:e.next=26;break;case 23:e.prev=23,e.t1=e.catch(14),k.e(e.t1);case 26:return e.prev=26,k.f(),e.finish(26);case 29:if(g={type:"answer",sdp:h.write(b)},this._transportReady){e.next=33;break}return e.next=33,this.setupTransport({localDtlsRole:null!==(r=this._forcedLocalDtlsRole)&&void 0!==r?r:"client",localSdpObject:b});case 33:return x.debug("receive() | calling pc.setLocalDescription() [answer:%o]",g),e.next=36,this._pc.setLocalDescription(g);case 36:S=n(t),e.prev=37,P=i().mark((function e(){var t,r,n,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=C.value,r=t.trackId,n=o.get(r),s=R._pc.getTransceivers().find((function(e){return e.mid===n}))){e.next=8;break}throw new Error("new RTCRtpTransceiver not found");case 8:R._mapMidTransceiver.set(n,s),a.push({localId:n,track:s.receiver.track,rtpReceiver:s.receiver});case 10:case"end":return e.stop()}}),e)})),S.s();case 40:if((C=S.n()).done){e.next=44;break}return e.delegateYield(P(),"t2",42);case 42:e.next=40;break;case 44:e.next=49;break;case 46:e.prev=46,e.t3=e.catch(37),S.e(e.t3);case 49:return e.prev=49,S.f(),e.finish(49);case 52:return e.abrupt("return",a);case 53:case"end":return e.stop()}}),e,this,[[14,23,26,29],[37,46,49,52]])})));return function(t){return e.apply(this,arguments)}}()},{key:"stopReceiving",value:function(){var e=o(i().mark((function e(t){var r,a,o,s,c,u,l,d,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.assertRecvDirection(),r=n(t),e.prev=2,r.s();case 4:if((a=r.n()).done){e.next=13;break}if(o=a.value,x.debug("stopReceiving() [localId:%s]",o),s=this._mapMidTransceiver.get(o)){e.next=10;break}throw new Error("associated RTCRtpTransceiver not found");case 10:this._remoteSdp.closeMediaSection(s.mid);case 11:e.next=4;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return c={type:"offer",sdp:this._remoteSdp.getSdp()},x.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",c),e.next=25,this._pc.setRemoteDescription(c);case 25:return e.next=27,this._pc.createAnswer();case 27:return u=e.sent,x.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",u),e.next=31,this._pc.setLocalDescription(u);case 31:l=n(t);try{for(l.s();!(d=l.n()).done;)p=d.value,this._mapMidTransceiver.delete(p)}catch(i){l.e(i)}finally{l.f()}case 33:case"end":return e.stop()}}),e,this,[[2,15,18,21]])})));return function(t){return e.apply(this,arguments)}}()},{key:"pauseReceiving",value:function(){var e=o(i().mark((function e(t){var r,a,o,s,c,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.assertRecvDirection(),r=n(t),e.prev=2,r.s();case 4:if((a=r.n()).done){e.next=14;break}if(o=a.value,x.debug("pauseReceiving() [localId:%s]",o),s=this._mapMidTransceiver.get(o)){e.next=10;break}throw new Error("associated RTCRtpTransceiver not found");case 10:s.direction="inactive",this._remoteSdp.pauseMediaSection(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:return c={type:"offer",sdp:this._remoteSdp.getSdp()},x.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",c),e.next=26,this._pc.setRemoteDescription(c);case 26:return e.next=28,this._pc.createAnswer();case 28:return u=e.sent,x.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",u),e.next=32,this._pc.setLocalDescription(u);case 32:case"end":return e.stop()}}),e,this,[[2,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()},{key:"resumeReceiving",value:function(){var e=o(i().mark((function e(t){var r,a,o,s,c,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.assertRecvDirection(),r=n(t),e.prev=2,r.s();case 4:if((a=r.n()).done){e.next=14;break}if(o=a.value,x.debug("resumeReceiving() [localId:%s]",o),s=this._mapMidTransceiver.get(o)){e.next=10;break}throw new Error("associated RTCRtpTransceiver not found");case 10:s.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:return c={type:"offer",sdp:this._remoteSdp.getSdp()},x.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",c),e.next=26,this._pc.setRemoteDescription(c);case 26:return e.next=28,this._pc.createAnswer();case 28:return u=e.sent,x.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",u),e.next=32,this._pc.setLocalDescription(u);case 32:case"end":return e.stop()}}),e,this,[[2,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getReceiverStats",value:function(){var e=o(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.assertRecvDirection(),r=this._mapMidTransceiver.get(t)){e.next=4;break}throw new Error("associated RTCRtpTransceiver not found");case 4:return e.abrupt("return",r.receiver.getStats());case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"receiveDataChannel",value:function(){var e=o(i().mark((function e(t){var r,n,a,o,s,c,u,l,d,p,f,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.sctpStreamParameters,n=t.label,a=t.protocol,this.assertRecvDirection(),s=r.streamId,c=r.ordered,u=r.maxPacketLifeTime,l=r.maxRetransmits,d={negotiated:!0,id:s,ordered:c,maxPacketLifeTime:u,maxRetransmits:l,protocol:a},x.debug("receiveDataChannel() [options:%o]",d),p=this._pc.createDataChannel(n,d),this._hasDataChannelMediaSection){e.next=23;break}return this._remoteSdp.receiveSctpAssociation(),f={type:"offer",sdp:this._remoteSdp.getSdp()},x.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",f),e.next=12,this._pc.setRemoteDescription(f);case 12:return e.next=14,this._pc.createAnswer();case 14:if(m=e.sent,this._transportReady){e.next=19;break}return v=h.parse(m.sdp),e.next=19,this.setupTransport({localDtlsRole:null!==(o=this._forcedLocalDtlsRole)&&void 0!==o?o:"client",localSdpObject:v});case 19:return x.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",m),e.next=22,this._pc.setLocalDescription(m);case 22:this._hasDataChannelMediaSection=!0;case 23:return e.abrupt("return",{dataChannel:p});case 24:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setupTransport",value:function(){var e=o(i().mark((function e(t){var r,n,a,o=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.localDtlsRole,(n=t.localSdpObject)||(n=h.parse(this._pc.localDescription.sdp)),(a=y.extractDtlsParameters({sdpObject:n})).role=r,this._remoteSdp.updateDtlsRole("client"===r?"server":"client"),e.next=7,new Promise((function(e,t){o.safeEmit("@connect",{dtlsParameters:a},e,t)}));case 7:this._transportReady=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"assertSendDirection",value:function(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}},{key:"assertRecvDirection",value:function(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}],[{key:"createFactory",value:function(){return function(){return new r}}}]),r}(w.HandlerInterface);t.ReactNativeUnifiedPlan=P},9942:function(e,t,r){"use strict";var n=r(4704).default,a=r(2122).default,i=r(7061).default,o=r(7156).default,s=r(6690).default,c=r(9728).default,u=r(1655).default,l=r(6389).default,d=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),p=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),f=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&d(t,e,r);return p(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Safari11=void 0;var h=f(r(5861)),m=r(4115),v=f(r(3001)),g=f(r(1777)),y=f(r(8978)),b=f(r(9547)),k=r(4376),w=r(9678),_=new m.Logger("Safari11"),S={OS:1024,MIS:1024},x=function(e){u(r,e);var t=l(r);function r(){var e;return s(this,r),(e=t.call(this))._sendStream=new MediaStream,e._mapSendLocalIdRtpSender=new Map,e._nextSendLocalId=0,e._mapRecvLocalIdInfo=new Map,e._hasDataChannelMediaSection=!1,e._nextSendSctpStreamId=0,e._transportReady=!1,e}return c(r,[{key:"name",get:function(){return"Safari11"}},{key:"close",value:function(){if(_.debug("close()"),this._pc)try{this._pc.close()}catch(e){}this.emit("@close")}},{key:"getNativeRtpCapabilities",value:function(){var e=o(i().mark((function e(){var t,r,n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _.debug("getNativeRtpCapabilities()"),t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"}),e.prev=2,e.next=5,t.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});case 5:r=e.sent;try{t.close()}catch(i){}return n=h.parse(r.sdp),a=y.extractRtpCapabilities({sdpObject:n}),e.abrupt("return",a);case 12:e.prev=12,e.t0=e.catch(2);try{t.close()}catch(o){}throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"getNativeSctpCapabilities",value:function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _.debug("getNativeSctpCapabilities()"),e.abrupt("return",{numStreams:S});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"run",value:function(e){var t=this,r=e.direction,n=e.iceParameters,i=e.iceCandidates,o=e.dtlsParameters,s=e.sctpParameters,c=e.iceServers,u=e.iceTransportPolicy,l=e.additionalSettings,d=e.proprietaryConstraints,p=e.extendedRtpCapabilities;_.debug("run()"),this._direction=r,this._remoteSdp=new w.RemoteSdp({iceParameters:n,iceCandidates:i,dtlsParameters:o,sctpParameters:s,planB:!0}),this._sendingRtpParametersByKind={audio:g.getSendingRtpParameters("audio",p),video:g.getSendingRtpParameters("video",p)},this._sendingRemoteRtpParametersByKind={audio:g.getSendingRemoteRtpParameters("audio",p),video:g.getSendingRemoteRtpParameters("video",p)},o.role&&"auto"!==o.role&&(this._forcedLocalDtlsRole="server"===o.role?"client":"server"),this._pc=new RTCPeerConnection(a({iceServers:c||[],iceTransportPolicy:u||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"},l),d),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",(function(){t.emit("@connectionstatechange",t._pc.connectionState)})):this._pc.addEventListener("iceconnectionstatechange",(function(){switch(_.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),t._pc.iceConnectionState){case"checking":t.emit("@connectionstatechange","connecting");break;case"connected":case"completed":t.emit("@connectionstatechange","connected");break;case"failed":t.emit("@connectionstatechange","failed");break;case"disconnected":t.emit("@connectionstatechange","disconnected");break;case"closed":t.emit("@connectionstatechange","closed")}}))}},{key:"updateIceServers",value:function(){var e=o(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_.debug("updateIceServers()"),(r=this._pc.getConfiguration()).iceServers=t,this._pc.setConfiguration(r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"restartIce",value:function(){var e=o(i().mark((function e(t){var r,n,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),this._transportReady){e.next=4;break}return e.abrupt("return");case 4:if("send"!==this._direction){e.next=17;break}return e.next=7,this._pc.createOffer({iceRestart:!0});case 7:return r=e.sent,_.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),e.next=11,this._pc.setLocalDescription(r);case 11:return n={type:"answer",sdp:this._remoteSdp.getSdp()},_.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),e.next=15,this._pc.setRemoteDescription(n);case 15:e.next=27;break;case 17:return a={type:"offer",sdp:this._remoteSdp.getSdp()},_.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",a),e.next=21,this._pc.setRemoteDescription(a);case 21:return e.next=23,this._pc.createAnswer();case 23:return o=e.sent,_.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",o),e.next=27,this._pc.setLocalDescription(o);case 27:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTransportStats",value:function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._pc.getStats());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"send",value:function(){var e=o(i().mark((function e(t){var r,a,o,s,c,u,l,d,p,f,m,k,w,S,x,C;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.track,a=t.encodings,o=t.codecOptions,s=t.codec,this.assertSendDirection(),_.debug("send() [kind:%s, track.id:%s]",r.kind,r.id),s&&_.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(r),this._pc.addTrack(r,this._sendStream),e.next=8,this._pc.createOffer();case 8:if(u=e.sent,l=h.parse(u.sdp),(p=v.clone(this._sendingRtpParametersByKind[r.kind],{})).codecs=g.reduceCodecs(p.codecs),(f=v.clone(this._sendingRemoteRtpParametersByKind[r.kind],{})).codecs=g.reduceCodecs(f.codecs),this._transportReady){e.next=17;break}return e.next=17,this.setupTransport({localDtlsRole:null!==(c=this._forcedLocalDtlsRole)&&void 0!==c?c:"client",localSdpObject:l});case 17:return"video"===r.kind&&a&&a.length>1&&(_.debug("send() | enabling simulcast"),l=h.parse(u.sdp),d=l.media.find((function(e){return"video"===e.type})),b.addLegacySimulcast({offerMediaObject:d,track:r,numStreams:a.length}),u={type:"offer",sdp:h.write(l)}),_.debug("send() | calling pc.setLocalDescription() [offer:%o]",u),e.next=21,this._pc.setLocalDescription(u);case 21:if(l=h.parse(this._pc.localDescription.sdp),d=l.media.find((function(e){return e.type===r.kind})),p.rtcp.cname=y.getCname({offerMediaObject:d}),p.encodings=b.getRtpEncodings({offerMediaObject:d,track:r}),a)for(m=0;m<p.encodings.length;++m)a[m]&&Object.assign(p.encodings[m],a[m]);if(p.encodings.length>1&&"video/vp8"===p.codecs[0].mimeType.toLowerCase()){k=n(p.encodings);try{for(k.s();!(w=k.n()).done;)w.value.scalabilityMode="L1T3"}catch(i){k.e(i)}finally{k.f()}}return this._remoteSdp.send({offerMediaObject:d,offerRtpParameters:p,answerRtpParameters:f,codecOptions:o}),S={type:"answer",sdp:this._remoteSdp.getSdp()},_.debug("send() | calling pc.setRemoteDescription() [answer:%o]",S),e.next=32,this._pc.setRemoteDescription(S);case 32:return x=String(this._nextSendLocalId),this._nextSendLocalId++,C=this._pc.getSenders().find((function(e){return e.track===r})),this._mapSendLocalIdRtpSender.set(x,C),e.abrupt("return",{localId:x,rtpParameters:p,rtpSender:C});case 37:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"stopSending",value:function(){var e=o(i().mark((function e(t){var r,n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.assertSendDirection(),r=this._mapSendLocalIdRtpSender.get(t)){e.next=4;break}throw new Error("associated RTCRtpSender not found");case 4:return r.track&&this._sendStream.removeTrack(r.track),this._mapSendLocalIdRtpSender.delete(t),e.next=8,this._pc.createOffer();case 8:return n=e.sent,_.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n),e.prev=10,e.next=13,this._pc.setLocalDescription(n);case 13:e.next=21;break;case 15:if(e.prev=15,e.t0=e.catch(10),0!==this._sendStream.getTracks().length){e.next=20;break}return _.warn("stopSending() | ignoring expected error due no sending tracks: %s",e.t0.toString()),e.abrupt("return");case 20:throw e.t0;case 21:if("stable"!==this._pc.signalingState){e.next=23;break}return e.abrupt("return");case 23:return a={type:"answer",sdp:this._remoteSdp.getSdp()},_.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",a),e.next=27,this._pc.setRemoteDescription(a);case 27:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()},{key:"pauseSending",value:function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"resumeSending",value:function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"replaceTrack",value:function(){var e=o(i().mark((function e(t,r){var n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.assertSendDirection(),r?_.debug("replaceTrack() [localId:%s, track.id:%s]",t,r.id):_.debug("replaceTrack() [localId:%s, no track]",t),n=this._mapSendLocalIdRtpSender.get(t)){e.next=5;break}throw new Error("associated RTCRtpSender not found");case 5:return a=n.track,e.next=8,n.replaceTrack(r);case 8:a&&this._sendStream.removeTrack(a),r&&this._sendStream.addTrack(r);case 10:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"setMaxSpatialLayer",value:function(){var e=o(i().mark((function e(t,r){var n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.assertSendDirection(),_.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,r),n=this._mapSendLocalIdRtpSender.get(t)){e.next=5;break}throw new Error("associated RTCRtpSender not found");case 5:return(a=n.getParameters()).encodings.forEach((function(e,t){e.active=t<=r})),e.next=9,n.setParameters(a);case 9:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"setRtpEncodingParameters",value:function(){var e=o(i().mark((function e(t,r){var n,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.assertSendDirection(),_.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,r),n=this._mapSendLocalIdRtpSender.get(t)){e.next=5;break}throw new Error("associated RTCRtpSender not found");case 5:return(o=n.getParameters()).encodings.forEach((function(e,t){o.encodings[t]=a(a({},e),r)})),e.next=9,n.setParameters(o);case 9:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getSenderStats",value:function(){var e=o(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.assertSendDirection(),r=this._mapSendLocalIdRtpSender.get(t)){e.next=4;break}throw new Error("associated RTCRtpSender not found");case 4:return e.abrupt("return",r.getStats());case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendDataChannel",value:function(){var e=o(i().mark((function e(t){var r,n,a,o,s,c,u,l,d,p,f,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.ordered,n=t.maxPacketLifeTime,a=t.maxRetransmits,o=t.label,s=t.protocol,this.assertSendDirection(),u={negotiated:!0,id:this._nextSendSctpStreamId,ordered:r,maxPacketLifeTime:n,maxRetransmits:a,protocol:s},_.debug("sendDataChannel() [options:%o]",u),l=this._pc.createDataChannel(o,u),this._nextSendSctpStreamId=++this._nextSendSctpStreamId%S.MIS,this._hasDataChannelMediaSection){e.next=24;break}return e.next=9,this._pc.createOffer();case 9:if(d=e.sent,p=h.parse(d.sdp),f=p.media.find((function(e){return"application"===e.type})),this._transportReady){e.next=15;break}return e.next=15,this.setupTransport({localDtlsRole:null!==(c=this._forcedLocalDtlsRole)&&void 0!==c?c:"client",localSdpObject:p});case 15:return _.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",d),e.next=18,this._pc.setLocalDescription(d);case 18:return this._remoteSdp.sendSctpAssociation({offerMediaObject:f}),m={type:"answer",sdp:this._remoteSdp.getSdp()},_.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",m),e.next=23,this._pc.setRemoteDescription(m);case 23:this._hasDataChannelMediaSection=!0;case 24:return v={streamId:u.id,ordered:u.ordered,maxPacketLifeTime:u.maxPacketLifeTime,maxRetransmits:u.maxRetransmits},e.abrupt("return",{dataChannel:l,sctpStreamParameters:v});case 26:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"receive",value:function(){var e=o(i().mark((function e(t){var r,a,o,s,c,u,l,d,p,f,m,v,g,b,k,w,S,x,C,P=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.assertRecvDirection(),a=[],o=n(t);try{for(o.s();!(s=o.n()).done;)c=s.value,u=c.trackId,l=c.kind,d=c.rtpParameters,p=c.streamId,_.debug("receive() [trackId:%s, kind:%s]",u,l),f=l,this._remoteSdp.receive({mid:f,kind:l,offerRtpParameters:d,streamId:p||d.rtcp.cname,trackId:u})}catch(R){o.e(R)}finally{o.f()}return m={type:"offer",sdp:this._remoteSdp.getSdp()},_.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",m),e.next=8,this._pc.setRemoteDescription(m);case 8:return e.next=10,this._pc.createAnswer();case 10:v=e.sent,g=h.parse(v.sdp),b=n(t),e.prev=13,w=i().mark((function e(){var t,r,n,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=k.value,r=t.kind,n=t.rtpParameters,a=r,o=g.media.find((function(e){return String(e.mid)===a})),y.applyCodecParameters({offerRtpParameters:n,answerMediaObject:o});case 5:case"end":return e.stop()}}),e)})),b.s();case 16:if((k=b.n()).done){e.next=20;break}return e.delegateYield(w(),"t0",18);case 18:e.next=16;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(13),b.e(e.t1);case 25:return e.prev=25,b.f(),e.finish(25);case 28:if(v={type:"answer",sdp:h.write(g)},this._transportReady){e.next=32;break}return e.next=32,this.setupTransport({localDtlsRole:null!==(r=this._forcedLocalDtlsRole)&&void 0!==r?r:"client",localSdpObject:g});case 32:return _.debug("receive() | calling pc.setLocalDescription() [answer:%o]",v),e.next=35,this._pc.setLocalDescription(v);case 35:S=n(t),e.prev=36,C=i().mark((function e(){var t,r,n,o,s,c,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=x.value,r=t.kind,n=t.trackId,o=t.rtpParameters,s=r,c=n,u=P._pc.getReceivers().find((function(e){return e.track&&e.track.id===c}))){e.next=7;break}throw new Error("new RTCRtpReceiver not");case 7:P._mapRecvLocalIdInfo.set(c,{mid:s,rtpParameters:o,rtpReceiver:u}),a.push({localId:c,track:u.track,rtpReceiver:u});case 9:case"end":return e.stop()}}),e)})),S.s();case 39:if((x=S.n()).done){e.next=43;break}return e.delegateYield(C(),"t2",41);case 41:e.next=39;break;case 43:e.next=48;break;case 45:e.prev=45,e.t3=e.catch(36),S.e(e.t3);case 48:return e.prev=48,S.f(),e.finish(48);case 51:return e.abrupt("return",a);case 52:case"end":return e.stop()}}),e,this,[[13,22,25,28],[36,45,48,51]])})));return function(t){return e.apply(this,arguments)}}()},{key:"stopReceiving",value:function(){var e=o(i().mark((function e(t){var r,a,o,s,c,u,l,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.assertRecvDirection(),r=n(t);try{for(r.s();!(a=r.n()).done;)o=a.value,_.debug("stopReceiving() [localId:%s]",o),s=this._mapRecvLocalIdInfo.get(o)||{},c=s.mid,u=s.rtpParameters,this._mapRecvLocalIdInfo.delete(o),this._remoteSdp.planBStopReceiving({mid:c,offerRtpParameters:u})}catch(i){r.e(i)}finally{r.f()}return l={type:"offer",sdp:this._remoteSdp.getSdp()},_.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",l),e.next=7,this._pc.setRemoteDescription(l);case 7:return e.next=9,this._pc.createAnswer();case 9:return d=e.sent,_.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",d),e.next=13,this._pc.setLocalDescription(d);case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getReceiverStats",value:function(){var e=o(i().mark((function e(t){var r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.assertRecvDirection(),r=this._mapRecvLocalIdInfo.get(t)||{},n=r.rtpReceiver){e.next=4;break}throw new Error("associated RTCRtpReceiver not found");case 4:return e.abrupt("return",n.getStats());case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"pauseReceiving",value:function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"resumeReceiving",value:function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"receiveDataChannel",value:function(){var e=o(i().mark((function e(t){var r,n,a,o,s,c,u,l,d,p,f,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.sctpStreamParameters,n=t.label,a=t.protocol,this.assertRecvDirection(),s=r.streamId,c=r.ordered,u=r.maxPacketLifeTime,l=r.maxRetransmits,d={negotiated:!0,id:s,ordered:c,maxPacketLifeTime:u,maxRetransmits:l,protocol:a},_.debug("receiveDataChannel() [options:%o]",d),p=this._pc.createDataChannel(n,d),this._hasDataChannelMediaSection){e.next=23;break}return this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0}),f={type:"offer",sdp:this._remoteSdp.getSdp()},_.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",f),e.next=12,this._pc.setRemoteDescription(f);case 12:return e.next=14,this._pc.createAnswer();case 14:if(m=e.sent,this._transportReady){e.next=19;break}return v=h.parse(m.sdp),e.next=19,this.setupTransport({localDtlsRole:null!==(o=this._forcedLocalDtlsRole)&&void 0!==o?o:"client",localSdpObject:v});case 19:return _.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",m),e.next=22,this._pc.setLocalDescription(m);case 22:this._hasDataChannelMediaSection=!0;case 23:return e.abrupt("return",{dataChannel:p});case 24:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setupTransport",value:function(){var e=o(i().mark((function e(t){var r,n,a,o=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.localDtlsRole,(n=t.localSdpObject)||(n=h.parse(this._pc.localDescription.sdp)),(a=y.extractDtlsParameters({sdpObject:n})).role=r,this._remoteSdp.updateDtlsRole("client"===r?"server":"client"),e.next=7,new Promise((function(e,t){o.safeEmit("@connect",{dtlsParameters:a},e,t)}));case 7:this._transportReady=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"assertSendDirection",value:function(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}},{key:"assertRecvDirection",value:function(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}],[{key:"createFactory",value:function(){return function(){return new r}}}]),r}(k.HandlerInterface);t.Safari11=x},3767:function(e,t,r){"use strict";var n=r(4704).default,a=r(2122).default,i=r(7061).default,o=r(7156).default,s=r(6690).default,c=r(9728).default,u=r(1655).default,l=r(6389).default,d=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),p=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),f=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&d(t,e,r);return p(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Safari12=void 0;var h=f(r(5861)),m=r(4115),v=f(r(3001)),g=f(r(1777)),y=f(r(8978)),b=f(r(8480)),k=f(r(4032)),w=r(4376),_=r(9678),S=r(8732),x=new m.Logger("Safari12"),C={OS:1024,MIS:1024},P=function(e){u(r,e);var t=l(r);function r(){var e;return s(this,r),(e=t.call(this))._mapMidTransceiver=new Map,e._sendStream=new MediaStream,e._hasDataChannelMediaSection=!1,e._nextSendSctpStreamId=0,e._transportReady=!1,e}return c(r,[{key:"name",get:function(){return"Safari12"}},{key:"close",value:function(){if(x.debug("close()"),this._pc)try{this._pc.close()}catch(e){}this.emit("@close")}},{key:"getNativeRtpCapabilities",value:function(){var e=o(i().mark((function e(){var t,r,n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x.debug("getNativeRtpCapabilities()"),t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),e.prev=2,t.addTransceiver("audio"),t.addTransceiver("video"),e.next=7,t.createOffer();case 7:r=e.sent;try{t.close()}catch(i){}return n=h.parse(r.sdp),a=y.extractRtpCapabilities({sdpObject:n}),k.addNackSuppportForOpus(a),e.abrupt("return",a);case 15:e.prev=15,e.t0=e.catch(2);try{t.close()}catch(o){}throw e.t0;case 19:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(){return e.apply(this,arguments)}}()},{key:"getNativeSctpCapabilities",value:function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x.debug("getNativeSctpCapabilities()"),e.abrupt("return",{numStreams:C});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"run",value:function(e){var t=this,r=e.direction,n=e.iceParameters,i=e.iceCandidates,o=e.dtlsParameters,s=e.sctpParameters,c=e.iceServers,u=e.iceTransportPolicy,l=e.additionalSettings,d=e.proprietaryConstraints,p=e.extendedRtpCapabilities;x.debug("run()"),this._direction=r,this._remoteSdp=new _.RemoteSdp({iceParameters:n,iceCandidates:i,dtlsParameters:o,sctpParameters:s}),this._sendingRtpParametersByKind={audio:g.getSendingRtpParameters("audio",p),video:g.getSendingRtpParameters("video",p)},this._sendingRemoteRtpParametersByKind={audio:g.getSendingRemoteRtpParameters("audio",p),video:g.getSendingRemoteRtpParameters("video",p)},o.role&&"auto"!==o.role&&(this._forcedLocalDtlsRole="server"===o.role?"client":"server"),this._pc=new RTCPeerConnection(a({iceServers:c||[],iceTransportPolicy:u||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"},l),d),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",(function(){t.emit("@connectionstatechange",t._pc.connectionState)})):this._pc.addEventListener("iceconnectionstatechange",(function(){switch(x.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),t._pc.iceConnectionState){case"checking":t.emit("@connectionstatechange","connecting");break;case"connected":case"completed":t.emit("@connectionstatechange","connected");break;case"failed":t.emit("@connectionstatechange","failed");break;case"disconnected":t.emit("@connectionstatechange","disconnected");break;case"closed":t.emit("@connectionstatechange","closed")}}))}},{key:"updateIceServers",value:function(){var e=o(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x.debug("updateIceServers()"),(r=this._pc.getConfiguration()).iceServers=t,this._pc.setConfiguration(r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"restartIce",value:function(){var e=o(i().mark((function e(t){var r,n,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),this._transportReady){e.next=4;break}return e.abrupt("return");case 4:if("send"!==this._direction){e.next=17;break}return e.next=7,this._pc.createOffer({iceRestart:!0});case 7:return r=e.sent,x.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),e.next=11,this._pc.setLocalDescription(r);case 11:return n={type:"answer",sdp:this._remoteSdp.getSdp()},x.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),e.next=15,this._pc.setRemoteDescription(n);case 15:e.next=27;break;case 17:return a={type:"offer",sdp:this._remoteSdp.getSdp()},x.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",a),e.next=21,this._pc.setRemoteDescription(a);case 21:return e.next=23,this._pc.createAnswer();case 23:return o=e.sent,x.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",o),e.next=27,this._pc.setLocalDescription(o);case 27:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTransportStats",value:function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._pc.getStats());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"send",value:function(){var e=o(i().mark((function e(t){var r,a,o,s,c,u,l,d,p,f,m,k,w,_,C,P,R,T,E;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.track,a=t.encodings,o=t.codecOptions,s=t.codec,this.assertSendDirection(),x.debug("send() [kind:%s, track.id:%s]",r.kind,r.id),(u=v.clone(this._sendingRtpParametersByKind[r.kind],{})).codecs=g.reduceCodecs(u.codecs,s),(l=v.clone(this._sendingRemoteRtpParametersByKind[r.kind],{})).codecs=g.reduceCodecs(l.codecs,s),d=this._remoteSdp.getNextMediaSectionIdx(),p=this._pc.addTransceiver(r,{direction:"sendonly",streams:[this._sendStream]}),e.next=11,this._pc.createOffer();case 11:if(f=e.sent,m=h.parse(f.sdp),this._transportReady){e.next=16;break}return e.next=16,this.setupTransport({localDtlsRole:null!==(c=this._forcedLocalDtlsRole)&&void 0!==c?c:"client",localSdpObject:m});case 16:return w=(0,S.parse)((a||[{}])[0].scalabilityMode),a&&a.length>1&&(x.debug("send() | enabling legacy simulcast"),m=h.parse(f.sdp),k=m.media[d.idx],b.addLegacySimulcast({offerMediaObject:k,numStreams:a.length}),f={type:"offer",sdp:h.write(m)}),x.debug("send() | calling pc.setLocalDescription() [offer:%o]",f),e.next=21,this._pc.setLocalDescription(f);case 21:if(_=p.mid,u.mid=_,m=h.parse(this._pc.localDescription.sdp),k=m.media[d.idx],u.rtcp.cname=y.getCname({offerMediaObject:k}),u.encodings=b.getRtpEncodings({offerMediaObject:k}),a)for(C=0;C<u.encodings.length;++C)a[C]&&Object.assign(u.encodings[C],a[C]);if(u.encodings.length>1&&("video/vp8"===u.codecs[0].mimeType.toLowerCase()||"video/h264"===u.codecs[0].mimeType.toLowerCase())){P=n(u.encodings);try{for(P.s();!(R=P.n()).done;)(T=R.value).scalabilityMode?T.scalabilityMode="L1T".concat(w.temporalLayers):T.scalabilityMode="L1T3"}catch(i){P.e(i)}finally{P.f()}}return this._remoteSdp.send({offerMediaObject:k,reuseMid:d.reuseMid,offerRtpParameters:u,answerRtpParameters:l,codecOptions:o}),E={type:"answer",sdp:this._remoteSdp.getSdp()},x.debug("send() | calling pc.setRemoteDescription() [answer:%o]",E),e.next=34,this._pc.setRemoteDescription(E);case 34:return this._mapMidTransceiver.set(_,p),e.abrupt("return",{localId:_,rtpParameters:u,rtpSender:p.sender});case 36:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"stopSending",value:function(){var e=o(i().mark((function e(t){var r,n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.assertSendDirection(),x.debug("stopSending() [localId:%s]",t),r=this._mapMidTransceiver.get(t)){e.next=5;break}throw new Error("associated RTCRtpTransceiver not found");case 5:if(r.sender.replaceTrack(null),this._pc.removeTrack(r.sender),this._remoteSdp.closeMediaSection(r.mid))try{r.stop()}catch(i){}return e.next=11,this._pc.createOffer();case 11:return n=e.sent,x.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n),e.next=15,this._pc.setLocalDescription(n);case 15:return a={type:"answer",sdp:this._remoteSdp.getSdp()},x.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",a),e.next=19,this._pc.setRemoteDescription(a);case 19:this._mapMidTransceiver.delete(t);case 20:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"pauseSending",value:function(){var e=o(i().mark((function e(t){var r,n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.assertSendDirection(),x.debug("pauseSending() [localId:%s]",t),r=this._mapMidTransceiver.get(t)){e.next=5;break}throw new Error("associated RTCRtpTransceiver not found");case 5:return r.direction="inactive",this._remoteSdp.pauseMediaSection(t),e.next=9,this._pc.createOffer();case 9:return n=e.sent,x.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",n),e.next=13,this._pc.setLocalDescription(n);case 13:return a={type:"answer",sdp:this._remoteSdp.getSdp()},x.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",a),e.next=17,this._pc.setRemoteDescription(a);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"resumeSending",value:function(){var e=o(i().mark((function e(t){var r,n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.assertSendDirection(),x.debug("resumeSending() [localId:%s]",t),r=this._mapMidTransceiver.get(t)){e.next=5;break}throw new Error("associated RTCRtpTransceiver not found");case 5:return r.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(t),e.next=9,this._pc.createOffer();case 9:return n=e.sent,x.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",n),e.next=13,this._pc.setLocalDescription(n);case 13:return a={type:"answer",sdp:this._remoteSdp.getSdp()},x.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",a),e.next=17,this._pc.setRemoteDescription(a);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"replaceTrack",value:function(){var e=o(i().mark((function e(t,r){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.assertSendDirection(),r?x.debug("replaceTrack() [localId:%s, track.id:%s]",t,r.id):x.debug("replaceTrack() [localId:%s, no track]",t),n=this._mapMidTransceiver.get(t)){e.next=5;break}throw new Error("associated RTCRtpTransceiver not found");case 5:return e.next=7,n.sender.replaceTrack(r);case 7:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"setMaxSpatialLayer",value:function(){var e=o(i().mark((function e(t,r){var n,a,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.assertSendDirection(),x.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,r),n=this._mapMidTransceiver.get(t)){e.next=5;break}throw new Error("associated RTCRtpTransceiver not found");case 5:return(a=n.sender.getParameters()).encodings.forEach((function(e,t){e.active=t<=r})),e.next=9,n.sender.setParameters(a);case 9:return this._remoteSdp.muxMediaSectionSimulcast(t,a.encodings),e.next=12,this._pc.createOffer();case 12:return o=e.sent,x.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",o),e.next=16,this._pc.setLocalDescription(o);case 16:return s={type:"answer",sdp:this._remoteSdp.getSdp()},x.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",s),e.next=20,this._pc.setRemoteDescription(s);case 20:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"setRtpEncodingParameters",value:function(){var e=o(i().mark((function e(t,r){var n,o,s,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.assertSendDirection(),x.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,r),n=this._mapMidTransceiver.get(t)){e.next=5;break}throw new Error("associated RTCRtpTransceiver not found");case 5:return(o=n.sender.getParameters()).encodings.forEach((function(e,t){o.encodings[t]=a(a({},e),r)})),e.next=9,n.sender.setParameters(o);case 9:return this._remoteSdp.muxMediaSectionSimulcast(t,o.encodings),e.next=12,this._pc.createOffer();case 12:return s=e.sent,x.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",s),e.next=16,this._pc.setLocalDescription(s);case 16:return c={type:"answer",sdp:this._remoteSdp.getSdp()},x.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",c),e.next=20,this._pc.setRemoteDescription(c);case 20:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getSenderStats",value:function(){var e=o(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.assertSendDirection(),r=this._mapMidTransceiver.get(t)){e.next=4;break}throw new Error("associated RTCRtpTransceiver not found");case 4:return e.abrupt("return",r.sender.getStats());case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendDataChannel",value:function(){var e=o(i().mark((function e(t){var r,n,a,o,s,c,u,l,d,p,f,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.ordered,n=t.maxPacketLifeTime,a=t.maxRetransmits,o=t.label,s=t.protocol,this.assertSendDirection(),u={negotiated:!0,id:this._nextSendSctpStreamId,ordered:r,maxPacketLifeTime:n,maxRetransmits:a,protocol:s},x.debug("sendDataChannel() [options:%o]",u),l=this._pc.createDataChannel(o,u),this._nextSendSctpStreamId=++this._nextSendSctpStreamId%C.MIS,this._hasDataChannelMediaSection){e.next=24;break}return e.next=9,this._pc.createOffer();case 9:if(d=e.sent,p=h.parse(d.sdp),f=p.media.find((function(e){return"application"===e.type})),this._transportReady){e.next=15;break}return e.next=15,this.setupTransport({localDtlsRole:null!==(c=this._forcedLocalDtlsRole)&&void 0!==c?c:"client",localSdpObject:p});case 15:return x.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",d),e.next=18,this._pc.setLocalDescription(d);case 18:return this._remoteSdp.sendSctpAssociation({offerMediaObject:f}),m={type:"answer",sdp:this._remoteSdp.getSdp()},x.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",m),e.next=23,this._pc.setRemoteDescription(m);case 23:this._hasDataChannelMediaSection=!0;case 24:return v={streamId:u.id,ordered:u.ordered,maxPacketLifeTime:u.maxPacketLifeTime,maxRetransmits:u.maxRetransmits},e.abrupt("return",{dataChannel:l,sctpStreamParameters:v});case 26:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"receive",value:function(){var e=o(i().mark((function e(t){var r,a,o,s,c,u,l,d,p,f,m,v,g,b,k,w,_,S,C,P,R=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.assertRecvDirection(),a=[],o=new Map,s=n(t);try{for(s.s();!(c=s.n()).done;)u=c.value,l=u.trackId,d=u.kind,p=u.rtpParameters,f=u.streamId,x.debug("receive() [trackId:%s, kind:%s]",l,d),m=p.mid||String(this._mapMidTransceiver.size),o.set(l,m),this._remoteSdp.receive({mid:m,kind:d,offerRtpParameters:p,streamId:f||p.rtcp.cname,trackId:l})}catch(T){s.e(T)}finally{s.f()}return v={type:"offer",sdp:this._remoteSdp.getSdp()},x.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",v),e.next=9,this._pc.setRemoteDescription(v);case 9:return e.next=11,this._pc.createAnswer();case 11:g=e.sent,b=h.parse(g.sdp),k=n(t),e.prev=14,_=i().mark((function e(){var t,r,n,a,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=w.value,r=t.trackId,n=t.rtpParameters,a=o.get(r),s=b.media.find((function(e){return String(e.mid)===a})),y.applyCodecParameters({offerRtpParameters:n,answerMediaObject:s});case 5:case"end":return e.stop()}}),e)})),k.s();case 17:if((w=k.n()).done){e.next=21;break}return e.delegateYield(_(),"t0",19);case 19:e.next=17;break;case 21:e.next=26;break;case 23:e.prev=23,e.t1=e.catch(14),k.e(e.t1);case 26:return e.prev=26,k.f(),e.finish(26);case 29:if(g={type:"answer",sdp:h.write(b)},this._transportReady){e.next=33;break}return e.next=33,this.setupTransport({localDtlsRole:null!==(r=this._forcedLocalDtlsRole)&&void 0!==r?r:"client",localSdpObject:b});case 33:return x.debug("receive() | calling pc.setLocalDescription() [answer:%o]",g),e.next=36,this._pc.setLocalDescription(g);case 36:S=n(t),e.prev=37,P=i().mark((function e(){var t,r,n,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=C.value,r=t.trackId,n=o.get(r),s=R._pc.getTransceivers().find((function(e){return e.mid===n}))){e.next=6;break}throw new Error("new RTCRtpTransceiver not found");case 6:R._mapMidTransceiver.set(n,s),a.push({localId:n,track:s.receiver.track,rtpReceiver:s.receiver});case 8:case"end":return e.stop()}}),e)})),S.s();case 40:if((C=S.n()).done){e.next=44;break}return e.delegateYield(P(),"t2",42);case 42:e.next=40;break;case 44:e.next=49;break;case 46:e.prev=46,e.t3=e.catch(37),S.e(e.t3);case 49:return e.prev=49,S.f(),e.finish(49);case 52:return e.abrupt("return",a);case 53:case"end":return e.stop()}}),e,this,[[14,23,26,29],[37,46,49,52]])})));return function(t){return e.apply(this,arguments)}}()},{key:"stopReceiving",value:function(){var e=o(i().mark((function e(t){var r,a,o,s,c,u,l,d,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.assertRecvDirection(),r=n(t),e.prev=2,r.s();case 4:if((a=r.n()).done){e.next=13;break}if(o=a.value,x.debug("stopReceiving() [localId:%s]",o),s=this._mapMidTransceiver.get(o)){e.next=10;break}throw new Error("associated RTCRtpTransceiver not found");case 10:this._remoteSdp.closeMediaSection(s.mid);case 11:e.next=4;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return c={type:"offer",sdp:this._remoteSdp.getSdp()},x.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",c),e.next=25,this._pc.setRemoteDescription(c);case 25:return e.next=27,this._pc.createAnswer();case 27:return u=e.sent,x.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",u),e.next=31,this._pc.setLocalDescription(u);case 31:l=n(t);try{for(l.s();!(d=l.n()).done;)p=d.value,this._mapMidTransceiver.delete(p)}catch(i){l.e(i)}finally{l.f()}case 33:case"end":return e.stop()}}),e,this,[[2,15,18,21]])})));return function(t){return e.apply(this,arguments)}}()},{key:"pauseReceiving",value:function(){var e=o(i().mark((function e(t){var r,a,o,s,c,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.assertRecvDirection(),r=n(t),e.prev=2,r.s();case 4:if((a=r.n()).done){e.next=14;break}if(o=a.value,x.debug("pauseReceiving() [localId:%s]",o),s=this._mapMidTransceiver.get(o)){e.next=10;break}throw new Error("associated RTCRtpTransceiver not found");case 10:s.direction="inactive",this._remoteSdp.pauseMediaSection(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:return c={type:"offer",sdp:this._remoteSdp.getSdp()},x.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",c),e.next=26,this._pc.setRemoteDescription(c);case 26:return e.next=28,this._pc.createAnswer();case 28:return u=e.sent,x.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",u),e.next=32,this._pc.setLocalDescription(u);case 32:case"end":return e.stop()}}),e,this,[[2,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()},{key:"resumeReceiving",value:function(){var e=o(i().mark((function e(t){var r,a,o,s,c,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.assertRecvDirection(),r=n(t),e.prev=2,r.s();case 4:if((a=r.n()).done){e.next=14;break}if(o=a.value,x.debug("resumeReceiving() [localId:%s]",o),s=this._mapMidTransceiver.get(o)){e.next=10;break}throw new Error("associated RTCRtpTransceiver not found");case 10:s.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:return c={type:"offer",sdp:this._remoteSdp.getSdp()},x.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",c),e.next=26,this._pc.setRemoteDescription(c);case 26:return e.next=28,this._pc.createAnswer();case 28:return u=e.sent,x.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",u),e.next=32,this._pc.setLocalDescription(u);case 32:case"end":return e.stop()}}),e,this,[[2,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getReceiverStats",value:function(){var e=o(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.assertRecvDirection(),r=this._mapMidTransceiver.get(t)){e.next=4;break}throw new Error("associated RTCRtpTransceiver not found");case 4:return e.abrupt("return",r.receiver.getStats());case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"receiveDataChannel",value:function(){var e=o(i().mark((function e(t){var r,n,a,o,s,c,u,l,d,p,f,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.sctpStreamParameters,n=t.label,a=t.protocol,this.assertRecvDirection(),s=r.streamId,c=r.ordered,u=r.maxPacketLifeTime,l=r.maxRetransmits,d={negotiated:!0,id:s,ordered:c,maxPacketLifeTime:u,maxRetransmits:l,protocol:a},x.debug("receiveDataChannel() [options:%o]",d),p=this._pc.createDataChannel(n,d),this._hasDataChannelMediaSection){e.next=23;break}return this._remoteSdp.receiveSctpAssociation(),f={type:"offer",sdp:this._remoteSdp.getSdp()},x.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",f),e.next=12,this._pc.setRemoteDescription(f);case 12:return e.next=14,this._pc.createAnswer();case 14:if(m=e.sent,this._transportReady){e.next=19;break}return v=h.parse(m.sdp),e.next=19,this.setupTransport({localDtlsRole:null!==(o=this._forcedLocalDtlsRole)&&void 0!==o?o:"client",localSdpObject:v});case 19:return x.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",m),e.next=22,this._pc.setLocalDescription(m);case 22:this._hasDataChannelMediaSection=!0;case 23:return e.abrupt("return",{dataChannel:p});case 24:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setupTransport",value:function(){var e=o(i().mark((function e(t){var r,n,a,o=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.localDtlsRole,(n=t.localSdpObject)||(n=h.parse(this._pc.localDescription.sdp)),(a=y.extractDtlsParameters({sdpObject:n})).role=r,this._remoteSdp.updateDtlsRole("client"===r?"server":"client"),e.next=7,new Promise((function(e,t){o.safeEmit("@connect",{dtlsParameters:a},e,t)}));case 7:this._transportReady=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"assertSendDirection",value:function(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}},{key:"assertRecvDirection",value:function(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}],[{key:"createFactory",value:function(){return function(){return new r}}}]),r}(w.HandlerInterface);t.Safari12=P},9132:function(e,t,r){"use strict";var n=r(4704).default,a=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&a(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.mangleRtpParameters=t.getCapabilities=void 0;var s=o(r(3001));t.getCapabilities=function(){var e,t=RTCRtpReceiver.getCapabilities(),r=s.clone(t,{}),a=n(r.codecs);try{for(a.s();!(e=a.n()).done;){var i=e.value;if(i.channels=i.numChannels,delete i.numChannels,i.mimeType=i.mimeType||"".concat(i.kind,"/").concat(i.name),i.parameters){var o=i.parameters;o.apt&&(o.apt=Number(o.apt)),o["packetization-mode"]&&(o["packetization-mode"]=Number(o["packetization-mode"]))}var c,u=n(i.rtcpFeedback||[]);try{for(u.s();!(c=u.n()).done;){var l=c.value;l.parameter||(l.parameter="")}}catch(d){u.e(d)}finally{u.f()}}}catch(d){a.e(d)}finally{a.f()}return r},t.mangleRtpParameters=function(e){var t=s.clone(e,{});t.mid&&(t.muxId=t.mid,delete t.mid);var r,a=n(t.codecs);try{for(a.s();!(r=a.n()).done;){var i=r.value;i.channels&&(i.numChannels=i.channels,delete i.channels),i.mimeType&&!i.name&&(i.name=i.mimeType.split("/")[1]),delete i.mimeType}}catch(o){a.e(o)}finally{a.f()}return t}},4032:function(e,t,r){"use strict";var n=r(4704).default;Object.defineProperty(t,"__esModule",{value:!0}),t.addNackSuppportForOpus=void 0,t.addNackSuppportForOpus=function(e){var t,r,a=n(e.codecs||[]);try{for(a.s();!(r=a.n()).done;){var i=r.value;"audio/opus"!==i.mimeType.toLowerCase()&&"audio/multiopus"!==i.mimeType.toLowerCase()||(null===(t=i.rtcpFeedback)||void 0===t?void 0:t.some((function(e){return"nack"===e.type&&!e.parameter})))||(i.rtcpFeedback||(i.rtcpFeedback=[]),i.rtcpFeedback.push({type:"nack"}))}}catch(o){a.e(o)}finally{a.f()}}},4112:function(e,t,r){"use strict";var n=r(1655).default,a=r(6389).default,i=r(4704).default,o=r(6690).default,s=r(9728).default,c=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),u=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&c(t,e,r);return u(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.OfferMediaSection=t.AnswerMediaSection=t.MediaSection=void 0;var d=l(r(5861)),p=l(r(3001)),f=function(){function e(t){var r=t.iceParameters,n=t.iceCandidates,a=t.dtlsParameters,s=t.planB,c=void 0!==s&&s;if(o(this,e),this._mediaObject={},this._planB=c,r&&this.setIceParameters(r),n){this._mediaObject.candidates=[];var u,l=i(n);try{for(l.s();!(u=l.n()).done;){var d=u.value,p={component:1};p.foundation=d.foundation,p.ip=d.ip,p.port=d.port,p.priority=d.priority,p.transport=d.protocol,p.type=d.type,d.tcpType&&(p.tcptype=d.tcpType),this._mediaObject.candidates.push(p)}}catch(f){l.e(f)}finally{l.f()}this._mediaObject.endOfCandidates="end-of-candidates",this._mediaObject.iceOptions="renomination"}a&&this.setDtlsRole(a.role)}return s(e,[{key:"mid",get:function(){return String(this._mediaObject.mid)}},{key:"closed",get:function(){return 0===this._mediaObject.port}},{key:"getObject",value:function(){return this._mediaObject}},{key:"setIceParameters",value:function(e){this._mediaObject.iceUfrag=e.usernameFragment,this._mediaObject.icePwd=e.password}},{key:"pause",value:function(){this._mediaObject.direction="inactive"}},{key:"disable",value:function(){this.pause(),delete this._mediaObject.ext,delete this._mediaObject.ssrcs,delete this._mediaObject.ssrcGroups,delete this._mediaObject.simulcast,delete this._mediaObject.simulcast_03,delete this._mediaObject.rids,delete this._mediaObject.extmapAllowMixed}},{key:"close",value:function(){this.disable(),this._mediaObject.port=0}}]),e}();t.MediaSection=f;var h=function(e){n(r,e);var t=a(r);function r(e){var n,a=e.iceParameters,s=e.iceCandidates,c=e.dtlsParameters,u=e.sctpParameters,l=e.plainRtpParameters,d=e.planB,f=void 0!==d&&d,h=e.offerMediaObject,m=e.offerRtpParameters,g=e.answerRtpParameters,y=e.codecOptions,b=e.extmapAllowMixed,k=void 0!==b&&b;switch(o(this,r),(n=t.call(this,{iceParameters:a,iceCandidates:s,dtlsParameters:c,planB:f}))._mediaObject.mid=String(h.mid),n._mediaObject.type=h.type,n._mediaObject.protocol=h.protocol,l?(n._mediaObject.connection={ip:l.ip,version:l.ipVersion},n._mediaObject.port=l.port):(n._mediaObject.connection={ip:"127.0.0.1",version:4},n._mediaObject.port=7),h.type){case"audio":case"video":n._mediaObject.direction="recvonly",n._mediaObject.rtp=[],n._mediaObject.rtcpFb=[],n._mediaObject.fmtp=[];var w,_=i(g.codecs);try{var S=function(){var e=w.value,t={payload:e.payloadType,codec:v(e),rate:e.clockRate};e.channels>1&&(t.encoding=e.channels),n._mediaObject.rtp.push(t);var r=p.clone(e.parameters,{}),a=p.clone(e.rtcpFeedback,[]);if(y){var o=y.opusStereo,s=y.opusFec,c=y.opusDtx,u=y.opusMaxPlaybackRate,l=y.opusMaxAverageBitrate,d=y.opusPtime,f=y.opusNack,h=y.videoGoogleStartBitrate,g=y.videoGoogleMaxBitrate,b=y.videoGoogleMinBitrate,k=m.codecs.find((function(t){return t.payloadType===e.payloadType}));switch(e.mimeType.toLowerCase()){case"audio/opus":case"audio/multiopus":void 0!==o&&(k.parameters["sprop-stereo"]=o?1:0,r.stereo=o?1:0),void 0!==s&&(k.parameters.useinbandfec=s?1:0,r.useinbandfec=s?1:0),void 0!==c&&(k.parameters.usedtx=c?1:0,r.usedtx=c?1:0),void 0!==u&&(r.maxplaybackrate=u),void 0!==l&&(r.maxaveragebitrate=l),void 0!==d&&(k.parameters.ptime=d,r.ptime=d),f||(k.rtcpFeedback=k.rtcpFeedback.filter((function(e){return"nack"!==e.type||e.parameter})),a=a.filter((function(e){return"nack"!==e.type||e.parameter})));break;case"video/vp8":case"video/vp9":case"video/h264":case"video/h265":void 0!==h&&(r["x-google-start-bitrate"]=h),void 0!==g&&(r["x-google-max-bitrate"]=g),void 0!==b&&(r["x-google-min-bitrate"]=b)}}for(var _={payload:e.payloadType,config:""},S=0,x=Object.keys(r);S<x.length;S++){var C=x[S];_.config&&(_.config+=";"),_.config+="".concat(C,"=").concat(r[C])}_.config&&n._mediaObject.fmtp.push(_);var P,R=i(a);try{for(R.s();!(P=R.n()).done;){var T=P.value;n._mediaObject.rtcpFb.push({payload:e.payloadType,type:T.type,subtype:T.parameter})}}catch(E){R.e(E)}finally{R.f()}};for(_.s();!(w=_.n()).done;)S()}catch(j){_.e(j)}finally{_.f()}n._mediaObject.payloads=g.codecs.map((function(e){return e.payloadType})).join(" "),n._mediaObject.ext=[];var x,C=i(g.headerExtensions);try{var P=function(){var e=x.value;if(!(h.ext||[]).some((function(t){return t.uri===e.uri})))return"continue";n._mediaObject.ext.push({uri:e.uri,value:e.id})};for(C.s();!(x=C.n()).done;)P()}catch(j){C.e(j)}finally{C.f()}if(k&&"extmap-allow-mixed"===h.extmapAllowMixed&&(n._mediaObject.extmapAllowMixed="extmap-allow-mixed"),h.simulcast){n._mediaObject.simulcast={dir1:"recv",list1:h.simulcast.list1},n._mediaObject.rids=[];var R,T=i(h.rids||[]);try{for(T.s();!(R=T.n()).done;){var E=R.value;"send"===E.direction&&n._mediaObject.rids.push({id:E.id,direction:"recv"})}}catch(j){T.e(j)}finally{T.f()}}else if(h.simulcast_03){n._mediaObject.simulcast_03={value:h.simulcast_03.value.replace(/send/g,"recv")},n._mediaObject.rids=[];var O,D=i(h.rids||[]);try{for(D.s();!(O=D.n()).done;){var M=O.value;"send"===M.direction&&n._mediaObject.rids.push({id:M.id,direction:"recv"})}}catch(j){D.e(j)}finally{D.f()}}n._mediaObject.rtcpMux="rtcp-mux",n._mediaObject.rtcpRsize="rtcp-rsize",n._planB&&"video"===n._mediaObject.type&&(n._mediaObject.xGoogleFlag="conference");break;case"application":"number"===typeof h.sctpPort?(n._mediaObject.payloads="webrtc-datachannel",n._mediaObject.sctpPort=u.port,n._mediaObject.maxMessageSize=u.maxMessageSize):h.sctpmap&&(n._mediaObject.payloads=u.port,n._mediaObject.sctpmap={app:"webrtc-datachannel",sctpmapNumber:u.port,maxMessageSize:u.maxMessageSize})}return n}return s(r,[{key:"setDtlsRole",value:function(e){switch(e){case"client":this._mediaObject.setup="active";break;case"server":this._mediaObject.setup="passive";break;case"auto":this._mediaObject.setup="actpass"}}},{key:"resume",value:function(){this._mediaObject.direction="recvonly"}},{key:"muxSimulcastStreams",value:function(e){var t;if(this._mediaObject.simulcast&&this._mediaObject.simulcast.list1){var r,n={},a=i(e);try{for(a.s();!(r=a.n()).done;){var o=r.value;o.rid&&(n[o.rid]=o)}}catch(v){a.e(v)}finally{a.f()}var s,c=this._mediaObject.simulcast.list1,u=d.parseSimulcastStreamList(c),l=i(u);try{for(l.s();!(s=l.n()).done;){var p,f=s.value,h=i(f);try{for(h.s();!(p=h.n()).done;){var m=p.value;m.paused=!(null===(t=n[m.scid])||void 0===t?void 0:t.active)}}catch(v){h.e(v)}finally{h.f()}}}catch(v){l.e(v)}finally{l.f()}this._mediaObject.simulcast.list1=u.map((function(e){return e.map((function(e){return"".concat(e.paused?"~":"").concat(e.scid)})).join(",")})).join(";")}}}]),r}(f);t.AnswerMediaSection=h;var m=function(e){n(r,e);var t=a(r);function r(e){var n,a=e.iceParameters,s=e.iceCandidates,c=e.dtlsParameters,u=e.sctpParameters,l=e.plainRtpParameters,d=e.planB,p=void 0!==d&&d,f=e.mid,h=e.kind,m=e.offerRtpParameters,g=e.streamId,y=e.trackId,b=e.oldDataChannelSpec,k=void 0!==b&&b;switch(o(this,r),(n=t.call(this,{iceParameters:a,iceCandidates:s,dtlsParameters:c,planB:p}))._mediaObject.mid=String(f),n._mediaObject.type=h,l?(n._mediaObject.connection={ip:l.ip,version:l.ipVersion},n._mediaObject.protocol="RTP/AVP",n._mediaObject.port=l.port):(n._mediaObject.connection={ip:"127.0.0.1",version:4},n._mediaObject.protocol=u?"UDP/DTLS/SCTP":"UDP/TLS/RTP/SAVPF",n._mediaObject.port=7),h){case"audio":case"video":n._mediaObject.direction="sendonly",n._mediaObject.rtp=[],n._mediaObject.rtcpFb=[],n._mediaObject.fmtp=[],n._planB||(n._mediaObject.msid="".concat(g||"-"," ").concat(y));var w,_=i(m.codecs);try{for(_.s();!(w=_.n()).done;){var S=w.value,x={payload:S.payloadType,codec:v(S),rate:S.clockRate};S.channels>1&&(x.encoding=S.channels),n._mediaObject.rtp.push(x);for(var C={payload:S.payloadType,config:""},P=0,R=Object.keys(S.parameters);P<R.length;P++){var T=R[P];C.config&&(C.config+=";"),C.config+="".concat(T,"=").concat(S.parameters[T])}C.config&&n._mediaObject.fmtp.push(C);var E,O=i(S.rtcpFeedback);try{for(O.s();!(E=O.n()).done;){var D=E.value;n._mediaObject.rtcpFb.push({payload:S.payloadType,type:D.type,subtype:D.parameter})}}catch(F){O.e(F)}finally{O.f()}}}catch(F){_.e(F)}finally{_.f()}n._mediaObject.payloads=m.codecs.map((function(e){return e.payloadType})).join(" "),n._mediaObject.ext=[];var M,j=i(m.headerExtensions);try{for(j.s();!(M=j.n()).done;){var I=M.value;n._mediaObject.ext.push({uri:I.uri,value:I.id})}}catch(F){j.e(F)}finally{j.f()}n._mediaObject.rtcpMux="rtcp-mux",n._mediaObject.rtcpRsize="rtcp-rsize";var A=m.encodings[0],L=A.ssrc,N=A.rtx&&A.rtx.ssrc?A.rtx.ssrc:void 0;n._mediaObject.ssrcs=[],n._mediaObject.ssrcGroups=[],m.rtcp.cname&&n._mediaObject.ssrcs.push({id:L,attribute:"cname",value:m.rtcp.cname}),n._planB&&n._mediaObject.ssrcs.push({id:L,attribute:"msid",value:"".concat(g||"-"," ").concat(y)}),N&&(m.rtcp.cname&&n._mediaObject.ssrcs.push({id:N,attribute:"cname",value:m.rtcp.cname}),n._planB&&n._mediaObject.ssrcs.push({id:N,attribute:"msid",value:"".concat(g||"-"," ").concat(y)}),n._mediaObject.ssrcGroups.push({semantics:"FID",ssrcs:"".concat(L," ").concat(N)}));break;case"application":k?(n._mediaObject.payloads=u.port,n._mediaObject.sctpmap={app:"webrtc-datachannel",sctpmapNumber:u.port,maxMessageSize:u.maxMessageSize}):(n._mediaObject.payloads="webrtc-datachannel",n._mediaObject.sctpPort=u.port,n._mediaObject.maxMessageSize=u.maxMessageSize)}return n}return s(r,[{key:"setDtlsRole",value:function(e){this._mediaObject.setup="actpass"}},{key:"resume",value:function(){this._mediaObject.direction="sendonly"}},{key:"planBReceive",value:function(e){var t,r=this,n=e.offerRtpParameters,a=e.streamId,o=e.trackId,s=n.encodings[0],c=s.ssrc,u=s.rtx&&s.rtx.ssrc?s.rtx.ssrc:void 0,l=this._mediaObject.payloads.split(" "),d=i(n.codecs);try{for(d.s();!(t=d.n()).done;){var p=t.value;if(!l.includes(String(p.payloadType))){var f={payload:p.payloadType,codec:v(p),rate:p.clockRate};p.channels>1&&(f.encoding=p.channels),this._mediaObject.rtp.push(f);for(var h={payload:p.payloadType,config:""},m=0,g=Object.keys(p.parameters);m<g.length;m++){var y=g[m];h.config&&(h.config+=";"),h.config+="".concat(y,"=").concat(p.parameters[y])}h.config&&this._mediaObject.fmtp.push(h);var b,k=i(p.rtcpFeedback);try{for(k.s();!(b=k.n()).done;){var w=b.value;this._mediaObject.rtcpFb.push({payload:p.payloadType,type:w.type,subtype:w.parameter})}}catch(_){k.e(_)}finally{k.f()}}}}catch(_){d.e(_)}finally{d.f()}this._mediaObject.payloads+=" ".concat(n.codecs.filter((function(e){return!r._mediaObject.payloads.includes(e.payloadType)})).map((function(e){return e.payloadType})).join(" ")),this._mediaObject.payloads=this._mediaObject.payloads.trim(),n.rtcp.cname&&this._mediaObject.ssrcs.push({id:c,attribute:"cname",value:n.rtcp.cname}),this._mediaObject.ssrcs.push({id:c,attribute:"msid",value:"".concat(a||"-"," ").concat(o)}),u&&(n.rtcp.cname&&this._mediaObject.ssrcs.push({id:u,attribute:"cname",value:n.rtcp.cname}),this._mediaObject.ssrcs.push({id:u,attribute:"msid",value:"".concat(a||"-"," ").concat(o)}),this._mediaObject.ssrcGroups.push({semantics:"FID",ssrcs:"".concat(c," ").concat(u)}))}},{key:"planBStopReceiving",value:function(e){var t=e.offerRtpParameters.encodings[0],r=t.ssrc,n=t.rtx&&t.rtx.ssrc?t.rtx.ssrc:void 0;this._mediaObject.ssrcs=this._mediaObject.ssrcs.filter((function(e){return e.id!==r&&e.id!==n})),n&&(this._mediaObject.ssrcGroups=this._mediaObject.ssrcGroups.filter((function(e){return e.ssrcs!=="".concat(r," ").concat(n)})))}}]),r}(f);function v(e){var t=new RegExp("^(audio|video)/(.+)","i").exec(e.mimeType);if(!t)throw new TypeError("invalid codec.mimeType");return t[2]}t.OfferMediaSection=m},9678:function(e,t,r){"use strict";var n=r(4704).default,a=r(6690).default,i=r(9728).default,o=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),c=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.RemoteSdp=void 0;var u=c(r(5861)),l=r(4115),d=r(4112),p=new l.Logger("RemoteSdp"),f=function(){function e(t){var r=t.iceParameters,n=t.iceCandidates,i=t.dtlsParameters,o=t.sctpParameters,s=t.plainRtpParameters,c=t.planB,u=void 0!==c&&c;if(a(this,e),this._mediaSections=[],this._midToIndex=new Map,this._iceParameters=r,this._iceCandidates=n,this._dtlsParameters=i,this._sctpParameters=o,this._plainRtpParameters=s,this._planB=u,this._sdpObject={version:0,origin:{address:"0.0.0.0",ipVer:4,netType:"IN",sessionId:1e4,sessionVersion:0,username:"mediasoup-client"},name:"-",timing:{start:0,stop:0},media:[]},r&&r.iceLite&&(this._sdpObject.icelite="ice-lite"),i){this._sdpObject.msidSemantic={semantic:"WMS",token:"*"};var l=this._dtlsParameters.fingerprints.length;this._sdpObject.fingerprint={type:i.fingerprints[l-1].algorithm,hash:i.fingerprints[l-1].value},this._sdpObject.groups=[{type:"BUNDLE",mids:""}]}s&&(this._sdpObject.origin.address=s.ip,this._sdpObject.origin.ipVer=s.ipVersion)}return i(e,[{key:"updateIceParameters",value:function(e){p.debug("updateIceParameters() [iceParameters:%o]",e),this._iceParameters=e,this._sdpObject.icelite=e.iceLite?"ice-lite":void 0;var t,r=n(this._mediaSections);try{for(r.s();!(t=r.n()).done;){t.value.setIceParameters(e)}}catch(a){r.e(a)}finally{r.f()}}},{key:"updateDtlsRole",value:function(e){p.debug("updateDtlsRole() [role:%s]",e),this._dtlsParameters.role=e;var t,r=n(this._mediaSections);try{for(r.s();!(t=r.n()).done;){t.value.setDtlsRole(e)}}catch(a){r.e(a)}finally{r.f()}}},{key:"getNextMediaSectionIdx",value:function(){for(var e=0;e<this._mediaSections.length;++e){var t=this._mediaSections[e];if(t.closed)return{idx:e,reuseMid:t.mid}}return{idx:this._mediaSections.length}}},{key:"send",value:function(e){var t=e.offerMediaObject,r=e.reuseMid,n=e.offerRtpParameters,a=e.answerRtpParameters,i=e.codecOptions,o=e.extmapAllowMixed,s=void 0!==o&&o,c=new d.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,planB:this._planB,offerMediaObject:t,offerRtpParameters:n,answerRtpParameters:a,codecOptions:i,extmapAllowMixed:s});r?this._replaceMediaSection(c,r):this._midToIndex.has(c.mid)?this._replaceMediaSection(c):this._addMediaSection(c)}},{key:"receive",value:function(e){var t,r=e.mid,n=e.kind,a=e.offerRtpParameters,i=e.streamId,o=e.trackId,s=this._midToIndex.get(r);if(void 0!==s&&(t=this._mediaSections[s]),t)t.planBReceive({offerRtpParameters:a,streamId:i,trackId:o}),this._replaceMediaSection(t);else{t=new d.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,planB:this._planB,mid:r,kind:n,offerRtpParameters:a,streamId:i,trackId:o});var c=this._mediaSections.find((function(e){return e.closed}));c?this._replaceMediaSection(t,c.mid):this._addMediaSection(t)}}},{key:"pauseMediaSection",value:function(e){this._findMediaSection(e).pause()}},{key:"resumeSendingMediaSection",value:function(e){this._findMediaSection(e).resume()}},{key:"resumeReceivingMediaSection",value:function(e){this._findMediaSection(e).resume()}},{key:"disableMediaSection",value:function(e){this._findMediaSection(e).disable()}},{key:"closeMediaSection",value:function(e){var t=this._findMediaSection(e);return e===this._firstMid?(p.debug("closeMediaSection() | cannot close first media section, disabling it instead [mid:%s]",e),this.disableMediaSection(e),!1):(t.close(),this._regenerateBundleMids(),!0)}},{key:"muxMediaSectionSimulcast",value:function(e,t){var r=this._findMediaSection(e);r.muxSimulcastStreams(t),this._replaceMediaSection(r)}},{key:"planBStopReceiving",value:function(e){var t=e.mid,r=e.offerRtpParameters,n=this._findMediaSection(t);n.planBStopReceiving({offerRtpParameters:r}),this._replaceMediaSection(n)}},{key:"sendSctpAssociation",value:function(e){var t=e.offerMediaObject,r=new d.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,offerMediaObject:t});this._addMediaSection(r)}},{key:"receiveSctpAssociation",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).oldDataChannelSpec,t=void 0!==e&&e,r=new d.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,mid:"datachannel",kind:"application",oldDataChannelSpec:t});this._addMediaSection(r)}},{key:"getSdp",value:function(){return this._sdpObject.origin.sessionVersion++,u.write(this._sdpObject)}},{key:"_addMediaSection",value:function(e){this._firstMid||(this._firstMid=e.mid),this._mediaSections.push(e),this._midToIndex.set(e.mid,this._mediaSections.length-1),this._sdpObject.media.push(e.getObject()),this._regenerateBundleMids()}},{key:"_replaceMediaSection",value:function(e,t){if("string"===typeof t){var r=this._midToIndex.get(t);if(void 0===r)throw new Error("no media section found for reuseMid '".concat(t,"'"));var n=this._mediaSections[r];this._mediaSections[r]=e,this._midToIndex.delete(n.mid),this._midToIndex.set(e.mid,r),this._sdpObject.media[r]=e.getObject(),this._regenerateBundleMids()}else{var a=this._midToIndex.get(e.mid);if(void 0===a)throw new Error("no media section found with mid '".concat(e.mid,"'"));this._mediaSections[a]=e,this._sdpObject.media[a]=e.getObject()}}},{key:"_findMediaSection",value:function(e){var t=this._midToIndex.get(e);if(void 0===t)throw new Error("no media section found with mid '".concat(e,"'"));return this._mediaSections[t]}},{key:"_regenerateBundleMids",value:function(){this._dtlsParameters&&(this._sdpObject.groups[0].mids=this._mediaSections.filter((function(e){return!e.closed})).map((function(e){return e.mid})).join(" "))}}]),e}();t.RemoteSdp=f},8978:function(e,t,r){"use strict";var n=r(4704).default,a=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&a(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.applyCodecParameters=t.getCname=t.extractDtlsParameters=t.extractRtpCapabilities=void 0;var s=o(r(5861));t.extractRtpCapabilities=function(e){var t,r=e.sdpObject,a=new Map,i=[],o=!1,c=!1,u=n(r.media);try{for(u.s();!(t=u.n()).done;){var l=t.value,d=l.type;switch(d){case"audio":if(o)continue;o=!0;break;case"video":if(c)continue;c=!0;break;default:continue}var p,f=n(l.rtp);try{for(f.s();!(p=f.n()).done;){var h=p.value,m={kind:d,mimeType:"".concat(d,"/").concat(h.codec),preferredPayloadType:h.payload,clockRate:h.rate,channels:h.encoding,parameters:{},rtcpFeedback:[]};a.set(m.preferredPayloadType,m)}}catch(j){f.e(j)}finally{f.f()}var v,g=n(l.fmtp||[]);try{for(g.s();!(v=g.n()).done;){var y=v.value,b=s.parseParams(y.config),k=a.get(y.payload);k&&(b&&b.hasOwnProperty("profile-level-id")&&(b["profile-level-id"]=String(b["profile-level-id"])),k.parameters=b)}}catch(j){g.e(j)}finally{g.f()}var w,_=n(l.rtcpFb||[]);try{for(_.s();!(w=_.n()).done;){var S=w.value,x={type:S.type,parameter:S.subtype};if(x.parameter||delete x.parameter,"*"!==S.payload){var C=a.get(S.payload);if(!C)continue;C.rtcpFeedback.push(x)}else{var P,R=n(a.values());try{for(R.s();!(P=R.n()).done;){var T=P.value;T.kind!==d||/.+\/rtx$/i.test(T.mimeType)||T.rtcpFeedback.push(x)}}catch(j){R.e(j)}finally{R.f()}}}}catch(j){_.e(j)}finally{_.f()}var E,O=n(l.ext||[]);try{for(O.s();!(E=O.n()).done;){var D=E.value;if(!D["encrypt-uri"]){var M={kind:d,uri:D.uri,preferredId:D.value};i.push(M)}}}catch(j){O.e(j)}finally{O.f()}}}catch(j){u.e(j)}finally{u.f()}return{codecs:Array.from(a.values()),headerExtensions:i}},t.extractDtlsParameters=function(e){var t=e.sdpObject,r=(t.media||[]).find((function(e){return e.iceUfrag&&0!==e.port}));if(!r)throw new Error("no active media section found");var n,a=r.fingerprint||t.fingerprint;switch(r.setup){case"active":n="client";break;case"passive":n="server";break;case"actpass":n="auto"}return{role:n,fingerprints:[{algorithm:a.type,value:a.hash}]}},t.getCname=function(e){var t=(e.offerMediaObject.ssrcs||[]).find((function(e){return"cname"===e.attribute}));return t?t.value:""},t.applyCodecParameters=function(e){var t,r=e.offerRtpParameters,a=e.answerMediaObject,i=n(r.codecs);try{var o=function(){var e=t.value,r=e.mimeType.toLowerCase();if("audio/opus"!==r)return"continue";if(!(a.rtp||[]).find((function(t){return t.payload===e.payloadType})))return"continue";a.fmtp=a.fmtp||[];var n=a.fmtp.find((function(t){return t.payload===e.payloadType}));n||(n={payload:e.payloadType,config:""},a.fmtp.push(n));var i=s.parseParams(n.config);if("audio/opus"===r){var o=e.parameters["sprop-stereo"];void 0!==o&&(i.stereo=o?1:0)}n.config="";for(var c=0,u=Object.keys(i);c<u.length;c++){var l=u[c];n.config&&(n.config+=";"),n.config+="".concat(l,"=").concat(i[l])}};for(i.s();!(t=i.n()).done;)o()}catch(c){i.e(c)}finally{i.f()}}},9547:function(e,t,r){"use strict";var n=r(7424).default,a=r(4704).default;Object.defineProperty(t,"__esModule",{value:!0}),t.addLegacySimulcast=t.getRtpEncodings=void 0,t.getRtpEncodings=function(e){var t,r,i=e.offerMediaObject,o=e.track,s=new Set,c=a(i.ssrcs||[]);try{for(c.s();!(r=c.n()).done;){var u=r.value;if("msid"===u.attribute)if(u.value.split(" ")[1]===o.id){var l=u.id;s.add(l),t||(t=l)}}}catch(E){c.e(E)}finally{c.f()}if(0===s.size)throw new Error("a=ssrc line with msid information not found [track.id:".concat(o.id,"]"));var d,p=new Map,f=a(i.ssrcGroups||[]);try{for(f.s();!(d=f.n()).done;){var h=d.value;if("FID"===h.semantics){var m=h.ssrcs.split(/\s+/),v=n(m,2),g=v[0],y=v[1];g=Number(g),y=Number(y),s.has(g)&&(s.delete(g),s.delete(y),p.set(g,y))}}}catch(E){f.e(E)}finally{f.f()}var b,k=a(s);try{for(k.s();!(b=k.n()).done;){var w=b.value;p.set(w,null)}}catch(E){k.e(E)}finally{k.f()}var _,S=[],x=a(p);try{for(x.s();!(_=x.n()).done;){var C=n(_.value,2),P=C[0],R=C[1],T={ssrc:P};R&&(T.rtx={ssrc:R}),S.push(T)}}catch(E){x.e(E)}finally{x.f()}return S},t.addLegacySimulcast=function(e){var t,r,n,a=e.offerMediaObject,i=e.track,o=e.numStreams;if(o<=1)throw new TypeError("numStreams must be greater than 1");if(!(a.ssrcs||[]).find((function(e){return"msid"===e.attribute&&(e.value.split(" ")[1]===i.id&&(t=e.id,n=e.value.split(" ")[0],!0))})))throw new Error("a=ssrc line with msid information not found [track.id:".concat(i.id,"]"));(a.ssrcGroups||[]).some((function(e){if("FID"!==e.semantics)return!1;var n=e.ssrcs.split(/\s+/);return Number(n[0])===t&&(r=Number(n[1]),!0)}));var s=a.ssrcs.find((function(e){return"cname"===e.attribute&&e.id===t}));if(!s)throw new Error("a=ssrc line with cname information not found [track.id:".concat(i.id,"]"));for(var c=s.value,u=[],l=[],d=0;d<o;++d)u.push(t+d),r&&l.push(r+d);a.ssrcGroups=a.ssrcGroups||[],a.ssrcs=a.ssrcs||[],a.ssrcGroups.push({semantics:"SIM",ssrcs:u.join(" ")});for(var p=0;p<u.length;++p){var f=u[p];a.ssrcs.push({id:f,attribute:"cname",value:c}),a.ssrcs.push({id:f,attribute:"msid",value:"".concat(n," ").concat(i.id)})}for(var h=0;h<l.length;++h){var m=u[h],v=l[h];a.ssrcs.push({id:v,attribute:"cname",value:c}),a.ssrcs.push({id:v,attribute:"msid",value:"".concat(n," ").concat(i.id)}),a.ssrcGroups.push({semantics:"FID",ssrcs:"".concat(m," ").concat(v)})}}},8480:function(e,t,r){"use strict";var n=r(7424).default,a=r(4704).default;Object.defineProperty(t,"__esModule",{value:!0}),t.addLegacySimulcast=t.getRtpEncodings=void 0,t.getRtpEncodings=function(e){var t,r=e.offerMediaObject,i=new Set,o=a(r.ssrcs||[]);try{for(o.s();!(t=o.n()).done;){var s=t.value.id;i.add(s)}}catch(P){o.e(P)}finally{o.f()}if(0===i.size)throw new Error("no a=ssrc lines found");var c,u=new Map,l=a(r.ssrcGroups||[]);try{for(l.s();!(c=l.n()).done;){var d=c.value;if("FID"===d.semantics){var p=d.ssrcs.split(/\s+/),f=n(p,2),h=f[0],m=f[1];h=Number(h),m=Number(m),i.has(h)&&(i.delete(h),i.delete(m),u.set(h,m))}}}catch(P){l.e(P)}finally{l.f()}var v,g=a(i);try{for(g.s();!(v=g.n()).done;){var y=v.value;u.set(y,null)}}catch(P){g.e(P)}finally{g.f()}var b,k=[],w=a(u);try{for(w.s();!(b=w.n()).done;){var _=n(b.value,2),S=_[0],x=_[1],C={ssrc:S};x&&(C.rtx={ssrc:x}),k.push(C)}}catch(P){w.e(P)}finally{w.f()}return k},t.addLegacySimulcast=function(e){var t=e.offerMediaObject,r=e.numStreams;if(r<=1)throw new TypeError("numStreams must be greater than 1");var a=(t.ssrcs||[]).find((function(e){return"msid"===e.attribute}));if(!a)throw new Error("a=ssrc line with msid information not found");var i,o=a.value.split(" "),s=n(o,2),c=s[0],u=s[1],l=a.id;(t.ssrcGroups||[]).some((function(e){if("FID"!==e.semantics)return!1;var t=e.ssrcs.split(/\s+/);return Number(t[0])===l&&(i=Number(t[1]),!0)}));var d=t.ssrcs.find((function(e){return"cname"===e.attribute}));if(!d)throw new Error("a=ssrc line with cname information not found");for(var p=d.value,f=[],h=[],m=0;m<r;++m)f.push(l+m),i&&h.push(i+m);t.ssrcGroups=[],t.ssrcs=[],t.ssrcGroups.push({semantics:"SIM",ssrcs:f.join(" ")});for(var v=0;v<f.length;++v){var g=f[v];t.ssrcs.push({id:g,attribute:"cname",value:p}),t.ssrcs.push({id:g,attribute:"msid",value:"".concat(c," ").concat(u)})}for(var y=0;y<h.length;++y){var b=f[y],k=h[y];t.ssrcs.push({id:k,attribute:"cname",value:p}),t.ssrcs.push({id:k,attribute:"msid",value:"".concat(c," ").concat(u)}),t.ssrcGroups.push({semantics:"FID",ssrcs:"".concat(b," ").concat(k)})}}},1947:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.debug=t.parseScalabilityMode=t.detectDevice=t.Device=t.version=t.types=void 0;var s=o(r(8392));t.debug=s.default;var c=r(5703);Object.defineProperty(t,"Device",{enumerable:!0,get:function(){return c.Device}}),Object.defineProperty(t,"detectDevice",{enumerable:!0,get:function(){return c.detectDevice}});var u=i(r(507));t.types=u,t.version="3.6.84";var l=r(8732);Object.defineProperty(t,"parseScalabilityMode",{enumerable:!0,get:function(){return l.parse}})},1777:function(e,t,r){"use strict";var n=r(4704).default,a=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&a(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.canReceive=t.canSend=t.generateProbatorRtpParameters=t.reduceCodecs=t.getSendingRemoteRtpParameters=t.getSendingRtpParameters=t.getRecvRtpCapabilities=t.getExtendedRtpCapabilities=t.validateSctpStreamParameters=t.validateSctpParameters=t.validateNumSctpStreams=t.validateSctpCapabilities=t.validateRtcpParameters=t.validateRtpEncodingParameters=t.validateRtpHeaderExtensionParameters=t.validateRtpCodecParameters=t.validateRtpParameters=t.validateRtpHeaderExtension=t.validateRtcpFeedback=t.validateRtpCodecCapability=t.validateRtpCapabilities=void 0;var s=o(r(4434)),c=o(r(3001));function u(e){var t=new RegExp("^(audio|video)/(.+)","i");if("object"!==typeof e)throw new TypeError("codec is not an object");if(!e.mimeType||"string"!==typeof e.mimeType)throw new TypeError("missing codec.mimeType");var r=t.exec(e.mimeType);if(!r)throw new TypeError("invalid codec.mimeType");if(e.kind=r[1].toLowerCase(),e.preferredPayloadType&&"number"!==typeof e.preferredPayloadType)throw new TypeError("invalid codec.preferredPayloadType");if("number"!==typeof e.clockRate)throw new TypeError("missing codec.clockRate");"audio"===e.kind?"number"!==typeof e.channels&&(e.channels=1):delete e.channels,e.parameters&&"object"===typeof e.parameters||(e.parameters={});for(var a=0,i=Object.keys(e.parameters);a<i.length;a++){var o=i[a],s=e.parameters[o];if(void 0===s&&(e.parameters[o]="",s=""),"string"!==typeof s&&"number"!==typeof s)throw new TypeError("invalid codec parameter [key:".concat(o,"s, value:").concat(s,"]"));if("apt"===o&&"number"!==typeof s)throw new TypeError("invalid codec apt parameter")}e.rtcpFeedback&&Array.isArray(e.rtcpFeedback)||(e.rtcpFeedback=[]);var c,u=n(e.rtcpFeedback);try{for(u.s();!(c=u.n()).done;){l(c.value)}}catch(d){u.e(d)}finally{u.f()}}function l(e){if("object"!==typeof e)throw new TypeError("fb is not an object");if(!e.type||"string"!==typeof e.type)throw new TypeError("missing fb.type");e.parameter&&"string"===typeof e.parameter||(e.parameter="")}function d(e){if("object"!==typeof e)throw new TypeError("ext is not an object");if("audio"!==e.kind&&"video"!==e.kind)throw new TypeError("invalid ext.kind");if(!e.uri||"string"!==typeof e.uri)throw new TypeError("missing ext.uri");if("number"!==typeof e.preferredId)throw new TypeError("missing ext.preferredId");if(e.preferredEncrypt&&"boolean"!==typeof e.preferredEncrypt)throw new TypeError("invalid ext.preferredEncrypt");if(e.preferredEncrypt||(e.preferredEncrypt=!1),e.direction&&"string"!==typeof e.direction)throw new TypeError("invalid ext.direction");e.direction||(e.direction="sendrecv")}function p(e){if("object"!==typeof e)throw new TypeError("params is not an object");if(e.mid&&"string"!==typeof e.mid)throw new TypeError("params.mid is not a string");if(!Array.isArray(e.codecs))throw new TypeError("missing params.codecs");var t,r=n(e.codecs);try{for(r.s();!(t=r.n()).done;){f(t.value)}}catch(c){r.e(c)}finally{r.f()}if(e.headerExtensions&&!Array.isArray(e.headerExtensions))throw new TypeError("params.headerExtensions is not an array");e.headerExtensions||(e.headerExtensions=[]);var a,i=n(e.headerExtensions);try{for(i.s();!(a=i.n()).done;){h(a.value)}}catch(c){i.e(c)}finally{i.f()}if(e.encodings&&!Array.isArray(e.encodings))throw new TypeError("params.encodings is not an array");e.encodings||(e.encodings=[]);var o,s=n(e.encodings);try{for(s.s();!(o=s.n()).done;){m(o.value)}}catch(c){s.e(c)}finally{s.f()}if(e.rtcp&&"object"!==typeof e.rtcp)throw new TypeError("params.rtcp is not an object");e.rtcp||(e.rtcp={}),v(e.rtcp)}function f(e){var t=new RegExp("^(audio|video)/(.+)","i");if("object"!==typeof e)throw new TypeError("codec is not an object");if(!e.mimeType||"string"!==typeof e.mimeType)throw new TypeError("missing codec.mimeType");var r=t.exec(e.mimeType);if(!r)throw new TypeError("invalid codec.mimeType");if("number"!==typeof e.payloadType)throw new TypeError("missing codec.payloadType");if("number"!==typeof e.clockRate)throw new TypeError("missing codec.clockRate");"audio"===r[1].toLowerCase()?"number"!==typeof e.channels&&(e.channels=1):delete e.channels,e.parameters&&"object"===typeof e.parameters||(e.parameters={});for(var a=0,i=Object.keys(e.parameters);a<i.length;a++){var o=i[a],s=e.parameters[o];if(void 0===s&&(e.parameters[o]="",s=""),"string"!==typeof s&&"number"!==typeof s)throw new TypeError("invalid codec parameter [key:".concat(o,"s, value:").concat(s,"]"));if("apt"===o&&"number"!==typeof s)throw new TypeError("invalid codec apt parameter")}e.rtcpFeedback&&Array.isArray(e.rtcpFeedback)||(e.rtcpFeedback=[]);var c,u=n(e.rtcpFeedback);try{for(u.s();!(c=u.n()).done;){l(c.value)}}catch(d){u.e(d)}finally{u.f()}}function h(e){if("object"!==typeof e)throw new TypeError("ext is not an object");if(!e.uri||"string"!==typeof e.uri)throw new TypeError("missing ext.uri");if("number"!==typeof e.id)throw new TypeError("missing ext.id");if(e.encrypt&&"boolean"!==typeof e.encrypt)throw new TypeError("invalid ext.encrypt");e.encrypt||(e.encrypt=!1),e.parameters&&"object"===typeof e.parameters||(e.parameters={});for(var t=0,r=Object.keys(e.parameters);t<r.length;t++){var n=r[t],a=e.parameters[n];if(void 0===a&&(e.parameters[n]="",a=""),"string"!==typeof a&&"number"!==typeof a)throw new TypeError("invalid header extension parameter")}}function m(e){if("object"!==typeof e)throw new TypeError("encoding is not an object");if(e.ssrc&&"number"!==typeof e.ssrc)throw new TypeError("invalid encoding.ssrc");if(e.rid&&"string"!==typeof e.rid)throw new TypeError("invalid encoding.rid");if(e.rtx&&"object"!==typeof e.rtx)throw new TypeError("invalid encoding.rtx");if(e.rtx&&"number"!==typeof e.rtx.ssrc)throw new TypeError("missing encoding.rtx.ssrc");if(e.dtx&&"boolean"===typeof e.dtx||(e.dtx=!1),e.scalabilityMode&&"string"!==typeof e.scalabilityMode)throw new TypeError("invalid encoding.scalabilityMode")}function v(e){if("object"!==typeof e)throw new TypeError("rtcp is not an object");if(e.cname&&"string"!==typeof e.cname)throw new TypeError("invalid rtcp.cname");e.reducedSize&&"boolean"===typeof e.reducedSize||(e.reducedSize=!0)}function g(e){if("object"!==typeof e)throw new TypeError("numStreams is not an object");if("number"!==typeof e.OS)throw new TypeError("missing numStreams.OS");if("number"!==typeof e.MIS)throw new TypeError("missing numStreams.MIS")}function y(e){return!!e&&/.+\/rtx$/i.test(e.mimeType)}function b(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.strict,a=void 0!==n&&n,i=r.modify,o=void 0!==i&&i,c=e.mimeType.toLowerCase();if(c!==t.mimeType.toLowerCase())return!1;if(e.clockRate!==t.clockRate)return!1;if(e.channels!==t.channels)return!1;switch(c){case"video/h264":if(a){var u;if((e.parameters["packetization-mode"]||0)!==(t.parameters["packetization-mode"]||0))return!1;if(!s.isSameProfile(e.parameters,t.parameters))return!1;try{u=s.generateProfileLevelIdForAnswer(e.parameters,t.parameters)}catch(l){return!1}o&&(u?(e.parameters["profile-level-id"]=u,t.parameters["profile-level-id"]=u):(delete e.parameters["profile-level-id"],delete t.parameters["profile-level-id"]))}break;case"video/vp9":if(a)if((e.parameters["profile-id"]||0)!==(t.parameters["profile-id"]||0))return!1}return!0}function k(e,t){var r,a=[],i=n(e.rtcpFeedback||[]);try{var o=function(){var e=r.value,n=(t.rtcpFeedback||[]).find((function(t){return t.type===e.type&&(t.parameter===e.parameter||!t.parameter&&!e.parameter)}));n&&a.push(n)};for(i.s();!(r=i.n()).done;)o()}catch(s){i.e(s)}finally{i.f()}return a}t.validateRtpCapabilities=function(e){if("object"!==typeof e)throw new TypeError("caps is not an object");if(e.codecs&&!Array.isArray(e.codecs))throw new TypeError("caps.codecs is not an array");e.codecs||(e.codecs=[]);var t,r=n(e.codecs);try{for(r.s();!(t=r.n()).done;){u(t.value)}}catch(o){r.e(o)}finally{r.f()}if(e.headerExtensions&&!Array.isArray(e.headerExtensions))throw new TypeError("caps.headerExtensions is not an array");e.headerExtensions||(e.headerExtensions=[]);var a,i=n(e.headerExtensions);try{for(i.s();!(a=i.n()).done;){d(a.value)}}catch(o){i.e(o)}finally{i.f()}},t.validateRtpCodecCapability=u,t.validateRtcpFeedback=l,t.validateRtpHeaderExtension=d,t.validateRtpParameters=p,t.validateRtpCodecParameters=f,t.validateRtpHeaderExtensionParameters=h,t.validateRtpEncodingParameters=m,t.validateRtcpParameters=v,t.validateSctpCapabilities=function(e){if("object"!==typeof e)throw new TypeError("caps is not an object");if(!e.numStreams||"object"!==typeof e.numStreams)throw new TypeError("missing caps.numStreams");g(e.numStreams)},t.validateNumSctpStreams=g,t.validateSctpParameters=function(e){if("object"!==typeof e)throw new TypeError("params is not an object");if("number"!==typeof e.port)throw new TypeError("missing params.port");if("number"!==typeof e.OS)throw new TypeError("missing params.OS");if("number"!==typeof e.MIS)throw new TypeError("missing params.MIS");if("number"!==typeof e.maxMessageSize)throw new TypeError("missing params.maxMessageSize")},t.validateSctpStreamParameters=function(e){if("object"!==typeof e)throw new TypeError("params is not an object");if("number"!==typeof e.streamId)throw new TypeError("missing params.streamId");var t=!1;if("boolean"===typeof e.ordered?t=!0:e.ordered=!0,e.maxPacketLifeTime&&"number"!==typeof e.maxPacketLifeTime)throw new TypeError("invalid params.maxPacketLifeTime");if(e.maxRetransmits&&"number"!==typeof e.maxRetransmits)throw new TypeError("invalid params.maxRetransmits");if(e.maxPacketLifeTime&&e.maxRetransmits)throw new TypeError("cannot provide both maxPacketLifeTime and maxRetransmits");if(t&&e.ordered&&(e.maxPacketLifeTime||e.maxRetransmits))throw new TypeError("cannot be ordered with maxPacketLifeTime or maxRetransmits");if(t||!e.maxPacketLifeTime&&!e.maxRetransmits||(e.ordered=!1),e.label&&"string"!==typeof e.label)throw new TypeError("invalid params.label");if(e.protocol&&"string"!==typeof e.protocol)throw new TypeError("invalid params.protocol")},t.getExtendedRtpCapabilities=function(e,t){var r,a={codecs:[],headerExtensions:[]},i=n(t.codecs||[]);try{var o=function(){var t=r.value;if(y(t))return"continue";var n=(e.codecs||[]).find((function(e){return b(e,t,{strict:!0,modify:!0})}));if(!n)return"continue";var i={mimeType:n.mimeType,kind:n.kind,clockRate:n.clockRate,channels:n.channels,localPayloadType:n.preferredPayloadType,localRtxPayloadType:void 0,remotePayloadType:t.preferredPayloadType,remoteRtxPayloadType:void 0,localParameters:n.parameters,remoteParameters:t.parameters,rtcpFeedback:k(n,t)};a.codecs.push(i)};for(i.s();!(r=i.n()).done;)o()}catch(f){i.e(f)}finally{i.f()}var s,c=n(a.codecs);try{var u=function(){var r=s.value,n=e.codecs.find((function(e){return y(e)&&e.parameters.apt===r.localPayloadType})),a=t.codecs.find((function(e){return y(e)&&e.parameters.apt===r.remotePayloadType}));n&&a&&(r.localRtxPayloadType=n.preferredPayloadType,r.remoteRtxPayloadType=a.preferredPayloadType)};for(c.s();!(s=c.n()).done;)u()}catch(f){c.e(f)}finally{c.f()}var l,d=n(t.headerExtensions);try{var p=function(){var t=l.value,r=e.headerExtensions.find((function(e){return function(e,t){if(e.kind&&t.kind&&e.kind!==t.kind)return!1;if(e.uri!==t.uri)return!1;return!0}(e,t)}));if(!r)return"continue";var n={kind:t.kind,uri:t.uri,sendId:r.preferredId,recvId:t.preferredId,encrypt:r.preferredEncrypt,direction:"sendrecv"};switch(t.direction){case"sendrecv":n.direction="sendrecv";break;case"recvonly":n.direction="sendonly";break;case"sendonly":n.direction="recvonly";break;case"inactive":n.direction="inactive"}a.headerExtensions.push(n)};for(d.s();!(l=d.n()).done;)p()}catch(f){d.e(f)}finally{d.f()}return a},t.getRecvRtpCapabilities=function(e){var t,r={codecs:[],headerExtensions:[]},a=n(e.codecs);try{for(a.s();!(t=a.n()).done;){var i=t.value,o={mimeType:i.mimeType,kind:i.kind,preferredPayloadType:i.remotePayloadType,clockRate:i.clockRate,channels:i.channels,parameters:i.localParameters,rtcpFeedback:i.rtcpFeedback};if(r.codecs.push(o),i.remoteRtxPayloadType){var s={mimeType:"".concat(i.kind,"/rtx"),kind:i.kind,preferredPayloadType:i.remoteRtxPayloadType,clockRate:i.clockRate,parameters:{apt:i.remotePayloadType},rtcpFeedback:[]};r.codecs.push(s)}}}catch(p){a.e(p)}finally{a.f()}var c,u=n(e.headerExtensions);try{for(u.s();!(c=u.n()).done;){var l=c.value;if("sendrecv"===l.direction||"recvonly"===l.direction){var d={kind:l.kind,uri:l.uri,preferredId:l.recvId,preferredEncrypt:l.encrypt,direction:l.direction};r.headerExtensions.push(d)}}}catch(p){u.e(p)}finally{u.f()}return r},t.getSendingRtpParameters=function(e,t){var r,a={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}},i=n(t.codecs);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o.kind===e){var s={mimeType:o.mimeType,payloadType:o.localPayloadType,clockRate:o.clockRate,channels:o.channels,parameters:o.localParameters,rtcpFeedback:o.rtcpFeedback};if(a.codecs.push(s),o.localRtxPayloadType){var c={mimeType:"".concat(o.kind,"/rtx"),payloadType:o.localRtxPayloadType,clockRate:o.clockRate,parameters:{apt:o.localPayloadType},rtcpFeedback:[]};a.codecs.push(c)}}}}catch(f){i.e(f)}finally{i.f()}var u,l=n(t.headerExtensions);try{for(l.s();!(u=l.n()).done;){var d=u.value;if(!(d.kind&&d.kind!==e||"sendrecv"!==d.direction&&"sendonly"!==d.direction)){var p={uri:d.uri,id:d.sendId,encrypt:d.encrypt,parameters:{}};a.headerExtensions.push(p)}}}catch(f){l.e(f)}finally{l.f()}return a},t.getSendingRemoteRtpParameters=function(e,t){var r,a={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}},i=n(t.codecs);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o.kind===e){var s={mimeType:o.mimeType,payloadType:o.localPayloadType,clockRate:o.clockRate,channels:o.channels,parameters:o.remoteParameters,rtcpFeedback:o.rtcpFeedback};if(a.codecs.push(s),o.localRtxPayloadType){var c={mimeType:"".concat(o.kind,"/rtx"),payloadType:o.localRtxPayloadType,clockRate:o.clockRate,parameters:{apt:o.localPayloadType},rtcpFeedback:[]};a.codecs.push(c)}}}}catch(_){i.e(_)}finally{i.f()}var u,l=n(t.headerExtensions);try{for(l.s();!(u=l.n()).done;){var d=u.value;if(!(d.kind&&d.kind!==e||"sendrecv"!==d.direction&&"sendonly"!==d.direction)){var p={uri:d.uri,id:d.sendId,encrypt:d.encrypt,parameters:{}};a.headerExtensions.push(p)}}}catch(_){l.e(_)}finally{l.f()}if(a.headerExtensions.some((function(e){return"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"===e.uri}))){var f,h=n(a.codecs);try{for(h.s();!(f=h.n()).done;){var m=f.value;m.rtcpFeedback=(m.rtcpFeedback||[]).filter((function(e){return"goog-remb"!==e.type}))}}catch(_){h.e(_)}finally{h.f()}}else if(a.headerExtensions.some((function(e){return"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"===e.uri}))){var v,g=n(a.codecs);try{for(g.s();!(v=g.n()).done;){var y=v.value;y.rtcpFeedback=(y.rtcpFeedback||[]).filter((function(e){return"transport-cc"!==e.type}))}}catch(_){g.e(_)}finally{g.f()}}else{var b,k=n(a.codecs);try{for(k.s();!(b=k.n()).done;){var w=b.value;w.rtcpFeedback=(w.rtcpFeedback||[]).filter((function(e){return"transport-cc"!==e.type&&"goog-remb"!==e.type}))}}catch(_){k.e(_)}finally{k.f()}}return a},t.reduceCodecs=function(e,t){var r=[];if(t){for(var n=0;n<e.length;++n)if(b(e[n],t)){r.push(e[n]),y(e[n+1])&&r.push(e[n+1]);break}if(0===r.length)throw new TypeError("no matching codec found")}else r.push(e[0]),y(e[1])&&r.push(e[1]);return r},t.generateProbatorRtpParameters=function(e){p(e=c.clone(e,{}));var t={mid:"probator",codecs:[],headerExtensions:[],encodings:[{ssrc:1234}],rtcp:{cname:"probator"}};return t.codecs.push(e.codecs[0]),t.codecs[0].payloadType=127,t.headerExtensions=e.headerExtensions,t},t.canSend=function(e,t){return t.codecs.some((function(t){return t.kind===e}))},t.canReceive=function(e,t){if(p(e),0===e.codecs.length)return!1;var r=e.codecs[0];return t.codecs.some((function(e){return e.remotePayloadType===r.payloadType}))}},8732:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parse=void 0;var r=new RegExp("^[LS]([1-9]\\d{0,1})T([1-9]\\d{0,1})");t.parse=function(e){var t=r.exec(e||"");return t?{spatialLayers:Number(t[1]),temporalLayers:Number(t[2])}:{spatialLayers:1,temporalLayers:1}}},507:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),a(r(5703),t),a(r(475),t),a(r(9277),t),a(r(1098),t),a(r(7358),t),a(r(6919),t),a(r(2366),t),a(r(1045),t),a(r(4376),t),a(r(6431),t)},3001:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateRandomNumber=t.clone=void 0,t.clone=function(e,t){return"undefined"===typeof e?t:JSON.parse(JSON.stringify(e))},t.generateRandomNumber=function(){return Math.round(1e7*Math.random())}},8193:function(e){var t=1e3,r=60*t,n=60*r,a=24*n,i=7*a,o=365.25*a;function s(e,t,r,n){var a=t>=1.5*r;return Math.round(e/r)+" "+n+(a?"s":"")}e.exports=function(e,c){c=c||{};var u=typeof e;if("string"===u&&e.length>0)return function(e){if((e=String(e)).length>100)return;var s=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!s)return;var c=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*o;case"weeks":case"week":case"w":return c*i;case"days":case"day":case"d":return c*a;case"hours":case"hour":case"hrs":case"hr":case"h":return c*n;case"minutes":case"minute":case"mins":case"min":case"m":return c*r;case"seconds":case"second":case"secs":case"sec":case"s":return c*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}(e);if("number"===u&&isFinite(e))return c.long?function(e){var i=Math.abs(e);if(i>=a)return s(e,i,a,"day");if(i>=n)return s(e,i,n,"hour");if(i>=r)return s(e,i,r,"minute");if(i>=t)return s(e,i,t,"second");return e+" ms"}(e):function(e){var i=Math.abs(e);if(i>=a)return Math.round(e/a)+"d";if(i>=n)return Math.round(e/n)+"h";if(i>=r)return Math.round(e/r)+"m";if(i>=t)return Math.round(e/t)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},2592:function(e){"use strict";var t=function(e){return e!==e};e.exports=function(e,r){return 0===e&&0===r?1/e===1/r:e===r||!(!t(e)||!t(r))}},3454:function(e,t,r){"use strict";var n=r(9396),a=r(9722),i=r(2592),o=r(3355),s=r(3118),c=a(o(),Object);n(c,{getPolyfill:o,implementation:i,shim:s}),e.exports=c},3355:function(e,t,r){"use strict";var n=r(2592);e.exports=function(){return"function"===typeof Object.is?Object.is:n}},3118:function(e,t,r){"use strict";var n=r(3355),a=r(9396);e.exports=function(){var e=n();return a(Object,{is:e},{is:function(){return Object.is!==e}}),e}},1949:function(e,t,r){"use strict";var n;if(!Object.keys){var a=Object.prototype.hasOwnProperty,i=Object.prototype.toString,o=r(7635),s=Object.prototype.propertyIsEnumerable,c=!s.call({toString:null},"toString"),u=s.call((function(){}),"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=function(e){var t=e.constructor;return t&&t.prototype===e},p={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},f=function(){if("undefined"===typeof window)return!1;for(var e in window)try{if(!p["$"+e]&&a.call(window,e)&&null!==window[e]&&"object"===typeof window[e])try{d(window[e])}catch(t){return!0}}catch(t){return!0}return!1}();n=function(e){var t=null!==e&&"object"===typeof e,r="[object Function]"===i.call(e),n=o(e),s=t&&"[object String]"===i.call(e),p=[];if(!t&&!r&&!n)throw new TypeError("Object.keys called on a non-object");var h=u&&r;if(s&&e.length>0&&!a.call(e,0))for(var m=0;m<e.length;++m)p.push(String(m));if(n&&e.length>0)for(var v=0;v<e.length;++v)p.push(String(v));else for(var g in e)h&&"prototype"===g||!a.call(e,g)||p.push(String(g));if(c)for(var y=function(e){if("undefined"===typeof window||!f)return d(e);try{return d(e)}catch(t){return!1}}(e),b=0;b<l.length;++b)y&&"constructor"===l[b]||!a.call(e,l[b])||p.push(l[b]);return p}}e.exports=n},4892:function(e,t,r){"use strict";var n=Array.prototype.slice,a=r(7635),i=Object.keys,o=i?function(e){return i(e)}:r(1949),s=Object.keys;o.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return a(e)?s(n.call(e)):s(e)})}else Object.keys=o;return Object.keys||o},e.exports=o},7635:function(e){"use strict";var t=Object.prototype.toString;e.exports=function(e){var r=t.call(e),n="[object Arguments]"===r;return n||(n="[object Array]"!==r&&null!==e&&"object"===typeof e&&"number"===typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),n}},4183:function(e,t,r){var n;e.exports="function"===typeof queueMicrotask?queueMicrotask.bind("undefined"!==typeof window?window:r.g):function(e){return(n||(n=Promise.resolve())).then(e).catch((function(e){return setTimeout((function(){throw e}),0)}))}},4463:function(e,t,r){"use strict";var n=r(2791),a=r(5296);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function c(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},h={};function m(e,t,r,n,a,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,r,n){var a=v.hasOwnProperty(t)?v[t]:null;(null!==a?0!==a.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,r,n){if(null===t||"undefined"===typeof t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,a,n)&&(r=null),n||null===a?function(e){return!!d.call(h,e)||!d.call(f,e)&&(p.test(e)?h[e]=!0:(f[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=null===r?3!==a.type&&"":r:(t=a.attributeName,n=a.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(a=a.type)||4===a&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),R=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),M=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var j=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var I=Symbol.iterator;function A(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var L,N=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var B=!1;function z(e,t){if(!e||B)return"";B=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&"string"===typeof u.stack){for(var a=u.stack.split("\n"),i=n.stack.split("\n"),o=a.length-1,s=i.length-1;1<=o&&0<=s&&a[o]!==i[s];)s--;for(;1<=o&&0<=s;o--,s--)if(a[o]!==i[s]){if(1!==o||1!==s)do{if(o--,0>--s||a[o]!==i[s]){var c="\n"+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=o&&0<=s);break}}}finally{B=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?F(e):""}function U(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case _:return"Portal";case C:return"Profiler";case x:return"StrictMode";case E:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case R:return(e.displayName||"Context")+".Consumer";case P:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case M:t=e._payload,e=e._init;try{return V(e(t))}catch(r){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){n=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=H(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var r=t.checked;return N({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function Q(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=q(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){J(e,t);var r=q(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,r):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ee(e,t,r){"number"===t&&K(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var te=Array.isArray;function re(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+q(r),t=null,a=0;a<e.length;a++){if(e[a].value===r)return e[a].selected=!0,void(n&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return N({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(i(92));if(te(r)){if(1<r.length)throw Error(i(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:q(r)}}function ie(e,t){var r=q(t.value),n=q(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,le,de=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function pe(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function me(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ve(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),a=me(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}Object.keys(fe).forEach((function(e){he.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ge=N({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,Se=null,xe=null;function Ce(e){if(e=ba(e)){if("function"!==typeof _e)throw Error(i(280));var t=e.stateNode;t&&(t=wa(t),_e(e.stateNode,e.type,t))}}function Pe(e){Se?xe?xe.push(e):xe=[e]:Se=e}function Re(){if(Se){var e=Se,t=xe;if(xe=Se=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Te(e,t){return e(t)}function Ee(){}var Oe=!1;function De(e,t,r){if(Oe)return e(t,r);Oe=!0;try{return Te(e,t,r)}finally{Oe=!1,(null!==Se||null!==xe)&&(Ee(),Re())}}function Me(e,t){var r=e.stateNode;if(null===r)return null;var n=wa(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(i(231,t,typeof r));return r}var je=!1;if(l)try{var Ie={};Object.defineProperty(Ie,"passive",{get:function(){je=!0}}),window.addEventListener("test",Ie,Ie),window.removeEventListener("test",Ie,Ie)}catch(le){je=!1}function Ae(e,t,r,n,a,i,o,s,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(l){this.onError(l)}}var Le=!1,Ne=null,Fe=!1,Be=null,ze={onError:function(e){Le=!0,Ne=e}};function Ue(e,t,r,n,a,i,o,s,c){Le=!1,Ne=null,Ae.apply(ze,arguments)}function Ve(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Ve(e)!==e)throw Error(i(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(i(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(n=a.return)){r=n;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===r)return qe(a),e;if(o===n)return qe(a),t;o=o.sibling}throw Error(i(188))}if(r.return!==n.return)r=a,n=o;else{for(var s=!1,c=a.child;c;){if(c===r){s=!0,r=a,n=o;break}if(c===n){s=!0,n=a,r=o;break}c=c.sibling}if(!s){for(c=o.child;c;){if(c===r){s=!0,r=o,n=a;break}if(c===n){s=!0,n=o,r=a;break}c=c.sibling}if(!s)throw Error(i(189))}}if(r.alternate!==n)throw Error(i(190))}if(3!==r.tag)throw Error(i(188));return r.stateNode.current===r?e:t}(e))?$e(e):null}function $e(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=$e(e);if(null!==t)return t;e=e.sibling}return null}var Ge=a.unstable_scheduleCallback,Ke=a.unstable_cancelCallback,Ye=a.unstable_shouldYield,Qe=a.unstable_requestPaint,Je=a.unstable_now,Xe=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,rt=a.unstable_LowPriority,nt=a.unstable_IdlePriority,at=null,it=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ct|0)|0},st=Math.log,ct=Math.LN2;var ut=64,lt=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pt(e,t){var r=e.pendingLanes;if(0===r)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=268435455&r;if(0!==o){var s=o&~a;0!==s?n=dt(s):0!==(i&=o)&&(n=dt(i))}else 0!==(o=r&~a)?n=dt(o):0!==i&&(n=dt(i));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&a)&&((a=n&-n)>=(i=t&-t)||16===a&&0!==(4194240&i)))return t;if(0!==(4&n)&&(n|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)a=1<<(r=31-ot(t)),n|=e[r],t&=~a;return n}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function vt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function gt(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=r}function yt(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ot(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var bt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,_t,St,xt,Ct,Pt=!1,Rt=[],Tt=null,Et=null,Ot=null,Dt=new Map,Mt=new Map,jt=[],It="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function At(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mt.delete(t.pointerId)}}function Lt(e,t,r,n,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},null!==t&&(null!==(t=ba(t))&&_t(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Nt(e){var t=ya(e.target);if(null!==t){var r=Ve(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=We(r)))return e.blockedOn=t,void Ct(e.priority,(function(){St(r)}))}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=ba(r))&&_t(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);ke=n,r.target.dispatchEvent(n),ke=null,t.shift()}return!0}function Bt(e,t,r){Ft(e)&&r.delete(t)}function zt(){Pt=!1,null!==Tt&&Ft(Tt)&&(Tt=null),null!==Et&&Ft(Et)&&(Et=null),null!==Ot&&Ft(Ot)&&(Ot=null),Dt.forEach(Bt),Mt.forEach(Bt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Pt||(Pt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,zt)))}function Vt(e){function t(t){return Ut(t,e)}if(0<Rt.length){Ut(Rt[0],e);for(var r=1;r<Rt.length;r++){var n=Rt[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==Tt&&Ut(Tt,e),null!==Et&&Ut(Et,e),null!==Ot&&Ut(Ot,e),Dt.forEach(t),Mt.forEach(t),r=0;r<jt.length;r++)(n=jt[r]).blockedOn===e&&(n.blockedOn=null);for(;0<jt.length&&null===(r=jt[0]).blockedOn;)Nt(r),null===r.blockedOn&&jt.shift()}var Wt=k.ReactCurrentBatchConfig,qt=!0;function Ht(e,t,r,n){var a=bt,i=Wt.transition;Wt.transition=null;try{bt=1,Gt(e,t,r,n)}finally{bt=a,Wt.transition=i}}function $t(e,t,r,n){var a=bt,i=Wt.transition;Wt.transition=null;try{bt=4,Gt(e,t,r,n)}finally{bt=a,Wt.transition=i}}function Gt(e,t,r,n){if(qt){var a=Yt(e,t,r,n);if(null===a)qn(e,t,n,Kt,r),At(e,n);else if(function(e,t,r,n,a){switch(t){case"focusin":return Tt=Lt(Tt,e,t,r,n,a),!0;case"dragenter":return Et=Lt(Et,e,t,r,n,a),!0;case"mouseover":return Ot=Lt(Ot,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Dt.set(i,Lt(Dt.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Mt.set(i,Lt(Mt.get(i)||null,e,t,r,n,a)),!0}return!1}(a,e,t,r,n))n.stopPropagation();else if(At(e,n),4&t&&-1<It.indexOf(e)){for(;null!==a;){var i=ba(a);if(null!==i&&wt(i),null===(i=Yt(e,t,r,n))&&qn(e,t,n,Kt,r),i===a)break;a=i}null!==a&&n.stopPropagation()}else qn(e,t,n,null,r)}}var Kt=null;function Yt(e,t,r,n){if(Kt=null,null!==(e=ya(e=we(n))))if(null===(t=Ve(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case rt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,Zt=null;function er(){if(Zt)return Zt;var e,t,r=Xt,n=r.length,a="value"in Jt?Jt.value:Jt.textContent,i=a.length;for(e=0;e<n&&r[e]===a[e];e++);var o=n-e;for(t=1;t<=o&&r[n-t]===a[i-t];t++);return Zt=a.slice(e,1<t?1-t:void 0)}function tr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rr(){return!0}function nr(){return!1}function ar(e){function t(t,r,n,a,i){for(var o in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?rr:nr,this.isPropagationStopped=nr,this}return N(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),t}var ir,or,sr,cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ur=ar(cr),lr=N({},cr,{view:0,detail:0}),dr=ar(lr),pr=N({},lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sr&&(sr&&"mousemove"===e.type?(ir=e.screenX-sr.screenX,or=e.screenY-sr.screenY):or=ir=0,sr=e),ir)},movementY:function(e){return"movementY"in e?e.movementY:or}}),fr=ar(pr),hr=ar(N({},pr,{dataTransfer:0})),mr=ar(N({},lr,{relatedTarget:0})),vr=ar(N({},cr,{animationName:0,elapsedTime:0,pseudoElement:0})),gr=N({},cr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yr=ar(gr),br=ar(N({},cr,{data:0})),kr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_r={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_r[e])&&!!t[e]}function xr(){return Sr}var Cr=N({},lr,{key:function(e){if(e.key){var t=kr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xr,charCode:function(e){return"keypress"===e.type?tr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Pr=ar(Cr),Rr=ar(N({},pr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tr=ar(N({},lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xr})),Er=ar(N({},cr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Or=N({},pr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dr=ar(Or),Mr=[9,13,27,32],jr=l&&"CompositionEvent"in window,Ir=null;l&&"documentMode"in document&&(Ir=document.documentMode);var Ar=l&&"TextEvent"in window&&!Ir,Lr=l&&(!jr||Ir&&8<Ir&&11>=Ir),Nr=String.fromCharCode(32),Fr=!1;function Br(e,t){switch(e){case"keyup":return-1!==Mr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Ur=!1;var Vr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vr[e.type]:"textarea"===t}function qr(e,t,r,n){Pe(n),0<(t=$n(t,"onChange")).length&&(r=new ur("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Hr=null,$r=null;function Gr(e){Fn(e,0)}function Kr(e){if(G(ka(e)))return e}function Yr(e,t){if("change"===e)return t}var Qr=!1;if(l){var Jr;if(l){var Xr="oninput"in document;if(!Xr){var Zr=document.createElement("div");Zr.setAttribute("oninput","return;"),Xr="function"===typeof Zr.oninput}Jr=Xr}else Jr=!1;Qr=Jr&&(!document.documentMode||9<document.documentMode)}function en(){Hr&&(Hr.detachEvent("onpropertychange",tn),$r=Hr=null)}function tn(e){if("value"===e.propertyName&&Kr($r)){var t=[];qr(t,$r,e,we(e)),De(Gr,t)}}function rn(e,t,r){"focusin"===e?(en(),$r=r,(Hr=t).attachEvent("onpropertychange",tn)):"focusout"===e&&en()}function nn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kr($r)}function an(e,t){if("click"===e)return Kr(t)}function on(e,t){if("input"===e||"change"===e)return Kr(t)}var sn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function cn(e,t){if(sn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!d.call(t,a)||!sn(e[a],t[a]))return!1}return!0}function un(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ln(e,t){var r,n=un(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=un(n)}}function dn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pn(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=K((e=t.contentWindow).document)}return t}function fn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hn(e){var t=pn(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&dn(r.ownerDocument.documentElement,r)){if(null!==n&&fn(r))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=void 0===n.end?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=ln(r,i);var o=ln(r,n);a&&o&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mn=l&&"documentMode"in document&&11>=document.documentMode,vn=null,gn=null,yn=null,bn=!1;function kn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;bn||null==vn||vn!==K(n)||("selectionStart"in(n=vn)&&fn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},yn&&cn(yn,n)||(yn=n,0<(n=$n(gn,"onSelect")).length&&(t=new ur("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=vn)))}function wn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var _n={animationend:wn("Animation","AnimationEnd"),animationiteration:wn("Animation","AnimationIteration"),animationstart:wn("Animation","AnimationStart"),transitionend:wn("Transition","TransitionEnd")},Sn={},xn={};function Cn(e){if(Sn[e])return Sn[e];if(!_n[e])return e;var t,r=_n[e];for(t in r)if(r.hasOwnProperty(t)&&t in xn)return Sn[e]=r[t];return e}l&&(xn=document.createElement("div").style,"AnimationEvent"in window||(delete _n.animationend.animation,delete _n.animationiteration.animation,delete _n.animationstart.animation),"TransitionEvent"in window||delete _n.transitionend.transition);var Pn=Cn("animationend"),Rn=Cn("animationiteration"),Tn=Cn("animationstart"),En=Cn("transitionend"),On=new Map,Dn="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mn(e,t){On.set(e,t),c(t,[e])}for(var jn=0;jn<Dn.length;jn++){var In=Dn[jn];Mn(In.toLowerCase(),"on"+(In[0].toUpperCase()+In.slice(1)))}Mn(Pn,"onAnimationEnd"),Mn(Rn,"onAnimationIteration"),Mn(Tn,"onAnimationStart"),Mn("dblclick","onDoubleClick"),Mn("focusin","onFocus"),Mn("focusout","onBlur"),Mn(En,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var An="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ln=new Set("cancel close invalid load scroll toggle".split(" ").concat(An));function Nn(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,a,o,s,c,u){if(Ue.apply(this,arguments),Le){if(!Le)throw Error(i(198));var l=Ne;Le=!1,Ne=null,Fe||(Fe=!0,Be=l)}}(n,t,void 0,e),e.currentTarget=null}function Fn(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var s=n[o],c=s.instance,u=s.currentTarget;if(s=s.listener,c!==i&&a.isPropagationStopped())break e;Nn(a,s,u),i=c}else for(o=0;o<n.length;o++){if(c=(s=n[o]).instance,u=s.currentTarget,s=s.listener,c!==i&&a.isPropagationStopped())break e;Nn(a,s,u),i=c}}}if(Fe)throw e=Be,Fe=!1,Be=null,e}function Bn(e,t){var r=t[ma];void 0===r&&(r=t[ma]=new Set);var n=e+"__bubble";r.has(n)||(Wn(t,e,2,!1),r.add(n))}function zn(e,t,r){var n=0;t&&(n|=4),Wn(r,e,n,t)}var Un="_reactListening"+Math.random().toString(36).slice(2);function Vn(e){if(!e[Un]){e[Un]=!0,o.forEach((function(t){"selectionchange"!==t&&(Ln.has(t)||zn(t,!1,e),zn(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Un]||(t[Un]=!0,zn("selectionchange",!1,t))}}function Wn(e,t,r,n){switch(Qt(t)){case 1:var a=Ht;break;case 4:a=$t;break;default:a=Gt}r=a.bind(null,t,r,e),a=void 0,!je||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),n?void 0!==a?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):void 0!==a?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function qn(e,t,r,n,a){var i=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var o=n.tag;if(3===o||4===o){var s=n.stateNode.containerInfo;if(s===a||8===s.nodeType&&s.parentNode===a)break;if(4===o)for(o=n.return;null!==o;){var c=o.tag;if((3===c||4===c)&&((c=o.stateNode.containerInfo)===a||8===c.nodeType&&c.parentNode===a))return;o=o.return}for(;null!==s;){if(null===(o=ya(s)))return;if(5===(c=o.tag)||6===c){n=i=o;continue e}s=s.parentNode}}n=n.return}De((function(){var n=i,a=we(r),o=[];e:{var s=On.get(e);if(void 0!==s){var c=ur,u=e;switch(e){case"keypress":if(0===tr(r))break e;case"keydown":case"keyup":c=Pr;break;case"focusin":u="focus",c=mr;break;case"focusout":u="blur",c=mr;break;case"beforeblur":case"afterblur":c=mr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=fr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=hr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=Tr;break;case Pn:case Rn:case Tn:c=vr;break;case En:c=Er;break;case"scroll":c=dr;break;case"wheel":c=Dr;break;case"copy":case"cut":case"paste":c=yr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=Rr}var l=0!==(4&t),d=!l&&"scroll"===e,p=l?null!==s?s+"Capture":null:s;l=[];for(var f,h=n;null!==h;){var m=(f=h).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==p&&(null!=(m=Me(h,p))&&l.push(Hn(h,m,f)))),d)break;h=h.return}0<l.length&&(s=new c(s,u,null,r,a),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||r===ke||!(u=r.relatedTarget||r.fromElement)||!ya(u)&&!u[ha])&&(c||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=n,null!==(u=(u=r.relatedTarget||r.toElement)?ya(u):null)&&(u!==(d=Ve(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(c=null,u=n),c!==u)){if(l=fr,m="onMouseLeave",p="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(l=Rr,m="onPointerLeave",p="onPointerEnter",h="pointer"),d=null==c?s:ka(c),f=null==u?s:ka(u),(s=new l(m,h+"leave",c,r,a)).target=d,s.relatedTarget=f,m=null,ya(a)===n&&((l=new l(p,h+"enter",u,r,a)).target=f,l.relatedTarget=d,m=l),d=m,c&&u)e:{for(p=u,h=0,f=l=c;f;f=Gn(f))h++;for(f=0,m=p;m;m=Gn(m))f++;for(;0<h-f;)l=Gn(l),h--;for(;0<f-h;)p=Gn(p),f--;for(;h--;){if(l===p||null!==p&&l===p.alternate)break e;l=Gn(l),p=Gn(p)}l=null}else l=null;null!==c&&Kn(o,s,c,l,!1),null!==u&&null!==d&&Kn(o,d,u,l,!0)}if("select"===(c=(s=n?ka(n):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var v=Yr;else if(Wr(s))if(Qr)v=on;else{v=nn;var g=rn}else(c=s.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=an);switch(v&&(v=v(e,n))?qr(o,v,r,a):(g&&g(e,s,n),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=n?ka(n):window,e){case"focusin":(Wr(g)||"true"===g.contentEditable)&&(vn=g,gn=n,yn=null);break;case"focusout":yn=gn=vn=null;break;case"mousedown":bn=!0;break;case"contextmenu":case"mouseup":case"dragend":bn=!1,kn(o,r,a);break;case"selectionchange":if(mn)break;case"keydown":case"keyup":kn(o,r,a)}var y;if(jr)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Ur?Br(e,r)&&(b="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(b="onCompositionStart");b&&(Lr&&"ko"!==r.locale&&(Ur||"onCompositionStart"!==b?"onCompositionEnd"===b&&Ur&&(y=er()):(Xt="value"in(Jt=a)?Jt.value:Jt.textContent,Ur=!0)),0<(g=$n(n,b)).length&&(b=new br(b,e,null,r,a),o.push({event:b,listeners:g}),y?b.data=y:null!==(y=zr(r))&&(b.data=y))),(y=Ar?function(e,t){switch(e){case"compositionend":return zr(t);case"keypress":return 32!==t.which?null:(Fr=!0,Nr);case"textInput":return(e=t.data)===Nr&&Fr?null:e;default:return null}}(e,r):function(e,t){if(Ur)return"compositionend"===e||!jr&&Br(e,t)?(e=er(),Zt=Xt=Jt=null,Ur=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Lr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(n=$n(n,"onBeforeInput")).length&&(a=new br("onBeforeInput","beforeinput",null,r,a),o.push({event:a,listeners:n}),a.data=y))}Fn(o,t)}))}function Hn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function $n(e,t){for(var r=t+"Capture",n=[];null!==e;){var a=e,i=a.stateNode;5===a.tag&&null!==i&&(a=i,null!=(i=Me(e,r))&&n.unshift(Hn(e,i,a)),null!=(i=Me(e,t))&&n.push(Hn(e,i,a))),e=e.return}return n}function Gn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kn(e,t,r,n,a){for(var i=t._reactName,o=[];null!==r&&r!==n;){var s=r,c=s.alternate,u=s.stateNode;if(null!==c&&c===n)break;5===s.tag&&null!==u&&(s=u,a?null!=(c=Me(r,i))&&o.unshift(Hn(r,c,s)):a||null!=(c=Me(r,i))&&o.push(Hn(r,c,s))),r=r.return}0!==o.length&&e.push({event:t,listeners:o})}var Yn=/\r\n?/g,Qn=/\u0000|\uFFFD/g;function Jn(e){return("string"===typeof e?e:""+e).replace(Yn,"\n").replace(Qn,"")}function Xn(e,t,r){if(t=Jn(t),Jn(e)!==t&&r)throw Error(i(425))}function Zn(){}var ea=null,ta=null;function ra(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var na="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,ia="function"===typeof Promise?Promise:void 0,oa="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ia?function(e){return ia.resolve(null).then(e).catch(sa)}:na;function sa(e){setTimeout((function(){throw e}))}function ca(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&8===a.nodeType)if("/$"===(r=a.data)){if(0===n)return e.removeChild(a),void Vt(t);n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=a}while(r);Vt(t)}function ua(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function la(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),pa="__reactFiber$"+da,fa="__reactProps$"+da,ha="__reactContainer$"+da,ma="__reactEvents$"+da,va="__reactListeners$"+da,ga="__reactHandles$"+da;function ya(e){var t=e[pa];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ha]||r[pa]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=la(e);null!==e;){if(r=e[pa])return r;e=la(e)}return t}r=(e=r).parentNode}return null}function ba(e){return!(e=e[pa]||e[ha])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ka(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function wa(e){return e[fa]||null}var _a=[],Sa=-1;function xa(e){return{current:e}}function Ca(e){0>Sa||(e.current=_a[Sa],_a[Sa]=null,Sa--)}function Pa(e,t){Sa++,_a[Sa]=e.current,e.current=t}var Ra={},Ta=xa(Ra),Ea=xa(!1),Oa=Ra;function Da(e,t){var r=e.type.contextTypes;if(!r)return Ra;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in r)i[a]=t[a];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ma(e){return null!==(e=e.childContextTypes)&&void 0!==e}function ja(){Ca(Ea),Ca(Ta)}function Ia(e,t,r){if(Ta.current!==Ra)throw Error(i(168));Pa(Ta,t),Pa(Ea,r)}function Aa(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var a in n=n.getChildContext())if(!(a in t))throw Error(i(108,W(e)||"Unknown",a));return N({},r,n)}function La(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ra,Oa=Ta.current,Pa(Ta,e),Pa(Ea,Ea.current),!0}function Na(e,t,r){var n=e.stateNode;if(!n)throw Error(i(169));r?(e=Aa(e,t,Oa),n.__reactInternalMemoizedMergedChildContext=e,Ca(Ea),Ca(Ta),Pa(Ta,e)):Ca(Ea),Pa(Ea,r)}var Fa=null,Ba=!1,za=!1;function Ua(e){null===Fa?Fa=[e]:Fa.push(e)}function Va(){if(!za&&null!==Fa){za=!0;var e=0,t=bt;try{var r=Fa;for(bt=1;e<r.length;e++){var n=r[e];do{n=n(!0)}while(null!==n)}Fa=null,Ba=!1}catch(a){throw null!==Fa&&(Fa=Fa.slice(e+1)),Ge(Ze,Va),a}finally{bt=t,za=!1}}return null}var Wa=[],qa=0,Ha=null,$a=0,Ga=[],Ka=0,Ya=null,Qa=1,Ja="";function Xa(e,t){Wa[qa++]=$a,Wa[qa++]=Ha,Ha=e,$a=t}function Za(e,t,r){Ga[Ka++]=Qa,Ga[Ka++]=Ja,Ga[Ka++]=Ya,Ya=e;var n=Qa;e=Ja;var a=32-ot(n)-1;n&=~(1<<a),r+=1;var i=32-ot(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,Qa=1<<32-ot(t)+a|r<<a|n,Ja=i+e}else Qa=1<<i|r<<a|n,Ja=e}function ei(e){null!==e.return&&(Xa(e,1),Za(e,1,0))}function ti(e){for(;e===Ha;)Ha=Wa[--qa],Wa[qa]=null,$a=Wa[--qa],Wa[qa]=null;for(;e===Ya;)Ya=Ga[--Ka],Ga[Ka]=null,Ja=Ga[--Ka],Ga[Ka]=null,Qa=Ga[--Ka],Ga[Ka]=null}var ri=null,ni=null,ai=!1,ii=null;function oi(e,t){var r=Mu(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function si(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ri=e,ni=ua(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ri=e,ni=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==Ya?{id:Qa,overflow:Ja}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=Mu(18,null,null,0)).stateNode=t,r.return=e,e.child=r,ri=e,ni=null,!0);default:return!1}}function ci(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ui(e){if(ai){var t=ni;if(t){var r=t;if(!si(e,t)){if(ci(e))throw Error(i(418));t=ua(r.nextSibling);var n=ri;t&&si(e,t)?oi(n,r):(e.flags=-4097&e.flags|2,ai=!1,ri=e)}}else{if(ci(e))throw Error(i(418));e.flags=-4097&e.flags|2,ai=!1,ri=e}}}function li(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ri=e}function di(e){if(e!==ri)return!1;if(!ai)return li(e),ai=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ra(e.type,e.memoizedProps)),t&&(t=ni)){if(ci(e))throw pi(),Error(i(418));for(;t;)oi(e,t),t=ua(t.nextSibling)}if(li(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){ni=ua(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}ni=null}}else ni=ri?ua(e.stateNode.nextSibling):null;return!0}function pi(){for(var e=ni;e;)e=ua(e.nextSibling)}function fi(){ni=ri=null,ai=!1}function hi(e){null===ii?ii=[e]:ii.push(e)}var mi=k.ReactCurrentBatchConfig;function vi(e,t){if(e&&e.defaultProps){for(var r in t=N({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}var gi=xa(null),yi=null,bi=null,ki=null;function wi(){ki=bi=yi=null}function _i(e){var t=gi.current;Ca(gi),e._currentValue=t}function Si(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function xi(e,t){yi=e,ki=bi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ks=!0),e.firstContext=null)}function Ci(e){var t=e._currentValue;if(ki!==e)if(e={context:e,memoizedValue:t,next:null},null===bi){if(null===yi)throw Error(i(308));bi=e,yi.dependencies={lanes:0,firstContext:e}}else bi=bi.next=e;return t}var Pi=null;function Ri(e){null===Pi?Pi=[e]:Pi.push(e)}function Ti(e,t,r,n){var a=t.interleaved;return null===a?(r.next=r,Ri(t)):(r.next=a.next,a.next=r),t.interleaved=r,Ei(e,n)}function Ei(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var Oi=!1;function Di(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ji(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ii(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&Ec)){var a=n.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Ei(e,r)}return null===(a=n.interleaved)?(t.next=t,Ri(n)):(t.next=a.next,a.next=t),n.interleaved=t,Ei(e,r)}function Ai(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,yt(e,r)}}function Li(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var a=null,i=null;if(null!==(r=r.firstBaseUpdate)){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===i?a=i=o:i=i.next=o,r=r.next}while(null!==r);null===i?a=i=t:i=i.next=t}else a=i=t;return r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ni(e,t,r,n){var a=e.updateQueue;Oi=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var c=s,u=c.next;c.next=null,null===o?i=u:o.next=u,o=c;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=u:s.next=u,l.lastBaseUpdate=c))}if(null!==i){var d=a.baseState;for(o=0,l=u=c=null,s=i;;){var p=s.lane,f=s.eventTime;if((n&p)===p){null!==l&&(l=l.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,m=s;switch(p=t,f=r,m.tag){case 1:if("function"===typeof(h=m.payload)){d=h.call(f,d,p);break e}d=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(p="function"===typeof(h=m.payload)?h.call(f,d,p):h)||void 0===p)break e;d=N({},d,p);break e;case 2:Oi=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(p=a.effects)?a.effects=[s]:p.push(s))}else f={eventTime:f,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(u=l=f,c=d):l=l.next=f,o|=p;if(null===(s=s.next)){if(null===(s=a.shared.pending))break;s=(p=s).next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}if(null===l&&(c=d),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=l,null!==(t=a.shared.interleaved)){a=t;do{o|=a.lane,a=a.next}while(a!==t)}else null===i&&(a.shared.lanes=0);Nc|=o,e.lanes=o,e.memoizedState=d}}function Fi(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(null!==a){if(n.callback=null,n=r,"function"!==typeof a)throw Error(i(191,a));a.call(n)}}}var Bi=(new n.Component).refs;function zi(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:N({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var Ui={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=tu(),a=ru(e),i=ji(n,a);i.payload=t,void 0!==r&&null!==r&&(i.callback=r),null!==(t=Ii(e,i,a))&&(nu(t,e,a,n),Ai(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=tu(),a=ru(e),i=ji(n,a);i.tag=1,i.payload=t,void 0!==r&&null!==r&&(i.callback=r),null!==(t=Ii(e,i,a))&&(nu(t,e,a,n),Ai(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=tu(),n=ru(e),a=ji(r,n);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Ii(e,a,n))&&(nu(t,e,n,r),Ai(t,e,n))}};function Vi(e,t,r,n,a,i,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,i,o):!t.prototype||!t.prototype.isPureReactComponent||(!cn(r,n)||!cn(a,i))}function Wi(e,t,r){var n=!1,a=Ra,i=t.contextType;return"object"===typeof i&&null!==i?i=Ci(i):(a=Ma(t)?Oa:Ta.current,i=(n=null!==(n=t.contextTypes)&&void 0!==n)?Da(e,a):Ra),t=new t(r,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ui,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function qi(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ui.enqueueReplaceState(t,t.state,null)}function Hi(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs=Bi,Di(e);var i=t.contextType;"object"===typeof i&&null!==i?a.context=Ci(i):(i=Ma(t)?Oa:Ta.current,a.context=Da(e,i)),a.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(zi(e,t,i,r),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&Ui.enqueueReplaceState(a,a.state,null),Ni(e,r,a,n),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function $i(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(i(309));var n=r.stateNode}if(!n)throw Error(i(147,e));var a=n,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=a.refs;t===Bi&&(t=a.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(i(284));if(!r._owner)throw Error(i(290,e))}return e}function Gi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ki(e){return(0,e._init)(e._payload)}function Yi(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Iu(e,t)).index=0,e.sibling=null,e}function o(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=2,r):n:(t.flags|=2,r):(t.flags|=1048576,r)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function c(e,t,r,n){return null===t||6!==t.tag?((t=Fu(r,e.mode,n)).return=e,t):((t=a(t,r)).return=e,t)}function u(e,t,r,n){var i=r.type;return i===S?d(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===M&&Ki(i)===t.type)?((n=a(t,r.props)).ref=$i(e,t,r),n.return=e,n):((n=Au(r.type,r.key,r.props,null,e.mode,n)).ref=$i(e,t,r),n.return=e,n)}function l(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Bu(r,e.mode,n)).return=e,t):((t=a(t,r.children||[])).return=e,t)}function d(e,t,r,n,i){return null===t||7!==t.tag?((t=Lu(r,e.mode,n,i)).return=e,t):((t=a(t,r)).return=e,t)}function p(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fu(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(r=Au(t.type,t.key,t.props,null,e.mode,r)).ref=$i(e,null,t),r.return=e,r;case _:return(t=Bu(t,e.mode,r)).return=e,t;case M:return p(e,(0,t._init)(t._payload),r)}if(te(t)||A(t))return(t=Lu(t,e.mode,r,null)).return=e,t;Gi(e,t)}return null}function f(e,t,r,n){var a=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r)return null!==a?null:c(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return r.key===a?u(e,t,r,n):null;case _:return r.key===a?l(e,t,r,n):null;case M:return f(e,t,(a=r._init)(r._payload),n)}if(te(r)||A(r))return null!==a?null:d(e,t,r,n,null);Gi(e,r)}return null}function h(e,t,r,n,a){if("string"===typeof n&&""!==n||"number"===typeof n)return c(t,e=e.get(r)||null,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return u(t,e=e.get(null===n.key?r:n.key)||null,n,a);case _:return l(t,e=e.get(null===n.key?r:n.key)||null,n,a);case M:return h(e,t,r,(0,n._init)(n._payload),a)}if(te(n)||A(n))return d(t,e=e.get(r)||null,n,a,null);Gi(t,n)}return null}function m(a,i,s,c){for(var u=null,l=null,d=i,m=i=0,v=null;null!==d&&m<s.length;m++){d.index>m?(v=d,d=null):v=d.sibling;var g=f(a,d,s[m],c);if(null===g){null===d&&(d=v);break}e&&d&&null===g.alternate&&t(a,d),i=o(g,i,m),null===l?u=g:l.sibling=g,l=g,d=v}if(m===s.length)return r(a,d),ai&&Xa(a,m),u;if(null===d){for(;m<s.length;m++)null!==(d=p(a,s[m],c))&&(i=o(d,i,m),null===l?u=d:l.sibling=d,l=d);return ai&&Xa(a,m),u}for(d=n(a,d);m<s.length;m++)null!==(v=h(d,a,m,s[m],c))&&(e&&null!==v.alternate&&d.delete(null===v.key?m:v.key),i=o(v,i,m),null===l?u=v:l.sibling=v,l=v);return e&&d.forEach((function(e){return t(a,e)})),ai&&Xa(a,m),u}function v(a,s,c,u){var l=A(c);if("function"!==typeof l)throw Error(i(150));if(null==(c=l.call(c)))throw Error(i(151));for(var d=l=null,m=s,v=s=0,g=null,y=c.next();null!==m&&!y.done;v++,y=c.next()){m.index>v?(g=m,m=null):g=m.sibling;var b=f(a,m,y.value,u);if(null===b){null===m&&(m=g);break}e&&m&&null===b.alternate&&t(a,m),s=o(b,s,v),null===d?l=b:d.sibling=b,d=b,m=g}if(y.done)return r(a,m),ai&&Xa(a,v),l;if(null===m){for(;!y.done;v++,y=c.next())null!==(y=p(a,y.value,u))&&(s=o(y,s,v),null===d?l=y:d.sibling=y,d=y);return ai&&Xa(a,v),l}for(m=n(a,m);!y.done;v++,y=c.next())null!==(y=h(m,a,v,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?v:y.key),s=o(y,s,v),null===d?l=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(a,e)})),ai&&Xa(a,v),l}return function e(n,i,o,c){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var u=o.key,l=i;null!==l;){if(l.key===u){if((u=o.type)===S){if(7===l.tag){r(n,l.sibling),(i=a(l,o.props.children)).return=n,n=i;break e}}else if(l.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===M&&Ki(u)===l.type){r(n,l.sibling),(i=a(l,o.props)).ref=$i(n,l,o),i.return=n,n=i;break e}r(n,l);break}t(n,l),l=l.sibling}o.type===S?((i=Lu(o.props.children,n.mode,c,o.key)).return=n,n=i):((c=Au(o.type,o.key,o.props,null,n.mode,c)).ref=$i(n,i,o),c.return=n,n=c)}return s(n);case _:e:{for(l=o.key;null!==i;){if(i.key===l){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){r(n,i.sibling),(i=a(i,o.children||[])).return=n,n=i;break e}r(n,i);break}t(n,i),i=i.sibling}(i=Bu(o,n.mode,c)).return=n,n=i}return s(n);case M:return e(n,i,(l=o._init)(o._payload),c)}if(te(o))return m(n,i,o,c);if(A(o))return v(n,i,o,c);Gi(n,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==i&&6===i.tag?(r(n,i.sibling),(i=a(i,o)).return=n,n=i):(r(n,i),(i=Fu(o,n.mode,c)).return=n,n=i),s(n)):r(n,i)}}var Qi=Yi(!0),Ji=Yi(!1),Xi={},Zi=xa(Xi),eo=xa(Xi),to=xa(Xi);function ro(e){if(e===Xi)throw Error(i(174));return e}function no(e,t){switch(Pa(to,t),Pa(eo,e),Pa(Zi,Xi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ce(null,"");break;default:t=ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ca(Zi),Pa(Zi,t)}function ao(){Ca(Zi),Ca(eo),Ca(to)}function io(e){ro(to.current);var t=ro(Zi.current),r=ce(t,e.type);t!==r&&(Pa(eo,e),Pa(Zi,r))}function oo(e){eo.current===e&&(Ca(Zi),Ca(eo))}var so=xa(0);function co(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var uo=[];function lo(){for(var e=0;e<uo.length;e++)uo[e]._workInProgressVersionPrimary=null;uo.length=0}var po=k.ReactCurrentDispatcher,fo=k.ReactCurrentBatchConfig,ho=0,mo=null,vo=null,go=null,yo=!1,bo=!1,ko=0,wo=0;function _o(){throw Error(i(321))}function So(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!sn(e[r],t[r]))return!1;return!0}function xo(e,t,r,n,a,o){if(ho=o,mo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,po.current=null===e||null===e.memoizedState?ss:cs,e=r(n,a),bo){o=0;do{if(bo=!1,ko=0,25<=o)throw Error(i(301));o+=1,go=vo=null,t.updateQueue=null,po.current=us,e=r(n,a)}while(bo)}if(po.current=os,t=null!==vo&&null!==vo.next,ho=0,go=vo=mo=null,yo=!1,t)throw Error(i(300));return e}function Co(){var e=0!==ko;return ko=0,e}function Po(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===go?mo.memoizedState=go=e:go=go.next=e,go}function Ro(){if(null===vo){var e=mo.alternate;e=null!==e?e.memoizedState:null}else e=vo.next;var t=null===go?mo.memoizedState:go.next;if(null!==t)go=t,vo=e;else{if(null===e)throw Error(i(310));e={memoizedState:(vo=e).memoizedState,baseState:vo.baseState,baseQueue:vo.baseQueue,queue:vo.queue,next:null},null===go?mo.memoizedState=go=e:go=go.next=e}return go}function To(e,t){return"function"===typeof t?t(e):t}function Eo(e){var t=Ro(),r=t.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=e;var n=vo,a=n.baseQueue,o=r.pending;if(null!==o){if(null!==a){var s=a.next;a.next=o.next,o.next=s}n.baseQueue=a=o,r.pending=null}if(null!==a){o=a.next,n=n.baseState;var c=s=null,u=null,l=o;do{var d=l.lane;if((ho&d)===d)null!==u&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),n=l.hasEagerState?l.eagerState:e(n,l.action);else{var p={lane:d,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===u?(c=u=p,s=n):u=u.next=p,mo.lanes|=d,Nc|=d}l=l.next}while(null!==l&&l!==o);null===u?s=n:u.next=c,sn(n,t.memoizedState)||(ks=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=u,r.lastRenderedState=n}if(null!==(e=r.interleaved)){a=e;do{o=a.lane,mo.lanes|=o,Nc|=o,a=a.next}while(a!==e)}else null===a&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Oo(e){var t=Ro(),r=t.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,o=t.memoizedState;if(null!==a){r.pending=null;var s=a=a.next;do{o=e(o,s.action),s=s.next}while(s!==a);sn(o,t.memoizedState)||(ks=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function Do(){}function Mo(e,t){var r=mo,n=Ro(),a=t(),o=!sn(n.memoizedState,a);if(o&&(n.memoizedState=a,ks=!0),n=n.queue,qo(Ao.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||null!==go&&1&go.memoizedState.tag){if(r.flags|=2048,Bo(9,Io.bind(null,r,n,a,t),void 0,null),null===Oc)throw Error(i(349));0!==(30&ho)||jo(r,t,a)}return a}function jo(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function Io(e,t,r,n){t.value=r,t.getSnapshot=n,Lo(t)&&No(e)}function Ao(e,t,r){return r((function(){Lo(t)&&No(e)}))}function Lo(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!sn(e,r)}catch(n){return!0}}function No(e){var t=Ei(e,1);null!==t&&nu(t,e,1,-1)}function Fo(e){var t=Po();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:e},t.queue=e,e=e.dispatch=rs.bind(null,mo,e),[t.memoizedState,e]}function Bo(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function zo(){return Ro().memoizedState}function Uo(e,t,r,n){var a=Po();mo.flags|=e,a.memoizedState=Bo(1|t,r,void 0,void 0===n?null:n)}function Vo(e,t,r,n){var a=Ro();n=void 0===n?null:n;var i=void 0;if(null!==vo){var o=vo.memoizedState;if(i=o.destroy,null!==n&&So(n,o.deps))return void(a.memoizedState=Bo(t,r,i,n))}mo.flags|=e,a.memoizedState=Bo(1|t,r,i,n)}function Wo(e,t){return Uo(8390656,8,e,t)}function qo(e,t){return Vo(2048,8,e,t)}function Ho(e,t){return Vo(4,2,e,t)}function $o(e,t){return Vo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ko(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Vo(4,4,Go.bind(null,t,e),r)}function Yo(){}function Qo(e,t){var r=Ro();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&So(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Jo(e,t){var r=Ro();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&So(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Xo(e,t,r){return 0===(21&ho)?(e.baseState&&(e.baseState=!1,ks=!0),e.memoizedState=r):(sn(r,t)||(r=mt(),mo.lanes|=r,Nc|=r,e.baseState=!0),t)}function Zo(e,t){var r=bt;bt=0!==r&&4>r?r:4,e(!0);var n=fo.transition;fo.transition={};try{e(!1),t()}finally{bt=r,fo.transition=n}}function es(){return Ro().memoizedState}function ts(e,t,r){var n=ru(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},ns(e))as(t,r);else if(null!==(r=Ti(e,t,r,n))){nu(r,e,n,tu()),is(r,t,n)}}function rs(e,t,r){var n=ru(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(ns(e))as(t,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=i(o,r);if(a.hasEagerState=!0,a.eagerState=s,sn(s,o)){var c=t.interleaved;return null===c?(a.next=a,Ri(t)):(a.next=c.next,c.next=a),void(t.interleaved=a)}}catch(u){}null!==(r=Ti(e,t,a,n))&&(nu(r,e,n,a=tu()),is(r,t,n))}}function ns(e){var t=e.alternate;return e===mo||null!==t&&t===mo}function as(e,t){bo=yo=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function is(e,t,r){if(0!==(4194240&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,yt(e,r)}}var os={readContext:Ci,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useInsertionEffect:_o,useLayoutEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useMutableSource:_o,useSyncExternalStore:_o,useId:_o,unstable_isNewReconciler:!1},ss={readContext:Ci,useCallback:function(e,t){return Po().memoizedState=[e,void 0===t?null:t],e},useContext:Ci,useEffect:Wo,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Uo(4194308,4,Go.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Uo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Uo(4,2,e,t)},useMemo:function(e,t){var r=Po();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Po();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=ts.bind(null,mo,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},Po().memoizedState=e},useState:Fo,useDebugValue:Yo,useDeferredValue:function(e){return Po().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=Zo.bind(null,e[1]),Po().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=mo,a=Po();if(ai){if(void 0===r)throw Error(i(407));r=r()}else{if(r=t(),null===Oc)throw Error(i(349));0!==(30&ho)||jo(n,t,r)}a.memoizedState=r;var o={value:r,getSnapshot:t};return a.queue=o,Wo(Ao.bind(null,n,o,e),[e]),n.flags|=2048,Bo(9,Io.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=Po(),t=Oc.identifierPrefix;if(ai){var r=Ja;t=":"+t+"R"+(r=(Qa&~(1<<32-ot(Qa)-1)).toString(32)+r),0<(r=ko++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},cs={readContext:Ci,useCallback:Qo,useContext:Ci,useEffect:qo,useImperativeHandle:Ko,useInsertionEffect:Ho,useLayoutEffect:$o,useMemo:Jo,useReducer:Eo,useRef:zo,useState:function(){return Eo(To)},useDebugValue:Yo,useDeferredValue:function(e){return Xo(Ro(),vo.memoizedState,e)},useTransition:function(){return[Eo(To)[0],Ro().memoizedState]},useMutableSource:Do,useSyncExternalStore:Mo,useId:es,unstable_isNewReconciler:!1},us={readContext:Ci,useCallback:Qo,useContext:Ci,useEffect:qo,useImperativeHandle:Ko,useInsertionEffect:Ho,useLayoutEffect:$o,useMemo:Jo,useReducer:Oo,useRef:zo,useState:function(){return Oo(To)},useDebugValue:Yo,useDeferredValue:function(e){var t=Ro();return null===vo?t.memoizedState=e:Xo(t,vo.memoizedState,e)},useTransition:function(){return[Oo(To)[0],Ro().memoizedState]},useMutableSource:Do,useSyncExternalStore:Mo,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var r="",n=t;do{r+=U(n),n=n.return}while(n);var a=r}catch(i){a="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:a,digest:null}}function ds(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function ps(e,t){try{console.error(t.value)}catch(r){setTimeout((function(){throw r}))}}var fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,r){(r=ji(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Hc||(Hc=!0,$c=n),ps(0,t)},r}function ms(e,t,r){(r=ji(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){ps(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(r.callback=function(){ps(0,t),"function"!==typeof n&&(null===Gc?Gc=new Set([this]):Gc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function vs(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new fs;var a=new Set;n.set(t,a)}else void 0===(a=n.get(t))&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=Pu.bind(null,e,t,r),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,r,n,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=ji(-1,1)).tag=2,Ii(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var bs=k.ReactCurrentOwner,ks=!1;function ws(e,t,r,n){t.child=null===e?Ji(t,null,r,n):Qi(t,e.child,r,n)}function _s(e,t,r,n,a){r=r.render;var i=t.ref;return xi(t,a),n=xo(e,t,r,n,i,a),r=Co(),null===e||ks?(ai&&r&&ei(t),t.flags|=1,ws(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hs(e,t,a))}function Ss(e,t,r,n,a){if(null===e){var i=r.type;return"function"!==typeof i||ju(i)||void 0!==i.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Au(r.type,null,n,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,xs(e,t,i,n,a))}if(i=e.child,0===(e.lanes&a)){var o=i.memoizedProps;if((r=null!==(r=r.compare)?r:cn)(o,n)&&e.ref===t.ref)return Hs(e,t,a)}return t.flags|=1,(e=Iu(i,n)).ref=t.ref,e.return=t,t.child=e}function xs(e,t,r,n,a){if(null!==e){var i=e.memoizedProps;if(cn(i,n)&&e.ref===t.ref){if(ks=!1,t.pendingProps=n=i,0===(e.lanes&a))return t.lanes=e.lanes,Hs(e,t,a);0!==(131072&e.flags)&&(ks=!0)}}return Rs(e,t,r,n,a)}function Cs(e,t,r){var n=t.pendingProps,a=n.children,i=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pa(Ic,jc),jc|=r;else{if(0===(1073741824&r))return e=null!==i?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Pa(Ic,jc),jc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==i?i.baseLanes:r,Pa(Ic,jc),jc|=n}else null!==i?(n=i.baseLanes|r,t.memoizedState=null):n=r,Pa(Ic,jc),jc|=n;return ws(e,t,a,r),t.child}function Ps(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Rs(e,t,r,n,a){var i=Ma(r)?Oa:Ta.current;return i=Da(t,i),xi(t,a),r=xo(e,t,r,n,i,a),n=Co(),null===e||ks?(ai&&n&&ei(t),t.flags|=1,ws(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hs(e,t,a))}function Ts(e,t,r,n,a){if(Ma(r)){var i=!0;La(t)}else i=!1;if(xi(t,a),null===t.stateNode)qs(e,t),Wi(t,r,n),Hi(t,r,n,a),n=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var c=o.context,u=r.contextType;"object"===typeof u&&null!==u?u=Ci(u):u=Da(t,u=Ma(r)?Oa:Ta.current);var l=r.getDerivedStateFromProps,d="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==n||c!==u)&&qi(t,o,n,u),Oi=!1;var p=t.memoizedState;o.state=p,Ni(t,n,o,a),c=t.memoizedState,s!==n||p!==c||Ea.current||Oi?("function"===typeof l&&(zi(t,r,l,n),c=t.memoizedState),(s=Oi||Vi(t,r,s,n,p,c,u))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Mi(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:vi(t.type,s),o.props=u,d=t.pendingProps,p=o.context,"object"===typeof(c=r.contextType)&&null!==c?c=Ci(c):c=Da(t,c=Ma(r)?Oa:Ta.current);var f=r.getDerivedStateFromProps;(l="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||p!==c)&&qi(t,o,n,c),Oi=!1,p=t.memoizedState,o.state=p,Ni(t,n,o,a);var h=t.memoizedState;s!==d||p!==h||Ea.current||Oi?("function"===typeof f&&(zi(t,r,f,n),h=t.memoizedState),(u=Oi||Vi(t,r,u,n,p,h,c)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(n,h,c),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(n,h,c)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=h),o.props=n,o.state=h,o.context=c,n=u):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return Es(e,t,r,n,i,a)}function Es(e,t,r,n,a,i){Ps(e,t);var o=0!==(128&t.flags);if(!n&&!o)return a&&Na(t,r,!1),Hs(e,t,i);n=t.stateNode,bs.current=t;var s=o&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&o?(t.child=Qi(t,e.child,null,i),t.child=Qi(t,null,s,i)):ws(e,t,s,i),t.memoizedState=n.state,a&&Na(t,r,!0),t.child}function Os(e){var t=e.stateNode;t.pendingContext?Ia(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ia(0,t.context,!1),no(e,t.containerInfo)}function Ds(e,t,r,n,a){return fi(),hi(a),t.flags|=256,ws(e,t,r,n),t.child}var Ms,js,Is,As,Ls={dehydrated:null,treeContext:null,retryLane:0};function Ns(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,r){var n,a=t.pendingProps,o=so.current,s=!1,c=0!==(128&t.flags);if((n=c)||(n=(null===e||null!==e.memoizedState)&&0!==(2&o)),n?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Pa(so,1&o),null===e)return ui(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(c=a.children,e=a.fallback,s?(a=t.mode,s=t.child,c={mode:"hidden",children:c},0===(1&a)&&null!==s?(s.childLanes=0,s.pendingProps=c):s=Nu(c,a,0,null),e=Lu(e,a,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ns(r),t.memoizedState=Ls,e):Bs(t,c));if(null!==(o=e.memoizedState)&&null!==(n=o.dehydrated))return function(e,t,r,n,a,o,s){if(r)return 256&t.flags?(t.flags&=-257,zs(e,t,s,n=ds(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=n.fallback,a=t.mode,n=Nu({mode:"visible",children:n.children},a,0,null),(o=Lu(o,a,s,null)).flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,0!==(1&t.mode)&&Qi(t,e.child,null,s),t.child.memoizedState=Ns(s),t.memoizedState=Ls,o);if(0===(1&t.mode))return zs(e,t,s,null);if("$!"===a.data){if(n=a.nextSibling&&a.nextSibling.dataset)var c=n.dgst;return n=c,zs(e,t,s,n=ds(o=Error(i(419)),n,void 0))}if(c=0!==(s&e.childLanes),ks||c){if(null!==(n=Oc)){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(n.suspendedLanes|s))?0:a)&&a!==o.retryLane&&(o.retryLane=a,Ei(e,a),nu(n,e,a,-1))}return vu(),zs(e,t,s,n=ds(Error(i(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Tu.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,ni=ua(a.nextSibling),ri=t,ai=!0,ii=null,null!==e&&(Ga[Ka++]=Qa,Ga[Ka++]=Ja,Ga[Ka++]=Ya,Qa=e.id,Ja=e.overflow,Ya=t),t=Bs(t,n.children),t.flags|=4096,t)}(e,t,c,a,n,o,r);if(s){s=a.fallback,c=t.mode,n=(o=e.child).sibling;var u={mode:"hidden",children:a.children};return 0===(1&c)&&t.child!==o?((a=t.child).childLanes=0,a.pendingProps=u,t.deletions=null):(a=Iu(o,u)).subtreeFlags=14680064&o.subtreeFlags,null!==n?s=Iu(n,s):(s=Lu(s,c,r,null)).flags|=2,s.return=t,a.return=t,a.sibling=s,t.child=a,a=s,s=t.child,c=null===(c=e.child.memoizedState)?Ns(r):{baseLanes:c.baseLanes|r,cachePool:null,transitions:c.transitions},s.memoizedState=c,s.childLanes=e.childLanes&~r,t.memoizedState=Ls,a}return e=(s=e.child).sibling,a=Iu(s,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=r),a.return=t,a.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a}function Bs(e,t){return(t=Nu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zs(e,t,r,n){return null!==n&&hi(n),Qi(t,e.child,null,r),(e=Bs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Us(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Si(e.return,t,r)}function Vs(e,t,r,n,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function Ws(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(ws(e,t,n.children,r),0!==(2&(n=so.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Us(e,r,t);else if(19===e.tag)Us(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Pa(so,n),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;null!==r;)null!==(e=r.alternate)&&null===co(e)&&(a=r),r=r.sibling;null===(r=a)?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Vs(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===co(e)){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Vs(t,!0,r,null,i);break;case"together":Vs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Nc|=t.lanes,0===(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(r=Iu(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Iu(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function $s(e,t){if(!ai)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=14680064&a.subtreeFlags,n|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Ks(e,t,r){var n=t.pendingProps;switch(ti(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return Ma(t.type)&&ja(),Gs(t),null;case 3:return n=t.stateNode,ao(),Ca(Ea),Ca(Ta),lo(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(di(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ii&&(su(ii),ii=null))),js(e,t),Gs(t),null;case 5:oo(t);var a=ro(to.current);if(r=t.type,null!==e&&null!=t.stateNode)Is(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(i(166));return Gs(t),null}if(e=ro(Zi.current),di(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[pa]=t,n[fa]=o,e=0!==(1&t.mode),r){case"dialog":Bn("cancel",n),Bn("close",n);break;case"iframe":case"object":case"embed":Bn("load",n);break;case"video":case"audio":for(a=0;a<An.length;a++)Bn(An[a],n);break;case"source":Bn("error",n);break;case"img":case"image":case"link":Bn("error",n),Bn("load",n);break;case"details":Bn("toggle",n);break;case"input":Q(n,o),Bn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Bn("invalid",n);break;case"textarea":ae(n,o),Bn("invalid",n)}for(var c in ye(r,o),a=null,o)if(o.hasOwnProperty(c)){var u=o[c];"children"===c?"string"===typeof u?n.textContent!==u&&(!0!==o.suppressHydrationWarning&&Xn(n.textContent,u,e),a=["children",u]):"number"===typeof u&&n.textContent!==""+u&&(!0!==o.suppressHydrationWarning&&Xn(n.textContent,u,e),a=["children",""+u]):s.hasOwnProperty(c)&&null!=u&&"onScroll"===c&&Bn("scroll",n)}switch(r){case"input":$(n),Z(n,o,!0);break;case"textarea":$(n),oe(n);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(n.onclick=Zn)}n=a,t.updateQueue=n,null!==n&&(t.flags|=4)}else{c=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=c.createElement(r,{is:n.is}):(e=c.createElement(r),"select"===r&&(c=e,n.multiple?c.multiple=!0:n.size&&(c.size=n.size))):e=c.createElementNS(e,r),e[pa]=t,e[fa]=n,Ms(e,t,!1,!1),t.stateNode=e;e:{switch(c=be(r,n),r){case"dialog":Bn("cancel",e),Bn("close",e),a=n;break;case"iframe":case"object":case"embed":Bn("load",e),a=n;break;case"video":case"audio":for(a=0;a<An.length;a++)Bn(An[a],e);a=n;break;case"source":Bn("error",e),a=n;break;case"img":case"image":case"link":Bn("error",e),Bn("load",e),a=n;break;case"details":Bn("toggle",e),a=n;break;case"input":Q(e,n),a=Y(e,n),Bn("invalid",e);break;case"option":default:a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=N({},n,{value:void 0}),Bn("invalid",e);break;case"textarea":ae(e,n),a=ne(e,n),Bn("invalid",e)}for(o in ye(r,a),u=a)if(u.hasOwnProperty(o)){var l=u[o];"style"===o?ve(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&de(e,l):"children"===o?"string"===typeof l?("textarea"!==r||""!==l)&&pe(e,l):"number"===typeof l&&pe(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Bn("scroll",e):null!=l&&b(e,o,l,c))}switch(r){case"input":$(e),Z(e,n,!1);break;case"textarea":$(e),oe(e);break;case"option":null!=n.value&&e.setAttribute("value",""+q(n.value));break;case"select":e.multiple=!!n.multiple,null!=(o=n.value)?re(e,!!n.multiple,o,!1):null!=n.defaultValue&&re(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Zn)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)As(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(i(166));if(r=ro(to.current),ro(Zi.current),di(t)){if(n=t.stateNode,r=t.memoizedProps,n[pa]=t,(o=n.nodeValue!==r)&&null!==(e=ri))switch(e.tag){case 3:Xn(n.nodeValue,r,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xn(n.nodeValue,r,0!==(1&e.mode))}o&&(t.flags|=4)}else(n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[pa]=t,t.stateNode=n}return Gs(t),null;case 13:if(Ca(so),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ai&&null!==ni&&0!==(1&t.mode)&&0===(128&t.flags))pi(),fi(),t.flags|=98560,o=!1;else if(o=di(t),null!==n&&null!==n.dehydrated){if(null===e){if(!o)throw Error(i(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(i(317));o[pa]=t}else fi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),o=!1}else null!==ii&&(su(ii),ii=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=r,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Ac&&(Ac=3):vu())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return ao(),js(e,t),null===e&&Vn(t.stateNode.containerInfo),Gs(t),null;case 10:return _i(t.type._context),Gs(t),null;case 19:if(Ca(so),null===(o=t.memoizedState))return Gs(t),null;if(n=0!==(128&t.flags),null===(c=o.rendering))if(n)$s(o,!1);else{if(0!==Ac||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(c=co(e))){for(t.flags|=128,$s(o,!1),null!==(n=c.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;null!==r;)e=n,(o=r).flags&=14680066,null===(c=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=c.childLanes,o.lanes=c.lanes,o.child=c.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=c.memoizedProps,o.memoizedState=c.memoizedState,o.updateQueue=c.updateQueue,o.type=c.type,e=c.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Pa(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>Wc&&(t.flags|=128,n=!0,$s(o,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=co(c))){if(t.flags|=128,n=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),$s(o,!0),null===o.tail&&"hidden"===o.tailMode&&!c.alternate&&!ai)return Gs(t),null}else 2*Je()-o.renderingStartTime>Wc&&1073741824!==r&&(t.flags|=128,n=!0,$s(o,!1),t.lanes=4194304);o.isBackwards?(c.sibling=t.child,t.child=c):(null!==(r=o.last)?r.sibling=c:t.child=c,o.last=c)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,r=so.current,Pa(so,n?1&r|2:1&r),t):(Gs(t),null);case 22:case 23:return pu(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&jc)&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Ys(e,t){switch(ti(t),t.tag){case 1:return Ma(t.type)&&ja(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ao(),Ca(Ea),Ca(Ta),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ca(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ca(so),null;case 4:return ao(),null;case 10:return _i(t.type._context),null;case 22:case 23:return pu(),null;default:return null}}Ms=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},js=function(){},Is=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,ro(Zi.current);var i,o=null;switch(r){case"input":a=Y(e,a),n=Y(e,n),o=[];break;case"select":a=N({},a,{value:void 0}),n=N({},n,{value:void 0}),o=[];break;case"textarea":a=ne(e,a),n=ne(e,n),o=[];break;default:"function"!==typeof a.onClick&&"function"===typeof n.onClick&&(e.onclick=Zn)}for(l in ye(r,n),r=null,a)if(!n.hasOwnProperty(l)&&a.hasOwnProperty(l)&&null!=a[l])if("style"===l){var c=a[l];for(i in c)c.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in n){var u=n[l];if(c=null!=a?a[l]:void 0,n.hasOwnProperty(l)&&u!==c&&(null!=u||null!=c))if("style"===l)if(c){for(i in c)!c.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in u)u.hasOwnProperty(i)&&c[i]!==u[i]&&(r||(r={}),r[i]=u[i])}else r||(o||(o=[]),o.push(l,r)),r=u;else"dangerouslySetInnerHTML"===l?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(o=o||[]).push(l,u)):"children"===l?"string"!==typeof u&&"number"!==typeof u||(o=o||[]).push(l,""+u):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=u&&"onScroll"===l&&Bn("scroll",e),o||c===u||(o=[])):(o=o||[]).push(l,u))}r&&(o=o||[]).push("style",r);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},As=function(e,t,r,n){r!==n&&(t.flags|=4)};var Qs=!1,Js=!1,Xs="function"===typeof WeakSet?WeakSet:Set,Zs=null;function ec(e,t){var r=e.ref;if(null!==r)if("function"===typeof r)try{r(null)}catch(n){Cu(e,t,n)}else r.current=null}function tc(e,t,r){try{r()}catch(n){Cu(e,t,n)}}var rc=!1;function nc(e,t,r){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,void 0!==i&&tc(t,r,i)}a=a.next}while(a!==n)}}function ac(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ic(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"===typeof t?t(e):t.current=e}}function oc(e){var t=e.alternate;null!==t&&(e.alternate=null,oc(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[pa],delete t[fa],delete t[ma],delete t[va],delete t[ga])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sc(e){return 5===e.tag||3===e.tag||4===e.tag}function cc(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uc(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Zn));else if(4!==n&&null!==(e=e.child))for(uc(e,t,r),e=e.sibling;null!==e;)uc(e,t,r),e=e.sibling}function lc(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(lc(e,t,r),e=e.sibling;null!==e;)lc(e,t,r),e=e.sibling}var dc=null,pc=!1;function fc(e,t,r){for(r=r.child;null!==r;)hc(e,t,r),r=r.sibling}function hc(e,t,r){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(at,r)}catch(s){}switch(r.tag){case 5:Js||ec(r,t);case 6:var n=dc,a=pc;dc=null,fc(e,t,r),pc=a,null!==(dc=n)&&(pc?(e=dc,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):dc.removeChild(r.stateNode));break;case 18:null!==dc&&(pc?(e=dc,r=r.stateNode,8===e.nodeType?ca(e.parentNode,r):1===e.nodeType&&ca(e,r),Vt(e)):ca(dc,r.stateNode));break;case 4:n=dc,a=pc,dc=r.stateNode.containerInfo,pc=!0,fc(e,t,r),dc=n,pc=a;break;case 0:case 11:case 14:case 15:if(!Js&&(null!==(n=r.updateQueue)&&null!==(n=n.lastEffect))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,void 0!==o&&(0!==(2&i)||0!==(4&i))&&tc(r,t,o),a=a.next}while(a!==n)}fc(e,t,r);break;case 1:if(!Js&&(ec(r,t),"function"===typeof(n=r.stateNode).componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){Cu(r,t,s)}fc(e,t,r);break;case 21:fc(e,t,r);break;case 22:1&r.mode?(Js=(n=Js)||null!==r.memoizedState,fc(e,t,r),Js=n):fc(e,t,r);break;default:fc(e,t,r)}}function mc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new Xs),t.forEach((function(t){var n=Eu.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}function vc(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var a=r[n];try{var o=e,s=t,c=s;e:for(;null!==c;){switch(c.tag){case 5:dc=c.stateNode,pc=!1;break e;case 3:case 4:dc=c.stateNode.containerInfo,pc=!0;break e}c=c.return}if(null===dc)throw Error(i(160));hc(o,s,a),dc=null,pc=!1;var u=a.alternate;null!==u&&(u.return=null),a.return=null}catch(l){Cu(a,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gc(t,e),t=t.sibling}function gc(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vc(t,e),yc(e),4&n){try{nc(3,e,e.return),ac(3,e)}catch(v){Cu(e,e.return,v)}try{nc(5,e,e.return)}catch(v){Cu(e,e.return,v)}}break;case 1:vc(t,e),yc(e),512&n&&null!==r&&ec(r,r.return);break;case 5:if(vc(t,e),yc(e),512&n&&null!==r&&ec(r,r.return),32&e.flags){var a=e.stateNode;try{pe(a,"")}catch(v){Cu(e,e.return,v)}}if(4&n&&null!=(a=e.stateNode)){var o=e.memoizedProps,s=null!==r?r.memoizedProps:o,c=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===c&&"radio"===o.type&&null!=o.name&&J(a,o),be(c,s);var l=be(c,o);for(s=0;s<u.length;s+=2){var d=u[s],p=u[s+1];"style"===d?ve(a,p):"dangerouslySetInnerHTML"===d?de(a,p):"children"===d?pe(a,p):b(a,d,p,l)}switch(c){case"input":X(a,o);break;case"textarea":ie(a,o);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var h=o.value;null!=h?re(a,!!o.multiple,h,!1):f!==!!o.multiple&&(null!=o.defaultValue?re(a,!!o.multiple,o.defaultValue,!0):re(a,!!o.multiple,o.multiple?[]:"",!1))}a[fa]=o}catch(v){Cu(e,e.return,v)}}break;case 6:if(vc(t,e),yc(e),4&n){if(null===e.stateNode)throw Error(i(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(v){Cu(e,e.return,v)}}break;case 3:if(vc(t,e),yc(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(v){Cu(e,e.return,v)}break;case 4:default:vc(t,e),yc(e);break;case 13:vc(t,e),yc(e),8192&(a=e.child).flags&&(o=null!==a.memoizedState,a.stateNode.isHidden=o,!o||null!==a.alternate&&null!==a.alternate.memoizedState||(Vc=Je())),4&n&&mc(e);break;case 22:if(d=null!==r&&null!==r.memoizedState,1&e.mode?(Js=(l=Js)||d,vc(t,e),Js=l):vc(t,e),yc(e),8192&n){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!d&&0!==(1&e.mode))for(Zs=e,d=e.child;null!==d;){for(p=Zs=d;null!==Zs;){switch(h=(f=Zs).child,f.tag){case 0:case 11:case 14:case 15:nc(4,f,f.return);break;case 1:ec(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){n=f,r=f.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){Cu(n,r,v)}}break;case 5:ec(f,f.return);break;case 22:if(null!==f.memoizedState){_c(p);continue}}null!==h?(h.return=f,Zs=h):_c(p)}d=d.sibling}e:for(d=null,p=e;;){if(5===p.tag){if(null===d){d=p;try{a=p.stateNode,l?"function"===typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none":(c=p.stateNode,s=void 0!==(u=p.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,c.style.display=me("display",s))}catch(v){Cu(e,e.return,v)}}}else if(6===p.tag){if(null===d)try{p.stateNode.nodeValue=l?"":p.memoizedProps}catch(v){Cu(e,e.return,v)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:vc(t,e),yc(e),4&n&&mc(e);case 21:}}function yc(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(sc(r)){var n=r;break e}r=r.return}throw Error(i(160))}switch(n.tag){case 5:var a=n.stateNode;32&n.flags&&(pe(a,""),n.flags&=-33),lc(e,cc(e),a);break;case 3:case 4:var o=n.stateNode.containerInfo;uc(e,cc(e),o);break;default:throw Error(i(161))}}catch(s){Cu(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bc(e,t,r){Zs=e,kc(e,t,r)}function kc(e,t,r){for(var n=0!==(1&e.mode);null!==Zs;){var a=Zs,i=a.child;if(22===a.tag&&n){var o=null!==a.memoizedState||Qs;if(!o){var s=a.alternate,c=null!==s&&null!==s.memoizedState||Js;s=Qs;var u=Js;if(Qs=o,(Js=c)&&!u)for(Zs=a;null!==Zs;)c=(o=Zs).child,22===o.tag&&null!==o.memoizedState?Sc(a):null!==c?(c.return=o,Zs=c):Sc(a);for(;null!==i;)Zs=i,kc(i,t,r),i=i.sibling;Zs=a,Qs=s,Js=u}wc(e)}else 0!==(8772&a.subtreeFlags)&&null!==i?(i.return=a,Zs=i):wc(e)}}function wc(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var r=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Js||ac(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!Js)if(null===r)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:vi(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fi(t,o,n);break;case 3:var s=t.updateQueue;if(null!==s){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}Fi(t,s,r)}break;case 5:var c=t.stateNode;if(null===r&&4&t.flags){r=c;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var d=l.memoizedState;if(null!==d){var p=d.dehydrated;null!==p&&Vt(p)}}}break;default:throw Error(i(163))}Js||512&t.flags&&ic(t)}catch(f){Cu(t,t.return,f)}}if(t===e){Zs=null;break}if(null!==(r=t.sibling)){r.return=t.return,Zs=r;break}Zs=t.return}}function _c(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var r=t.sibling;if(null!==r){r.return=t.return,Zs=r;break}Zs=t.return}}function Sc(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ac(4,t)}catch(c){Cu(t,r,c)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var a=t.return;try{n.componentDidMount()}catch(c){Cu(t,a,c)}}var i=t.return;try{ic(t)}catch(c){Cu(t,i,c)}break;case 5:var o=t.return;try{ic(t)}catch(c){Cu(t,o,c)}}}catch(c){Cu(t,t.return,c)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var xc,Cc=Math.ceil,Pc=k.ReactCurrentDispatcher,Rc=k.ReactCurrentOwner,Tc=k.ReactCurrentBatchConfig,Ec=0,Oc=null,Dc=null,Mc=0,jc=0,Ic=xa(0),Ac=0,Lc=null,Nc=0,Fc=0,Bc=0,zc=null,Uc=null,Vc=0,Wc=1/0,qc=null,Hc=!1,$c=null,Gc=null,Kc=!1,Yc=null,Qc=0,Jc=0,Xc=null,Zc=-1,eu=0;function tu(){return 0!==(6&Ec)?Je():-1!==Zc?Zc:Zc=Je()}function ru(e){return 0===(1&e.mode)?1:0!==(2&Ec)&&0!==Mc?Mc&-Mc:null!==mi.transition?(0===eu&&(eu=mt()),eu):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function nu(e,t,r,n){if(50<Jc)throw Jc=0,Xc=null,Error(i(185));gt(e,r,n),0!==(2&Ec)&&e===Oc||(e===Oc&&(0===(2&Ec)&&(Fc|=r),4===Ac&&cu(e,Mc)),au(e,n),1===r&&0===Ec&&0===(1&t.mode)&&(Wc=Je()+500,Ba&&Va()))}function au(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ot(i),s=1<<o,c=a[o];-1===c?0!==(s&r)&&0===(s&n)||(a[o]=ft(s,t)):c<=t&&(e.expiredLanes|=s),i&=~s}}(e,t);var n=pt(e,e===Oc?Mc:0);if(0===n)null!==r&&Ke(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=r&&Ke(r),1===t)0===e.tag?function(e){Ba=!0,Ua(e)}(uu.bind(null,e)):Ua(uu.bind(null,e)),oa((function(){0===(6&Ec)&&Va()})),r=null;else{switch(kt(n)){case 1:r=Ze;break;case 4:r=et;break;case 16:default:r=tt;break;case 536870912:r=nt}r=Ou(r,iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function iu(e,t){if(Zc=-1,eu=0,0!==(6&Ec))throw Error(i(327));var r=e.callbackNode;if(Su()&&e.callbackNode!==r)return null;var n=pt(e,e===Oc?Mc:0);if(0===n)return null;if(0!==(30&n)||0!==(n&e.expiredLanes)||t)t=gu(e,n);else{t=n;var a=Ec;Ec|=2;var o=mu();for(Oc===e&&Mc===t||(qc=null,Wc=Je()+500,fu(e,t));;)try{bu();break}catch(c){hu(e,c)}wi(),Pc.current=o,Ec=a,null!==Dc?t=0:(Oc=null,Mc=0,t=Ac)}if(0!==t){if(2===t&&(0!==(a=ht(e))&&(n=a,t=ou(e,a))),1===t)throw r=Lc,fu(e,0),cu(e,n),au(e,Je()),r;if(6===t)cu(e,n);else{if(a=e.current.alternate,0===(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!sn(i(),a))return!1}catch(s){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=gu(e,n))&&(0!==(o=ht(e))&&(n=o,t=ou(e,o))),1===t))throw r=Lc,fu(e,0),cu(e,n),au(e,Je()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(i(345));case 2:case 5:_u(e,Uc,qc);break;case 3:if(cu(e,n),(130023424&n)===n&&10<(t=Vc+500-Je())){if(0!==pt(e,0))break;if(((a=e.suspendedLanes)&n)!==n){tu(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=na(_u.bind(null,e,Uc,qc),t);break}_u(e,Uc,qc);break;case 4:if(cu(e,n),(4194240&n)===n)break;for(t=e.eventTimes,a=-1;0<n;){var s=31-ot(n);o=1<<s,(s=t[s])>a&&(a=s),n&=~o}if(n=a,10<(n=(120>(n=Je()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Cc(n/1960))-n)){e.timeoutHandle=na(_u.bind(null,e,Uc,qc),n);break}_u(e,Uc,qc);break;default:throw Error(i(329))}}}return au(e,Je()),e.callbackNode===r?iu.bind(null,e):null}function ou(e,t){var r=zc;return e.current.memoizedState.isDehydrated&&(fu(e,t).flags|=256),2!==(e=gu(e,t))&&(t=Uc,Uc=r,null!==t&&su(t)),e}function su(e){null===Uc?Uc=e:Uc.push.apply(Uc,e)}function cu(e,t){for(t&=~Bc,t&=~Fc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ot(t),n=1<<r;e[r]=-1,t&=~n}}function uu(e){if(0!==(6&Ec))throw Error(i(327));Su();var t=pt(e,0);if(0===(1&t))return au(e,Je()),null;var r=gu(e,t);if(0!==e.tag&&2===r){var n=ht(e);0!==n&&(t=n,r=ou(e,n))}if(1===r)throw r=Lc,fu(e,0),cu(e,t),au(e,Je()),r;if(6===r)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_u(e,Uc,qc),au(e,Je()),null}function lu(e,t){var r=Ec;Ec|=1;try{return e(t)}finally{0===(Ec=r)&&(Wc=Je()+500,Ba&&Va())}}function du(e){null!==Yc&&0===Yc.tag&&0===(6&Ec)&&Su();var t=Ec;Ec|=1;var r=Tc.transition,n=bt;try{if(Tc.transition=null,bt=1,e)return e()}finally{bt=n,Tc.transition=r,0===(6&(Ec=t))&&Va()}}function pu(){jc=Ic.current,Ca(Ic)}function fu(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,aa(r)),null!==Dc)for(r=Dc.return;null!==r;){var n=r;switch(ti(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&ja();break;case 3:ao(),Ca(Ea),Ca(Ta),lo();break;case 5:oo(n);break;case 4:ao();break;case 13:case 19:Ca(so);break;case 10:_i(n.type._context);break;case 22:case 23:pu()}r=r.return}if(Oc=e,Dc=e=Iu(e.current,null),Mc=jc=t,Ac=0,Lc=null,Bc=Fc=Nc=0,Uc=zc=null,null!==Pi){for(t=0;t<Pi.length;t++)if(null!==(n=(r=Pi[t]).interleaved)){r.interleaved=null;var a=n.next,i=r.pending;if(null!==i){var o=i.next;i.next=a,n.next=o}r.pending=n}Pi=null}return e}function hu(e,t){for(;;){var r=Dc;try{if(wi(),po.current=os,yo){for(var n=mo.memoizedState;null!==n;){var a=n.queue;null!==a&&(a.pending=null),n=n.next}yo=!1}if(ho=0,go=vo=mo=null,bo=!1,ko=0,Rc.current=null,null===r||null===r.return){Ac=1,Lc=t,Dc=null;break}e:{var o=e,s=r.return,c=r,u=t;if(t=Mc,c.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var l=u,d=c,p=d.tag;if(0===(1&d.mode)&&(0===p||11===p||15===p)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=gs(s);if(null!==h){h.flags&=-257,ys(h,s,c,0,t),1&h.mode&&vs(o,l,t),u=l;var m=(t=h).updateQueue;if(null===m){var v=new Set;v.add(u),t.updateQueue=v}else m.add(u);break e}if(0===(1&t)){vs(o,l,t),vu();break e}u=Error(i(426))}else if(ai&&1&c.mode){var g=gs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ys(g,s,c,0,t),hi(ls(u,c));break e}}o=u=ls(u,c),4!==Ac&&(Ac=2),null===zc?zc=[o]:zc.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Li(o,hs(0,u,t));break e;case 1:c=u;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gc||!Gc.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Li(o,ms(o,c,t));break e}}o=o.return}while(null!==o)}wu(r)}catch(k){t=k,Dc===r&&null!==r&&(Dc=r=r.return);continue}break}}function mu(){var e=Pc.current;return Pc.current=os,null===e?os:e}function vu(){0!==Ac&&3!==Ac&&2!==Ac||(Ac=4),null===Oc||0===(268435455&Nc)&&0===(268435455&Fc)||cu(Oc,Mc)}function gu(e,t){var r=Ec;Ec|=2;var n=mu();for(Oc===e&&Mc===t||(qc=null,fu(e,t));;)try{yu();break}catch(a){hu(e,a)}if(wi(),Ec=r,Pc.current=n,null!==Dc)throw Error(i(261));return Oc=null,Mc=0,Ac}function yu(){for(;null!==Dc;)ku(Dc)}function bu(){for(;null!==Dc&&!Ye();)ku(Dc)}function ku(e){var t=xc(e.alternate,e,jc);e.memoizedProps=e.pendingProps,null===t?wu(e):Dc=t,Rc.current=null}function wu(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(r=Ks(r,t,jc)))return void(Dc=r)}else{if(null!==(r=Ys(r,t)))return r.flags&=32767,void(Dc=r);if(null===e)return Ac=6,void(Dc=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Dc=t);Dc=t=e}while(null!==t);0===Ac&&(Ac=5)}function _u(e,t,r){var n=bt,a=Tc.transition;try{Tc.transition=null,bt=1,function(e,t,r,n){do{Su()}while(null!==Yc);if(0!==(6&Ec))throw Error(i(327));r=e.finishedWork;var a=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-ot(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}(e,o),e===Oc&&(Dc=Oc=null,Mc=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Kc||(Kc=!0,Ou(tt,(function(){return Su(),null}))),o=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||o){o=Tc.transition,Tc.transition=null;var s=bt;bt=1;var c=Ec;Ec|=4,Rc.current=null,function(e,t){if(ea=qt,fn(e=pn())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var a=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch(w){r=null;break e}var s=0,c=-1,u=-1,l=0,d=0,p=e,f=null;t:for(;;){for(var h;p!==r||0!==a&&3!==p.nodeType||(c=s+a),p!==o||0!==n&&3!==p.nodeType||(u=s+n),3===p.nodeType&&(s+=p.nodeValue.length),null!==(h=p.firstChild);)f=p,p=h;for(;;){if(p===e)break t;if(f===r&&++l===a&&(c=s),f===o&&++d===n&&(u=s),null!==(h=p.nextSibling))break;f=(p=f).parentNode}p=h}r=-1===c||-1===u?null:{start:c,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(ta={focusedElem:e,selectionRange:r},qt=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var v=m.memoizedProps,g=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:vi(t.type,v),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;default:throw Error(i(163))}}catch(w){Cu(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}m=rc,rc=!1}(e,r),gc(r,e),hn(ta),qt=!!ea,ta=ea=null,e.current=r,bc(r,e,a),Qe(),Ec=c,bt=s,Tc.transition=o}else e.current=r;if(Kc&&(Kc=!1,Yc=e,Qc=a),o=e.pendingLanes,0===o&&(Gc=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),au(e,Je()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Hc)throw Hc=!1,e=$c,$c=null,e;0!==(1&Qc)&&0!==e.tag&&Su(),o=e.pendingLanes,0!==(1&o)?e===Xc?Jc++:(Jc=0,Xc=e):Jc=0,Va()}(e,t,r,n)}finally{Tc.transition=a,bt=n}return null}function Su(){if(null!==Yc){var e=kt(Qc),t=Tc.transition,r=bt;try{if(Tc.transition=null,bt=16>e?16:e,null===Yc)var n=!1;else{if(e=Yc,Yc=null,Qc=0,0!==(6&Ec))throw Error(i(331));var a=Ec;for(Ec|=4,Zs=e.current;null!==Zs;){var o=Zs,s=o.child;if(0!==(16&Zs.flags)){var c=o.deletions;if(null!==c){for(var u=0;u<c.length;u++){var l=c[u];for(Zs=l;null!==Zs;){var d=Zs;switch(d.tag){case 0:case 11:case 15:nc(8,d,o)}var p=d.child;if(null!==p)p.return=d,Zs=p;else for(;null!==Zs;){var f=(d=Zs).sibling,h=d.return;if(oc(d),d===l){Zs=null;break}if(null!==f){f.return=h,Zs=f;break}Zs=h}}}var m=o.alternate;if(null!==m){var v=m.child;if(null!==v){m.child=null;do{var g=v.sibling;v.sibling=null,v=g}while(null!==v)}}Zs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(o=Zs).flags))switch(o.tag){case 0:case 11:case 15:nc(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Zs=y;break e}Zs=o.return}}var b=e.current;for(Zs=b;null!==Zs;){var k=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==k)k.return=s,Zs=k;else e:for(s=b;null!==Zs;){if(0!==(2048&(c=Zs).flags))try{switch(c.tag){case 0:case 11:case 15:ac(9,c)}}catch(_){Cu(c,c.return,_)}if(c===s){Zs=null;break e}var w=c.sibling;if(null!==w){w.return=c.return,Zs=w;break e}Zs=c.return}}if(Ec=a,Va(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(at,e)}catch(_){}n=!0}return n}finally{bt=r,Tc.transition=t}}return!1}function xu(e,t,r){e=Ii(e,t=hs(0,t=ls(r,t),1),1),t=tu(),null!==e&&(gt(e,1,t),au(e,t))}function Cu(e,t,r){if(3===e.tag)xu(e,e,r);else for(;null!==t;){if(3===t.tag){xu(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Gc||!Gc.has(n))){t=Ii(t,e=ms(t,e=ls(r,e),1),1),e=tu(),null!==t&&(gt(t,1,e),au(t,e));break}}t=t.return}}function Pu(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=tu(),e.pingedLanes|=e.suspendedLanes&r,Oc===e&&(Mc&r)===r&&(4===Ac||3===Ac&&(130023424&Mc)===Mc&&500>Je()-Vc?fu(e,0):Bc|=r),au(e,t)}function Ru(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var r=tu();null!==(e=Ei(e,t))&&(gt(e,t,r),au(e,r))}function Tu(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),Ru(e,r)}function Eu(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;null!==a&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(i(314))}null!==n&&n.delete(t),Ru(e,r)}function Ou(e,t){return Ge(e,t)}function Du(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mu(e,t,r,n){return new Du(e,t,r,n)}function ju(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Iu(e,t){var r=e.alternate;return null===r?((r=Mu(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Au(e,t,r,n,a,o){var s=2;if(n=e,"function"===typeof e)ju(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Lu(r.children,a,o,t);case x:s=8,a|=8;break;case C:return(e=Mu(12,r,t,2|a)).elementType=C,e.lanes=o,e;case E:return(e=Mu(13,r,t,a)).elementType=E,e.lanes=o,e;case O:return(e=Mu(19,r,t,a)).elementType=O,e.lanes=o,e;case j:return Nu(r,a,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case P:s=10;break e;case R:s=9;break e;case T:s=11;break e;case D:s=14;break e;case M:s=16,n=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Mu(s,r,t,a)).elementType=e,t.type=n,t.lanes=o,t}function Lu(e,t,r,n){return(e=Mu(7,e,n,t)).lanes=r,e}function Nu(e,t,r,n){return(e=Mu(22,e,n,t)).elementType=j,e.lanes=r,e.stateNode={isHidden:!1},e}function Fu(e,t,r){return(e=Mu(6,e,null,t)).lanes=r,e}function Bu(e,t,r){return(t=Mu(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zu(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Uu(e,t,r,n,a,i,o,s,c){return e=new zu(e,t,r,s,c),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Mu(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Di(i),e}function Vu(e){if(!e)return Ra;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ma(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var r=e.type;if(Ma(r))return Aa(e,r,t)}return t}function Wu(e,t,r,n,a,i,o,s,c){return(e=Uu(r,n,!0,e,0,i,0,s,c)).context=Vu(null),r=e.current,(i=ji(n=tu(),a=ru(r))).callback=void 0!==t&&null!==t?t:null,Ii(r,i,a),e.current.lanes=a,gt(e,a,n),au(e,n),e}function qu(e,t,r,n){var a=t.current,i=tu(),o=ru(a);return r=Vu(r),null===t.context?t.context=r:t.pendingContext=r,(t=ji(i,o)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=Ii(a,t,o))&&(nu(e,a,o,i),Ai(e,a,o)),o}function Hu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function $u(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function Gu(e,t){$u(e,t),(e=e.alternate)&&$u(e,t)}xc=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ea.current)ks=!0;else{if(0===(e.lanes&r)&&0===(128&t.flags))return ks=!1,function(e,t,r){switch(t.tag){case 3:Os(t),fi();break;case 5:io(t);break;case 1:Ma(t.type)&&La(t);break;case 4:no(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Pa(gi,n._currentValue),n._currentValue=a;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(Pa(so,1&so.current),t.flags|=128,null):0!==(r&t.child.childLanes)?Fs(e,t,r):(Pa(so,1&so.current),null!==(e=Hs(e,t,r))?e.sibling:null);Pa(so,1&so.current);break;case 19:if(n=0!==(r&t.childLanes),0!==(128&e.flags)){if(n)return Ws(e,t,r);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Pa(so,so.current),n)break;return null;case 22:case 23:return t.lanes=0,Cs(e,t,r)}return Hs(e,t,r)}(e,t,r);ks=0!==(131072&e.flags)}else ks=!1,ai&&0!==(1048576&t.flags)&&Za(t,$a,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;qs(e,t),e=t.pendingProps;var a=Da(t,Ta.current);xi(t,r),a=xo(null,t,n,e,a,r);var o=Co();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ma(n)?(o=!0,La(t)):o=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Di(t),a.updater=Ui,t.stateNode=a,a._reactInternals=t,Hi(t,n,e,r),t=Es(null,t,n,!0,o,r)):(t.tag=0,ai&&o&&ei(t),ws(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(qs(e,t),e=t.pendingProps,n=(a=n._init)(n._payload),t.type=n,a=t.tag=function(e){if("function"===typeof e)return ju(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===D)return 14}return 2}(n),e=vi(n,e),a){case 0:t=Rs(null,t,n,e,r);break e;case 1:t=Ts(null,t,n,e,r);break e;case 11:t=_s(null,t,n,e,r);break e;case 14:t=Ss(null,t,n,vi(n.type,e),r);break e}throw Error(i(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,Rs(e,t,n,a=t.elementType===n?a:vi(n,a),r);case 1:return n=t.type,a=t.pendingProps,Ts(e,t,n,a=t.elementType===n?a:vi(n,a),r);case 3:e:{if(Os(t),null===e)throw Error(i(387));n=t.pendingProps,a=(o=t.memoizedState).element,Mi(e,t),Ni(t,n,null,r);var s=t.memoizedState;if(n=s.element,o.isDehydrated){if(o={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ds(e,t,n,r,a=ls(Error(i(423)),t));break e}if(n!==a){t=Ds(e,t,n,r,a=ls(Error(i(424)),t));break e}for(ni=ua(t.stateNode.containerInfo.firstChild),ri=t,ai=!0,ii=null,r=Ji(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(fi(),n===a){t=Hs(e,t,r);break e}ws(e,t,n,r)}t=t.child}return t;case 5:return io(t),null===e&&ui(t),n=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,s=a.children,ra(n,a)?s=null:null!==o&&ra(n,o)&&(t.flags|=32),Ps(e,t),ws(e,t,s,r),t.child;case 6:return null===e&&ui(t),null;case 13:return Fs(e,t,r);case 4:return no(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=Qi(t,null,n,r):ws(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,_s(e,t,n,a=t.elementType===n?a:vi(n,a),r);case 7:return ws(e,t,t.pendingProps,r),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,o=t.memoizedProps,s=a.value,Pa(gi,n._currentValue),n._currentValue=s,null!==o)if(sn(o.value,s)){if(o.children===a.children&&!Ea.current){t=Hs(e,t,r);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var c=o.dependencies;if(null!==c){s=o.child;for(var u=c.firstContext;null!==u;){if(u.context===n){if(1===o.tag){(u=ji(-1,r&-r)).tag=2;var l=o.updateQueue;if(null!==l){var d=(l=l.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),l.pending=u}}o.lanes|=r,null!==(u=o.alternate)&&(u.lanes|=r),Si(o.return,r,t),c.lanes|=r;break}u=u.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(i(341));s.lanes|=r,null!==(c=s.alternate)&&(c.lanes|=r),Si(s,r,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,xi(t,r),n=n(a=Ci(a)),t.flags|=1,ws(e,t,n,r),t.child;case 14:return a=vi(n=t.type,t.pendingProps),Ss(e,t,n,a=vi(n.type,a),r);case 15:return xs(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:vi(n,a),qs(e,t),t.tag=1,Ma(n)?(e=!0,La(t)):e=!1,xi(t,r),Wi(t,n,a),Hi(t,n,a,r),Es(null,t,n,!0,e,r);case 19:return Ws(e,t,r);case 22:return Cs(e,t,r)}throw Error(i(156,t.tag))};var Ku="function"===typeof reportError?reportError:function(e){console.error(e)};function Yu(e){this._internalRoot=e}function Qu(e){this._internalRoot=e}function Ju(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zu(){}function el(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if("function"===typeof a){var s=a;a=function(){var e=Hu(o);s.call(e)}}qu(t,o,e,a)}else o=function(e,t,r,n,a){if(a){if("function"===typeof n){var i=n;n=function(){var e=Hu(o);i.call(e)}}var o=Wu(t,n,e,0,null,!1,0,"",Zu);return e._reactRootContainer=o,e[ha]=o.current,Vn(8===e.nodeType?e.parentNode:e),du(),o}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof n){var s=n;n=function(){var e=Hu(c);s.call(e)}}var c=Uu(e,0,!1,null,0,!1,0,"",Zu);return e._reactRootContainer=c,e[ha]=c.current,Vn(8===e.nodeType?e.parentNode:e),du((function(){qu(t,c,r,n)})),c}(r,t,e,a,n);return Hu(o)}Qu.prototype.render=Yu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));qu(e,t,null,null)},Qu.prototype.unmount=Yu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;du((function(){qu(null,e,null,null)})),t[ha]=null}},Qu.prototype.unstable_scheduleHydration=function(e){if(e){var t=xt();e={blockedOn:null,target:e,priority:t};for(var r=0;r<jt.length&&0!==t&&t<jt[r].priority;r++);jt.splice(r,0,e),0===r&&Nt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=dt(t.pendingLanes);0!==r&&(yt(t,1|r),au(t,Je()),0===(6&Ec)&&(Wc=Je()+500,Va()))}break;case 13:du((function(){var t=Ei(e,1);if(null!==t){var r=tu();nu(t,e,1,r)}})),Gu(e,1)}},_t=function(e){if(13===e.tag){var t=Ei(e,134217728);if(null!==t)nu(t,e,134217728,tu());Gu(e,134217728)}},St=function(e){if(13===e.tag){var t=ru(e),r=Ei(e,t);if(null!==r)nu(r,e,t,tu());Gu(e,t)}},xt=function(){return bt},Ct=function(e,t){var r=bt;try{return bt=e,t()}finally{bt=r}},_e=function(e,t,r){switch(t){case"input":if(X(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=wa(n);if(!a)throw Error(i(90));G(n),X(n,a)}}}break;case"textarea":ie(e,r);break;case"select":null!=(t=r.value)&&re(e,!!r.multiple,t,!1)}},Te=lu,Ee=du;var tl={usingClientEntryPoint:!1,Events:[ba,ka,wa,Pe,Re,lu]},rl={findFiberByHostInstance:ya,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},nl={bundleType:rl.bundleType,version:rl.version,rendererPackageName:rl.rendererPackageName,rendererConfig:rl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:rl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var al=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!al.isDisabled&&al.supportsFiber)try{at=al.inject(nl),it=al}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ju(t))throw Error(i(200));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.createRoot=function(e,t){if(!Ju(e))throw Error(i(299));var r=!1,n="",a=Ku;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Uu(e,1,!1,null,0,r,0,n,a),e[ha]=t.current,Vn(8===e.nodeType?e.parentNode:e),new Yu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return du(e)},t.hydrate=function(e,t,r){if(!Xu(t))throw Error(i(200));return el(null,e,t,!0,r)},t.hydrateRoot=function(e,t,r){if(!Ju(e))throw Error(i(405));var n=null!=r&&r.hydratedSources||null,a=!1,o="",s=Ku;if(null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(a=!0),void 0!==r.identifierPrefix&&(o=r.identifierPrefix),void 0!==r.onRecoverableError&&(s=r.onRecoverableError)),t=Wu(t,null,e,1,null!=r?r:null,a,0,o,s),e[ha]=t.current,Vn(e),n)for(e=0;e<n.length;e++)a=(a=(r=n[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Qu(t)},t.render=function(e,t,r){if(!Xu(t))throw Error(i(200));return el(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!Xu(e))throw Error(i(40));return!!e._reactRootContainer&&(du((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[ha]=null}))})),!0)},t.unstable_batchedUpdates=lu,t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Xu(r))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return el(e,t,r,!1,n)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,r){"use strict";var n=r(4164);t.s=n.createRoot,n.hydrateRoot},4164:function(e,t,r){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(4463)},77:function(e){var t="undefined"!==typeof Element,r="function"===typeof Map,n="function"===typeof Set,a="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function i(e,o){if(e===o)return!0;if(e&&o&&"object"==typeof e&&"object"==typeof o){if(e.constructor!==o.constructor)return!1;var s,c,u,l;if(Array.isArray(e)){if((s=e.length)!=o.length)return!1;for(c=s;0!==c--;)if(!i(e[c],o[c]))return!1;return!0}if(r&&e instanceof Map&&o instanceof Map){if(e.size!==o.size)return!1;for(l=e.entries();!(c=l.next()).done;)if(!o.has(c.value[0]))return!1;for(l=e.entries();!(c=l.next()).done;)if(!i(c.value[1],o.get(c.value[0])))return!1;return!0}if(n&&e instanceof Set&&o instanceof Set){if(e.size!==o.size)return!1;for(l=e.entries();!(c=l.next()).done;)if(!o.has(c.value[0]))return!1;return!0}if(a&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(o)){if((s=e.length)!=o.length)return!1;for(c=s;0!==c--;)if(e[c]!==o[c])return!1;return!0}if(e.constructor===RegExp)return e.source===o.source&&e.flags===o.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"===typeof e.valueOf&&"function"===typeof o.valueOf)return e.valueOf()===o.valueOf();if(e.toString!==Object.prototype.toString&&"function"===typeof e.toString&&"function"===typeof o.toString)return e.toString()===o.toString();if((s=(u=Object.keys(e)).length)!==Object.keys(o).length)return!1;for(c=s;0!==c--;)if(!Object.prototype.hasOwnProperty.call(o,u[c]))return!1;if(t&&e instanceof Element)return!1;for(c=s;0!==c--;)if(("_owner"!==u[c]&&"__v"!==u[c]&&"__o"!==u[c]||!e.$$typeof)&&!i(e[u[c]],o[u[c]]))return!1;return!0}return e!==e&&o!==o}e.exports=function(e,t){try{return i(e,t)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}}},1372:function(e,t){"use strict";var r="function"===typeof Symbol&&Symbol.for,n=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,i=r?Symbol.for("react.fragment"):60107,o=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,l=r?Symbol.for("react.async_mode"):60111,d=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,f=r?Symbol.for("react.suspense"):60113,h=r?Symbol.for("react.suspense_list"):60120,m=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,g=r?Symbol.for("react.block"):60121,y=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118,k=r?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case l:case d:case i:case s:case o:case f:return e;default:switch(e=e&&e.$$typeof){case u:case p:case v:case m:case c:return e;default:return t}}case a:return t}}}function _(e){return w(e)===d}t.AsyncMode=l,t.ConcurrentMode=d,t.ContextConsumer=u,t.ContextProvider=c,t.Element=n,t.ForwardRef=p,t.Fragment=i,t.Lazy=v,t.Memo=m,t.Portal=a,t.Profiler=s,t.StrictMode=o,t.Suspense=f,t.isAsyncMode=function(e){return _(e)||w(e)===l},t.isConcurrentMode=_,t.isContextConsumer=function(e){return w(e)===u},t.isContextProvider=function(e){return w(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return w(e)===p},t.isFragment=function(e){return w(e)===i},t.isLazy=function(e){return w(e)===v},t.isMemo=function(e){return w(e)===m},t.isPortal=function(e){return w(e)===a},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===d||e===s||e===o||e===f||e===h||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===m||e.$$typeof===c||e.$$typeof===u||e.$$typeof===p||e.$$typeof===y||e.$$typeof===b||e.$$typeof===k||e.$$typeof===g)},t.typeOf=w},7441:function(e,t,r){"use strict";e.exports=r(1372)},6374:function(e,t,r){"use strict";var n=r(2791),a=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,r){var n,i={},u=null,l=null;for(n in void 0!==r&&(u=""+r),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,n)&&!c.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===i[n]&&(i[n]=t[n]);return{$$typeof:a,type:e,key:u,ref:l,props:i,_owner:s.current}}t.Fragment=i,t.jsx=u,t.jsxs=u},9117:function(e,t){"use strict";var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,v={};function g(e,t,r){this.props=e,this.context=t,this.refs=v,this.updater=r||h}function y(){}function b(e,t,r){this.props=e,this.context=t,this.refs=v,this.updater=r||h}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var k=b.prototype=new y;k.constructor=b,m(k,g.prototype),k.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,S={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,n){var a,i={},o=null,s=null;if(null!=t)for(a in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,a)&&!x.hasOwnProperty(a)&&(i[a]=t[a]);var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){for(var u=Array(c),l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}if(e&&e.defaultProps)for(a in c=e.defaultProps)void 0===i[a]&&(i[a]=c[a]);return{$$typeof:r,type:e,key:o,ref:s,props:i,_owner:S.current}}function P(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var R=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function E(e,t,a,i,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var c=!1;if(null===e)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case r:case n:c=!0}}if(c)return o=o(c=e),e=""===i?"."+T(c,0):i,w(o)?(a="",null!=e&&(a=e.replace(R,"$&/")+"/"),E(o,t,a,"",(function(e){return e}))):null!=o&&(P(o)&&(o=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,a+(!o.key||c&&c.key===o.key?"":(""+o.key).replace(R,"$&/")+"/")+e)),t.push(o)),1;if(c=0,i=""===i?".":i+":",w(e))for(var u=0;u<e.length;u++){var l=i+T(s=e[u],u);c+=E(s,t,a,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),u=0;!(s=e.next()).done;)c+=E(s=s.value,t,a,l=i+T(s,u++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function O(e,t,r){if(null==e)return e;var n=[],a=0;return E(e,n,"","",(function(e){return t.call(r,e,a++)})),n}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M={current:null},j={transition:null},I={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:j,ReactCurrentOwner:S};t.Children={map:O,forEach:function(e,t,r){O(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!P(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=a,t.Profiler=o,t.PureComponent=b,t.StrictMode=i,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=m({},e.props),i=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=S.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)_.call(t,u)&&!x.hasOwnProperty(u)&&(a[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){c=Array(u);for(var l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}return{$$typeof:r,type:e.type,key:i,ref:o,props:a,_owner:s}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=P,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=j.transition;j.transition={};try{e()}finally{j.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return M.current.useCallback(e,t)},t.useContext=function(e){return M.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return M.current.useDeferredValue(e)},t.useEffect=function(e,t){return M.current.useEffect(e,t)},t.useId=function(){return M.current.useId()},t.useImperativeHandle=function(e,t,r){return M.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return M.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return M.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return M.current.useMemo(e,t)},t.useReducer=function(e,t,r){return M.current.useReducer(e,t,r)},t.useRef=function(e){return M.current.useRef(e)},t.useState=function(e){return M.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return M.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return M.current.useTransition()},t.version="18.2.0"},2791:function(e,t,r){"use strict";e.exports=r(9117)},184:function(e,t,r){"use strict";e.exports=r(6374)},6813:function(e,t){"use strict";function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,a=e[n];if(!(0<i(a,t)))break e;e[n]=t,e[r]=a,r=n}}function n(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,a=e.length,o=a>>>1;n<o;){var s=2*(n+1)-1,c=e[s],u=s+1,l=e[u];if(0>i(c,r))u<a&&0>i(l,c)?(e[n]=l,e[u]=r,n=u):(e[n]=c,e[s]=r,n=s);else{if(!(u<a&&0>i(l,r)))break e;e[n]=l,e[u]=r,n=u}}}return t}function i(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}var u=[],l=[],d=1,p=null,f=3,h=!1,m=!1,v=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=n(l);null!==t;){if(null===t.callback)a(l);else{if(!(t.startTime<=e))break;a(l),t.sortIndex=t.expirationTime,r(u,t)}t=n(l)}}function w(e){if(v=!1,k(e),!m)if(null!==n(u))m=!0,j(_);else{var t=n(l);null!==t&&I(w,t.startTime-e)}}function _(e,r){m=!1,v&&(v=!1,y(P),P=-1),h=!0;var i=f;try{for(k(r),p=n(u);null!==p&&(!(p.expirationTime>r)||e&&!E());){var o=p.callback;if("function"===typeof o){p.callback=null,f=p.priorityLevel;var s=o(p.expirationTime<=r);r=t.unstable_now(),"function"===typeof s?p.callback=s:p===n(u)&&a(u),k(r)}else a(u);p=n(u)}if(null!==p)var c=!0;else{var d=n(l);null!==d&&I(w,d.startTime-r),c=!1}return c}finally{p=null,f=i,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,x=!1,C=null,P=-1,R=5,T=-1;function E(){return!(t.unstable_now()-T<R)}function O(){if(null!==C){var e=t.unstable_now();T=e;var r=!0;try{r=C(!0,e)}finally{r?S():(x=!1,C=null)}}else x=!1}if("function"===typeof b)S=function(){b(O)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,M=D.port2;D.port1.onmessage=O,S=function(){M.postMessage(null)}}else S=function(){g(O,0)};function j(e){C=e,x||(x=!0,S())}function I(e,r){P=g((function(){e(t.unstable_now())}),r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,j(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var r=f;f=t;try{return e()}finally{f=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=f;f=e;try{return t()}finally{f=r}},t.unstable_scheduleCallback=function(e,a,i){var o=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?o+i:o:i=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>o?(e.sortIndex=i,r(l,e),null===n(u)&&e===n(l)&&(v?(y(P),P=-1):v=!0,I(w,i-o))):(e.sortIndex=s,r(u,e),m||h||(m=!0,j(_))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=f;return function(){var r=f;f=t;try{return e.apply(this,arguments)}finally{f=r}}}},5296:function(e,t,r){"use strict";e.exports=r(6813)},6712:function(e){var t=e.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return null!=e.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return null!=e.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+(e["encrypt-uri"]?" %s":"%v")+" %s"+(e.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return null!=e.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=null!=e.raddr?" raddr %s rport %d":"%v%v",t+=null!=e.tcptype?" tcptype %s":"%v",null!=e.generation&&(t+=" generation %d"),t+=null!=e["network-id"]?" network-id %d":"%v",t+=null!=e["network-cost"]?" network-cost %d":"%v"}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";return null!=e.attribute&&(t+=" %s",null!=e.value&&(t+=":%s")),t}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return null!=e.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(e){return"ts-refclk:%s"+(null!=e.clksrcExt?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(e){var t="mediaclk:";return t+=null!=e.id?"id=%s %s":"%v%s",t+=null!=e.mediaClockValue?"=%s":"",t+=null!=e.rateNumerator?" rate=%s":"",t+=null!=e.rateDenominator?"/%s":""}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(t).forEach((function(e){t[e].forEach((function(e){e.reg||(e.reg=/(.*)/),e.format||(e.format="%s")}))}))},5861:function(e,t,r){var n=r(1775),a=r(2921);t.write=a,t.parse=n.parse,t.parseParams=n.parseParams,t.parseFmtpConfig=n.parseFmtpConfig,t.parsePayloads=n.parsePayloads,t.parseRemoteCandidates=n.parseRemoteCandidates,t.parseImageAttributes=n.parseImageAttributes,t.parseSimulcastStreamList=n.parseSimulcastStreamList},1775:function(e,t,r){var n=function(e){return String(Number(e))===e?Number(e):e},a=function(e,t,r){var a=e.name&&e.names;e.push&&!t[e.push]?t[e.push]=[]:a&&!t[e.name]&&(t[e.name]={});var i=e.push?{}:a?t[e.name]:t;!function(e,t,r,a){if(a&&!r)t[a]=n(e[1]);else for(var i=0;i<r.length;i+=1)null!=e[i+1]&&(t[r[i]]=n(e[i+1]))}(r.match(e.reg),i,e.names,e.name),e.push&&t[e.push].push(i)},i=r(6712),o=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(e){var t={},r=[],n=t;return e.split(/(\r\n|\r|\n)/).filter(o).forEach((function(e){var t=e[0],o=e.slice(2);"m"===t&&(r.push({rtp:[],fmtp:[]}),n=r[r.length-1]);for(var s=0;s<(i[t]||[]).length;s+=1){var c=i[t][s];if(c.reg.test(o))return a(c,n,o)}})),t.media=r,t};var s=function(e,t){var r=t.split(/=(.+)/,2);return 2===r.length?e[r[0]]=n(r[1]):1===r.length&&t.length>1&&(e[r[0]]=void 0),e};t.parseParams=function(e){return e.split(/;\s?/).reduce(s,{})},t.parseFmtpConfig=t.parseParams,t.parsePayloads=function(e){return e.toString().split(" ").map(Number)},t.parseRemoteCandidates=function(e){for(var t=[],r=e.split(" ").map(n),a=0;a<r.length;a+=3)t.push({component:r[a],ip:r[a+1],port:r[a+2]});return t},t.parseImageAttributes=function(e){return e.split(" ").map((function(e){return e.substring(1,e.length-1).split(",").reduce(s,{})}))},t.parseSimulcastStreamList=function(e){return e.split(";").map((function(e){return e.split(",").map((function(e){var t,r=!1;return"~"!==e[0]?t=n(e):(t=n(e.substring(1,e.length)),r=!0),{scid:t,paused:r}}))}))}},2921:function(e,t,r){var n=r(6712),a=/%[sdv%]/g,i=function(e){var t=1,r=arguments,n=r.length;return e.replace(a,(function(e){if(t>=n)return e;var a=r[t];switch(t+=1,e){case"%%":return"%";case"%s":return String(a);case"%d":return Number(a);case"%v":return""}}))},o=function(e,t,r){var n=[e+"="+(t.format instanceof Function?t.format(t.push?r:r[t.name]):t.format)];if(t.names)for(var a=0;a<t.names.length;a+=1){var o=t.names[a];t.name?n.push(r[t.name][o]):n.push(r[t.names[a]])}else n.push(r[t.name]);return i.apply(null,n)},s=["v","o","s","i","u","e","p","c","b","t","r","z","a"],c=["i","c","b","a"];e.exports=function(e,t){t=t||{},null==e.version&&(e.version=0),null==e.name&&(e.name=" "),e.media.forEach((function(e){null==e.payloads&&(e.payloads="")}));var r=t.outerOrder||s,a=t.innerOrder||c,i=[];return r.forEach((function(t){n[t].forEach((function(r){r.name in e&&null!=e[r.name]?i.push(o(t,r,e)):r.push in e&&null!=e[r.push]&&e[r.push].forEach((function(e){i.push(o(t,r,e))}))}))})),e.media.forEach((function(e){i.push(o("m",n.m[0],e)),a.forEach((function(t){n[t].forEach((function(r){r.name in e&&null!=e[r.name]?i.push(o(t,r,e)):r.push in e&&null!=e[r.push]&&e[r.push].forEach((function(e){i.push(o(t,r,e))}))}))}))})),i.join("\r\n")+"\r\n"}},7800:function(e){"use strict";var t={generateIdentifier:function(){return Math.random().toString(36).substring(2,12)}};t.localCName=t.generateIdentifier(),t.splitLines=function(e){return e.trim().split("\n").map((function(e){return e.trim()}))},t.splitSections=function(e){return e.split("\nm=").map((function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"}))},t.getDescription=function(e){var r=t.splitSections(e);return r&&r[0]},t.getMediaSections=function(e){var r=t.splitSections(e);return r.shift(),r},t.matchPrefix=function(e,r){return t.splitLines(e).filter((function(e){return 0===e.indexOf(r)}))},t.parseCandidate=function(e){for(var t,r={foundation:(t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:{1:"rtp",2:"rtcp"}[t[1]]||t[1],protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]},n=8;n<t.length;n+=2)switch(t[n]){case"raddr":r.relatedAddress=t[n+1];break;case"rport":r.relatedPort=parseInt(t[n+1],10);break;case"tcptype":r.tcpType=t[n+1];break;case"ufrag":r.ufrag=t[n+1],r.usernameFragment=t[n+1];break;default:void 0===r[t[n]]&&(r[t[n]]=t[n+1])}return r},t.writeCandidate=function(e){var t=[];t.push(e.foundation);var r=e.component;"rtp"===r?t.push(1):"rtcp"===r?t.push(2):t.push(r),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);var n=e.type;return t.push("typ"),t.push(n),"host"!==n&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},t.parseIceOptions=function(e){return e.substring(14).split(" ")},t.parseRtpMap=function(e){var t=e.substring(9).split(" "),r={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),r.name=t[0],r.clockRate=parseInt(t[1],10),r.channels=3===t.length?parseInt(t[2],10):1,r.numChannels=r.channels,r},t.writeRtpMap=function(e){var t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);var r=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==r?"/"+r:"")+"\r\n"},t.parseExtmap=function(e){var t=e.substring(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1],attributes:t.slice(2).join(" ")}},t.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+(e.attributes?" "+e.attributes:"")+"\r\n"},t.parseFmtp=function(e){for(var t,r={},n=e.substring(e.indexOf(" ")+1).split(";"),a=0;a<n.length;a++)r[(t=n[a].trim().split("="))[0].trim()]=t[1];return r},t.writeFmtp=function(e){var t="",r=e.payloadType;if(void 0!==e.preferredPayloadType&&(r=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var n=[];Object.keys(e.parameters).forEach((function(t){void 0!==e.parameters[t]?n.push(t+"="+e.parameters[t]):n.push(t)})),t+="a=fmtp:"+r+" "+n.join(";")+"\r\n"}return t},t.parseRtcpFb=function(e){var t=e.substring(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},t.writeRtcpFb=function(e){var t="",r=e.payloadType;return void 0!==e.preferredPayloadType&&(r=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((function(e){t+="a=rtcp-fb:"+r+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),t},t.parseSsrcMedia=function(e){var t=e.indexOf(" "),r={ssrc:parseInt(e.substring(7,t),10)},n=e.indexOf(":",t);return n>-1?(r.attribute=e.substring(t+1,n),r.value=e.substring(n+1)):r.attribute=e.substring(t+1),r},t.parseSsrcGroup=function(e){var t=e.substring(13).split(" ");return{semantics:t.shift(),ssrcs:t.map((function(e){return parseInt(e,10)}))}},t.getMid=function(e){var r=t.matchPrefix(e,"a=mid:")[0];if(r)return r.substring(6)},t.parseFingerprint=function(e){var t=e.substring(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1].toUpperCase()}},t.getDtlsParameters=function(e,r){return{role:"auto",fingerprints:t.matchPrefix(e+r,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(e,t){var r="a=setup:"+t+"\r\n";return e.fingerprints.forEach((function(e){r+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),r},t.parseCryptoLine=function(e){var t=e.substring(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},t.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"===typeof e.keyParams?t.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},t.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:"))return null;var t=e.substring(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},t.getCryptoParameters=function(e,r){return t.matchPrefix(e+r,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(e,r){var n=t.matchPrefix(e+r,"a=ice-ufrag:")[0],a=t.matchPrefix(e+r,"a=ice-pwd:")[0];return n&&a?{usernameFragment:n.substring(12),password:a.substring(10)}:null},t.writeIceParameters=function(e){var t="a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n";return e.iceLite&&(t+="a=ice-lite\r\n"),t},t.parseRtpParameters=function(e){var r={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},n=t.splitLines(e)[0].split(" ");r.profile=n[2];for(var a=3;a<n.length;a++){var i=n[a],o=t.matchPrefix(e,"a=rtpmap:"+i+" ")[0];if(o){var s=t.parseRtpMap(o),c=t.matchPrefix(e,"a=fmtp:"+i+" ");switch(s.parameters=c.length?t.parseFmtp(c[0]):{},s.rtcpFeedback=t.matchPrefix(e,"a=rtcp-fb:"+i+" ").map(t.parseRtcpFb),r.codecs.push(s),s.name.toUpperCase()){case"RED":case"ULPFEC":r.fecMechanisms.push(s.name.toUpperCase())}}}t.matchPrefix(e,"a=extmap:").forEach((function(e){r.headerExtensions.push(t.parseExtmap(e))}));var u=t.matchPrefix(e,"a=rtcp-fb:* ").map(t.parseRtcpFb);return r.codecs.forEach((function(e){u.forEach((function(t){e.rtcpFeedback.find((function(e){return e.type===t.type&&e.parameter===t.parameter}))||e.rtcpFeedback.push(t)}))})),r},t.writeRtpDescription=function(e,r){var n="";n+="m="+e+" ",n+=r.codecs.length>0?"9":"0",n+=" "+(r.profile||"UDP/TLS/RTP/SAVPF")+" ",n+=r.codecs.map((function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType})).join(" ")+"\r\n",n+="c=IN IP4 0.0.0.0\r\n",n+="a=rtcp:9 IN IP4 0.0.0.0\r\n",r.codecs.forEach((function(e){n+=t.writeRtpMap(e),n+=t.writeFmtp(e),n+=t.writeRtcpFb(e)}));var a=0;return r.codecs.forEach((function(e){e.maxptime>a&&(a=e.maxptime)})),a>0&&(n+="a=maxptime:"+a+"\r\n"),r.headerExtensions&&r.headerExtensions.forEach((function(e){n+=t.writeExtmap(e)})),n},t.parseRtpEncodingParameters=function(e){var r,n=[],a=t.parseRtpParameters(e),i=-1!==a.fecMechanisms.indexOf("RED"),o=-1!==a.fecMechanisms.indexOf("ULPFEC"),s=t.matchPrefix(e,"a=ssrc:").map((function(e){return t.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute})),c=s.length>0&&s[0].ssrc,u=t.matchPrefix(e,"a=ssrc-group:FID").map((function(e){return e.substring(17).split(" ").map((function(e){return parseInt(e,10)}))}));u.length>0&&u[0].length>1&&u[0][0]===c&&(r=u[0][1]),a.codecs.forEach((function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var t={ssrc:c,codecPayloadType:parseInt(e.parameters.apt,10)};c&&r&&(t.rtx={ssrc:r}),n.push(t),i&&((t=JSON.parse(JSON.stringify(t))).fec={ssrc:c,mechanism:o?"red+ulpfec":"red"},n.push(t))}})),0===n.length&&c&&n.push({ssrc:c});var l=t.matchPrefix(e,"b=");return l.length&&(l=0===l[0].indexOf("b=TIAS:")?parseInt(l[0].substring(7),10):0===l[0].indexOf("b=AS:")?1e3*parseInt(l[0].substring(5),10)*.95-16e3:void 0,n.forEach((function(e){e.maxBitrate=l}))),n},t.parseRtcpParameters=function(e){var r={},n=t.matchPrefix(e,"a=ssrc:").map((function(e){return t.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute}))[0];n&&(r.cname=n.value,r.ssrc=n.ssrc);var a=t.matchPrefix(e,"a=rtcp-rsize");r.reducedSize=a.length>0,r.compound=0===a.length;var i=t.matchPrefix(e,"a=rtcp-mux");return r.mux=i.length>0,r},t.writeRtcpParameters=function(e){var t="";return e.reducedSize&&(t+="a=rtcp-rsize\r\n"),e.mux&&(t+="a=rtcp-mux\r\n"),void 0!==e.ssrc&&e.cname&&(t+="a=ssrc:"+e.ssrc+" cname:"+e.cname+"\r\n"),t},t.parseMsid=function(e){var r,n=t.matchPrefix(e,"a=msid:");if(1===n.length)return{stream:(r=n[0].substring(7).split(" "))[0],track:r[1]};var a=t.matchPrefix(e,"a=ssrc:").map((function(e){return t.parseSsrcMedia(e)})).filter((function(e){return"msid"===e.attribute}));return a.length>0?{stream:(r=a[0].value.split(" "))[0],track:r[1]}:void 0},t.parseSctpDescription=function(e){var r,n=t.parseMLine(e),a=t.matchPrefix(e,"a=max-message-size:");a.length>0&&(r=parseInt(a[0].substring(19),10)),isNaN(r)&&(r=65536);var i=t.matchPrefix(e,"a=sctp-port:");if(i.length>0)return{port:parseInt(i[0].substring(12),10),protocol:n.fmt,maxMessageSize:r};var o=t.matchPrefix(e,"a=sctpmap:");if(o.length>0){var s=o[0].substring(10).split(" ");return{port:parseInt(s[0],10),protocol:s[1],maxMessageSize:r}}},t.writeSctpDescription=function(e,t){var r=[];return r="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&r.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),r.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,22)},t.writeSessionBoilerplate=function(e,r,n){var a=void 0!==r?r:2;return"v=0\r\no="+(n||"thisisadapterortc")+" "+(e||t.generateSessionId())+" "+a+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},t.getDirection=function(e,r){for(var n=t.splitLines(e),a=0;a<n.length;a++)switch(n[a]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return n[a].substring(2)}return r?t.getDirection(r):"sendrecv"},t.getKind=function(e){return t.splitLines(e)[0].split(" ")[0].substring(2)},t.isRejected=function(e){return"0"===e.split(" ",2)[1]},t.parseMLine=function(e){var r=t.splitLines(e)[0].substring(2).split(" ");return{kind:r[0],port:parseInt(r[1],10),protocol:r[2],fmt:r.slice(3).join(" ")}},t.parseOLine=function(e){var r=t.matchPrefix(e,"o=")[0].substring(2).split(" ");return{username:r[0],sessionId:r[1],sessionVersion:parseInt(r[2],10),netType:r[3],addressType:r[4],address:r[5]}},t.isValidSDP=function(e){if("string"!==typeof e||0===e.length)return!1;for(var r=t.splitLines(e),n=0;n<r.length;n++)if(r[n].length<2||"="!==r[n].charAt(1))return!1;return!0},e.exports=t},6794:function(e){e.exports=function(e){return e&&"object"===typeof e&&"function"===typeof e.copy&&"function"===typeof e.fill&&"function"===typeof e.readUInt8}},7374:function(e,t,r){"use strict";var n=r(5450),a=r(5718),i=r(8264),o=r(6218);function s(e){return e.call.bind(e)}var c="undefined"!==typeof BigInt,u="undefined"!==typeof Symbol,l=s(Object.prototype.toString),d=s(Number.prototype.valueOf),p=s(String.prototype.valueOf),f=s(Boolean.prototype.valueOf);if(c)var h=s(BigInt.prototype.valueOf);if(u)var m=s(Symbol.prototype.valueOf);function v(e,t){if("object"!==typeof e)return!1;try{return t(e),!0}catch(r){return!1}}function g(e){return"[object Map]"===l(e)}function y(e){return"[object Set]"===l(e)}function b(e){return"[object WeakMap]"===l(e)}function k(e){return"[object WeakSet]"===l(e)}function w(e){return"[object ArrayBuffer]"===l(e)}function _(e){return"undefined"!==typeof ArrayBuffer&&(w.working?w(e):e instanceof ArrayBuffer)}function S(e){return"[object DataView]"===l(e)}function x(e){return"undefined"!==typeof DataView&&(S.working?S(e):e instanceof DataView)}t.isArgumentsObject=n,t.isGeneratorFunction=a,t.isTypedArray=o,t.isPromise=function(e){return"undefined"!==typeof Promise&&e instanceof Promise||null!==e&&"object"===typeof e&&"function"===typeof e.then&&"function"===typeof e.catch},t.isArrayBufferView=function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):o(e)||x(e)},t.isUint8Array=function(e){return"Uint8Array"===i(e)},t.isUint8ClampedArray=function(e){return"Uint8ClampedArray"===i(e)},t.isUint16Array=function(e){return"Uint16Array"===i(e)},t.isUint32Array=function(e){return"Uint32Array"===i(e)},t.isInt8Array=function(e){return"Int8Array"===i(e)},t.isInt16Array=function(e){return"Int16Array"===i(e)},t.isInt32Array=function(e){return"Int32Array"===i(e)},t.isFloat32Array=function(e){return"Float32Array"===i(e)},t.isFloat64Array=function(e){return"Float64Array"===i(e)},t.isBigInt64Array=function(e){return"BigInt64Array"===i(e)},t.isBigUint64Array=function(e){return"BigUint64Array"===i(e)},g.working="undefined"!==typeof Map&&g(new Map),t.isMap=function(e){return"undefined"!==typeof Map&&(g.working?g(e):e instanceof Map)},y.working="undefined"!==typeof Set&&y(new Set),t.isSet=function(e){return"undefined"!==typeof Set&&(y.working?y(e):e instanceof Set)},b.working="undefined"!==typeof WeakMap&&b(new WeakMap),t.isWeakMap=function(e){return"undefined"!==typeof WeakMap&&(b.working?b(e):e instanceof WeakMap)},k.working="undefined"!==typeof WeakSet&&k(new WeakSet),t.isWeakSet=function(e){return k(e)},w.working="undefined"!==typeof ArrayBuffer&&w(new ArrayBuffer),t.isArrayBuffer=_,S.working="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof DataView&&S(new DataView(new ArrayBuffer(1),0,1)),t.isDataView=x;var C="undefined"!==typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function P(e){return"[object SharedArrayBuffer]"===l(e)}function R(e){return"undefined"!==typeof C&&("undefined"===typeof P.working&&(P.working=P(new C)),P.working?P(e):e instanceof C)}function T(e){return v(e,d)}function E(e){return v(e,p)}function O(e){return v(e,f)}function D(e){return c&&v(e,h)}function M(e){return u&&v(e,m)}t.isSharedArrayBuffer=R,t.isAsyncFunction=function(e){return"[object AsyncFunction]"===l(e)},t.isMapIterator=function(e){return"[object Map Iterator]"===l(e)},t.isSetIterator=function(e){return"[object Set Iterator]"===l(e)},t.isGeneratorObject=function(e){return"[object Generator]"===l(e)},t.isWebAssemblyCompiledModule=function(e){return"[object WebAssembly.Module]"===l(e)},t.isNumberObject=T,t.isStringObject=E,t.isBooleanObject=O,t.isBigIntObject=D,t.isSymbolObject=M,t.isBoxedPrimitive=function(e){return T(e)||E(e)||O(e)||D(e)||M(e)},t.isAnyArrayBuffer=function(e){return"undefined"!==typeof Uint8Array&&(_(e)||R(e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(e){Object.defineProperty(t,e,{enumerable:!1,value:function(){throw new Error(e+" is not supported in userland")}})}))},9639:function(e,t,r){var n=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},a=/%[sdj%]/g;t.format=function(e){if(!y(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(c(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,i=n.length,o=String(e).replace(a,(function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(t){return"[Circular]"}default:return e}})),s=n[r];r<i;s=n[++r])v(s)||!w(s)?o+=" "+s:o+=" "+c(s);return o},t.deprecate=function(e,r){if("undefined"!==typeof process&&!0===process.noDeprecation)return e;if("undefined"===typeof process)return function(){return t.deprecate(e,r).apply(this,arguments)};var n=!1;return function(){if(!n){if(process.throwDeprecation)throw new Error(r);process.traceDeprecation?console.trace(r):console.error(r),n=!0}return e.apply(this,arguments)}};var i={},o=/^$/;if({NODE_ENV:"production",PUBLIC_URL:"/peliopi",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.NODE_DEBUG){var s={NODE_ENV:"production",PUBLIC_URL:"/peliopi",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),o=new RegExp("^"+s+"$","i")}function c(e,r){var n={seen:[],stylize:l};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),m(r)?n.showHidden=r:r&&t._extend(n,r),b(n.showHidden)&&(n.showHidden=!1),b(n.depth)&&(n.depth=2),b(n.colors)&&(n.colors=!1),b(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=u),d(n,e,n.depth)}function u(e,t){var r=c.styles[t];return r?"\x1b["+c.colors[r][0]+"m"+e+"\x1b["+c.colors[r][1]+"m":e}function l(e,t){return e}function d(e,r,n){if(e.customInspect&&r&&x(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var a=r.inspect(n,e);return y(a)||(a=d(e,a,n)),a}var i=function(e,t){if(b(t))return e.stylize("undefined","undefined");if(y(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(g(t))return e.stylize(""+t,"number");if(m(t))return e.stylize(""+t,"boolean");if(v(t))return e.stylize("null","null")}(e,r);if(i)return i;var o=Object.keys(r),s=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(r)),S(r)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return p(r);if(0===o.length){if(x(r)){var c=r.name?": "+r.name:"";return e.stylize("[Function"+c+"]","special")}if(k(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(_(r))return e.stylize(Date.prototype.toString.call(r),"date");if(S(r))return p(r)}var u,l="",w=!1,C=["{","}"];(h(r)&&(w=!0,C=["[","]"]),x(r))&&(l=" [Function"+(r.name?": "+r.name:"")+"]");return k(r)&&(l=" "+RegExp.prototype.toString.call(r)),_(r)&&(l=" "+Date.prototype.toUTCString.call(r)),S(r)&&(l=" "+p(r)),0!==o.length||w&&0!=r.length?n<0?k(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),u=w?function(e,t,r,n,a){for(var i=[],o=0,s=t.length;o<s;++o)T(t,String(o))?i.push(f(e,t,r,n,String(o),!0)):i.push("");return a.forEach((function(a){a.match(/^\d+$/)||i.push(f(e,t,r,n,a,!0))})),i}(e,r,n,s,o):o.map((function(t){return f(e,r,n,s,t,w)})),e.seen.pop(),function(e,t,r){var n=e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0);if(n>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(u,l,C)):C[0]+l+C[1]}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,r,n,a,i){var o,s,c;if((c=Object.getOwnPropertyDescriptor(t,a)||{value:t[a]}).get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),T(n,a)||(o="["+a+"]"),s||(e.seen.indexOf(c.value)<0?(s=v(r)?d(e,c.value,null):d(e,c.value,r-1)).indexOf("\n")>-1&&(s=i?s.split("\n").map((function(e){return"  "+e})).join("\n").slice(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),b(o)){if(i&&a.match(/^\d+$/))return s;(o=JSON.stringify(""+a)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.slice(1,-1),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+s}function h(e){return Array.isArray(e)}function m(e){return"boolean"===typeof e}function v(e){return null===e}function g(e){return"number"===typeof e}function y(e){return"string"===typeof e}function b(e){return void 0===e}function k(e){return w(e)&&"[object RegExp]"===C(e)}function w(e){return"object"===typeof e&&null!==e}function _(e){return w(e)&&"[object Date]"===C(e)}function S(e){return w(e)&&("[object Error]"===C(e)||e instanceof Error)}function x(e){return"function"===typeof e}function C(e){return Object.prototype.toString.call(e)}function P(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(e=e.toUpperCase(),!i[e])if(o.test(e)){var r=process.pid;i[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,r,n)}}else i[e]=function(){};return i[e]},t.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.types=r(7374),t.isArray=h,t.isBoolean=m,t.isNull=v,t.isNullOrUndefined=function(e){return null==e},t.isNumber=g,t.isString=y,t.isSymbol=function(e){return"symbol"===typeof e},t.isUndefined=b,t.isRegExp=k,t.types.isRegExp=k,t.isObject=w,t.isDate=_,t.types.isDate=_,t.isError=S,t.types.isNativeError=S,t.isFunction=x,t.isPrimitive=function(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===typeof e||"undefined"===typeof e},t.isBuffer=r(6794);var R=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function T(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",function(){var e=new Date,t=[P(e.getHours()),P(e.getMinutes()),P(e.getSeconds())].join(":");return[e.getDate(),R[e.getMonth()],t].join(" ")}(),t.format.apply(t,arguments))},t.inherits=r(2534),t._extend=function(e,t){if(!t||!w(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var E="undefined"!==typeof Symbol?Symbol("util.promisify.custom"):void 0;function O(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}t.promisify=function(e){if("function"!==typeof e)throw new TypeError('The "original" argument must be of type Function');if(E&&e[E]){var t;if("function"!==typeof(t=e[E]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,E,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,n=new Promise((function(e,n){t=e,r=n})),a=[],i=0;i<arguments.length;i++)a.push(arguments[i]);a.push((function(e,n){e?r(e):t(n)}));try{e.apply(this,a)}catch(o){r(o)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),E&&Object.defineProperty(t,E,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,n(e))},t.promisify.custom=E,t.callbackify=function(e){if("function"!==typeof e)throw new TypeError('The "original" argument must be of type Function');function t(){for(var t=[],r=0;r<arguments.length;r++)t.push(arguments[r]);var n=t.pop();if("function"!==typeof n)throw new TypeError("The last argument must be of type Function");var a=this,i=function(){return n.apply(a,arguments)};e.apply(this,t).then((function(e){process.nextTick(i.bind(null,null,e))}),(function(e){process.nextTick(O.bind(null,e,i))}))}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,n(e)),t}},8264:function(e,t,r){"use strict";var n=r(5369),a=r(306),i=r(4037),o=r(3347),s=i("Object.prototype.toString"),c=r(4707)(),u="undefined"===typeof globalThis?r.g:globalThis,l=a(),d=i("String.prototype.slice"),p={},f=Object.getPrototypeOf;c&&o&&f&&n(l,(function(e){if("function"===typeof u[e]){var t=new u[e];if(Symbol.toStringTag in t){var r=f(t),n=o(r,Symbol.toStringTag);if(!n){var a=f(r);n=o(a,Symbol.toStringTag)}p[e]=n.get}}}));var h=r(6218);e.exports=function(e){return!!h(e)&&(c&&Symbol.toStringTag in e?function(e){var t=!1;return n(p,(function(r,n){if(!t)try{var a=r.call(e);a===n&&(t=a)}catch(i){}})),t}(e):d(s(e),8,-1))}},3897:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports},5372:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},3405:function(e,t,r){var n=r(3897);e.exports=function(e){if(Array.isArray(e))return n(e)},e.exports.__esModule=!0,e.exports.default=e.exports},6115:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},7156:function(e){function t(e,t,r,n,a,i,o){try{var s=e[i](o),c=s.value}catch(u){return void r(u)}s.done?t(c):Promise.resolve(c).then(n,a)}e.exports=function(e){return function(){var r=this,n=arguments;return new Promise((function(a,i){var o=e.apply(r,n);function s(e){t(o,a,i,s,c,"next",e)}function c(e){t(o,a,i,s,c,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},6690:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},3515:function(e,t,r){var n=r(6015),a=r(9617);function i(t,r,o){return a()?(e.exports=i=Reflect.construct.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=i=function(e,t,r){var a=[null];a.push.apply(a,t);var i=new(Function.bind.apply(e,a));return r&&n(i,r.prototype),i},e.exports.__esModule=!0,e.exports.default=e.exports),i.apply(null,arguments)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},9728:function(e,t,r){var n=r(4062);function a(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,n(a.key),a)}}e.exports=function(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},4704:function(e,t,r){var n=r(6116);e.exports=function(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=n(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){c=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw o}}}},e.exports.__esModule=!0,e.exports.default=e.exports},6389:function(e,t,r){var n=r(3808),a=r(9617),i=r(4993);e.exports=function(e){var t=a();return function(){var r,a=n(e);if(t){var o=n(this).constructor;r=Reflect.construct(a,arguments,o)}else r=a.apply(this,arguments);return i(this,r)}},e.exports.__esModule=!0,e.exports.default=e.exports},8416:function(e,t,r){var n=r(4062);e.exports=function(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},1588:function(e,t,r){var n=r(1753);function a(){return"undefined"!==typeof Reflect&&Reflect.get?(e.exports=a=Reflect.get.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=a=function(e,t,r){var a=n(e,t);if(a){var i=Object.getOwnPropertyDescriptor(a,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},e.exports.__esModule=!0,e.exports.default=e.exports),a.apply(this,arguments)}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},3808:function(e){function t(r){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},1655:function(e,t,r){var n=r(6015);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},6035:function(e){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.__esModule=!0,e.exports.default=e.exports},9617:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},9498:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},8872:function(e){e.exports=function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(l){u=!0,a=l}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}},e.exports.__esModule=!0,e.exports.default=e.exports},2218:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},2281:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},2122:function(e,t,r){var n=r(8416);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}e.exports=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},4993:function(e,t,r){var n=r(8698).default,a=r(6115);e.exports=function(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return a(e)},e.exports.__esModule=!0,e.exports.default=e.exports},7061:function(e,t,r){var n=r(8698).default;function a(){"use strict";e.exports=a=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},r=Object.prototype,i=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function d(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(D){d=function(e,t,r){return e[t]=r}}function p(e,t,r,n){var a=t&&t.prototype instanceof m?t:m,i=Object.create(a.prototype),s=new T(n||[]);return o(i,"_invoke",{value:x(e,r,s)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(D){return{type:"throw",arg:D}}}t.wrap=p;var h={};function m(){}function v(){}function g(){}var y={};d(y,c,(function(){return this}));var b=Object.getPrototypeOf,k=b&&b(b(E([])));k&&k!==r&&i.call(k,c)&&(y=k);var w=g.prototype=m.prototype=Object.create(y);function _(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(a,o,s,c){var u=f(e[a],e,o);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==n(d)&&i.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(d).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var a;o(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(i,i):i()}})}function x(e,t,r){var n="suspendedStart";return function(a,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw i;return O()}for(r.method=a,r.arg=i;;){var o=r.delegate;if(o){var s=C(o,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=f(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function C(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var a=f(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,h;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function E(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(i.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:O}}function O(){return{value:void 0,done:!0}}return v.prototype=g,o(w,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:v,configurable:!0}),v.displayName=d(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,d(e,l,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},_(S.prototype),d(S.prototype,u,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,a,i){void 0===i&&(i=Promise);var o=new S(p(e,r,n,a),i);return t.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(w),d(w,l,"Generator"),d(w,c,(function(){return this})),d(w,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=E,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(R),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,n){return o.type="throw",o.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),R(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;R(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:E(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},6015:function(e){function t(r,n){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r,n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},7424:function(e,t,r){var n=r(5372),a=r(8872),i=r(6116),o=r(2218);e.exports=function(e,t){return n(e)||a(e,t)||i(e,t)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},1753:function(e,t,r){var n=r(3808);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=n(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports},861:function(e,t,r){var n=r(3405),a=r(9498),i=r(6116),o=r(2281);e.exports=function(e){return n(e)||a(e)||i(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},5036:function(e,t,r){var n=r(8698).default;e.exports=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},4062:function(e,t,r){var n=r(8698).default,a=r(5036);e.exports=function(e){var t=a(e,"string");return"symbol"===n(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},8698:function(e){function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},6116:function(e,t,r){var n=r(3897);e.exports=function(e,t){if(e){if("string"===typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},3496:function(e,t,r){var n=r(3808),a=r(6015),i=r(6035),o=r(3515);function s(t){var r="function"===typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!i(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof r){if(r.has(e))return r.get(e);r.set(e,t)}function t(){return o(e,arguments,n(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),a(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,s(t)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports},306:function(e,t,r){"use strict";var n=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],a="undefined"===typeof globalThis?r.g:globalThis;e.exports=function(){for(var e=[],t=0;t<n.length;t++)"function"===typeof a[n[t]]&&(e[e.length]=n[t]);return e}}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var i=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};r.t=function(n,a){if(1&a&&(n=this(n)),8&a)return n;if("object"===typeof n&&n){if(4&a&&n.__esModule)return n;if(16&a&&"function"===typeof n.then)return n}var i=Object.create(null);r.r(i);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&a&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return n[e]}}));return o.default=function(){return n},r.d(i,o),i}}(),r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},function(){"use strict";var e={};r.r(e),r.d(e,{fixNegotiationNeeded:function(){return Ex},shimAddTrackRemoveTrack:function(){return Rx},shimAddTrackRemoveTrackWithNative:function(){return Px},shimGetDisplayMedia:function(){return kx},shimGetSendersWithDtmf:function(){return Sx},shimGetStats:function(){return xx},shimGetUserMedia:function(){return bx},shimMediaStream:function(){return wx},shimOnTrack:function(){return _x},shimPeerConnection:function(){return Tx},shimSenderReceiverGetStats:function(){return Cx}});var t={};r.r(t),r.d(t,{shimAddTransceiver:function(){return Fx},shimCreateAnswer:function(){return Ux},shimCreateOffer:function(){return zx},shimGetDisplayMedia:function(){return Dx},shimGetParameters:function(){return Bx},shimGetUserMedia:function(){return Ox},shimOnTrack:function(){return Mx},shimPeerConnection:function(){return jx},shimRTCDataChannel:function(){return Nx},shimReceiverGetStats:function(){return Ax},shimRemoveStream:function(){return Lx},shimSenderGetStats:function(){return Ix}});var n={};r.r(n),r.d(n,{shimAudioContext:function(){return Qx},shimCallbacksAPI:function(){return qx},shimConstraints:function(){return $x},shimCreateOfferLegacy:function(){return Yx},shimGetUserMedia:function(){return Hx},shimLocalStreamsAPI:function(){return Vx},shimRTCIceServerUrls:function(){return Gx},shimRemoteStreamsAPI:function(){return Wx},shimTrackEventTransceiver:function(){return Kx}});var a={};r.r(a),r.d(a,{removeExtmapAllowMixed:function(){return aC},shimAddIceCandidateNullOrEmpty:function(){return iC},shimConnectionState:function(){return nC},shimMaxMessageSize:function(){return tC},shimParameterlessSetLocalDescription:function(){return oC},shimRTCIceCandidate:function(){return Zx},shimRTCIceCandidateRelayProtocol:function(){return eC},shimSendThrowTypeError:function(){return rC}});var i={};r.r(i),r.d(i,{Decoder:function(){return yP},Encoder:function(){return gP},PacketType:function(){return mP},protocol:function(){return vP}});var o=r(1250);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function c(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}function u(e,t,r){return(t=c(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function f(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var h=r(2791),m=r.t(h,2);var v=function(){function e(e){var t=this;this._insertTag=function(e){var r;r=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,r),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var r=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{r.insertRule(e,r.cssRules.length)}catch(n){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),g=Math.abs,y=String.fromCharCode,b=Object.assign;function k(e){return e.trim()}function w(e,t,r){return e.replace(t,r)}function _(e,t){return e.indexOf(t)}function S(e,t){return 0|e.charCodeAt(t)}function x(e,t,r){return e.slice(t,r)}function C(e){return e.length}function P(e){return e.length}function R(e,t){return t.push(e),e}var T=1,E=1,O=0,D=0,M=0,j="";function I(e,t,r,n,a,i,o){return{value:e,root:t,parent:r,type:n,props:a,children:i,line:T,column:E,length:o,return:""}}function A(e,t){return b(I("",null,null,"",null,null,0),e,{length:-e.length},t)}function L(){return M=D>0?S(j,--D):0,E--,10===M&&(E=1,T--),M}function N(){return M=D<O?S(j,D++):0,E++,10===M&&(E=1,T++),M}function F(){return S(j,D)}function B(){return D}function z(e,t){return x(j,e,t)}function U(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function V(e){return T=E=1,O=C(j=e),D=0,[]}function W(e){return j="",e}function q(e){return k(z(D-1,G(91===e?e+2:40===e?e+1:e)))}function H(e){for(;(M=F())&&M<33;)N();return U(e)>2||U(M)>3?"":" "}function $(e,t){for(;--t&&N()&&!(M<48||M>102||M>57&&M<65||M>70&&M<97););return z(e,B()+(t<6&&32==F()&&32==N()))}function G(e){for(;N();)switch(M){case e:return D;case 34:case 39:34!==e&&39!==e&&G(M);break;case 40:41===e&&G(e);break;case 92:N()}return D}function K(e,t){for(;N()&&e+M!==57&&(e+M!==84||47!==F()););return"/*"+z(t,D-1)+"*"+y(47===e?e:N())}function Y(e){for(;!U(F());)N();return z(e,D)}var Q="-ms-",J="-moz-",X="-webkit-",Z="comm",ee="rule",te="decl",re="@keyframes";function ne(e,t){for(var r="",n=P(e),a=0;a<n;a++)r+=t(e[a],a,e,t)||"";return r}function ae(e,t,r,n){switch(e.type){case"@import":case te:return e.return=e.return||e.value;case Z:return"";case re:return e.return=e.value+"{"+ne(e.children,n)+"}";case ee:e.value=e.props.join(",")}return C(r=ne(e.children,n))?e.return=e.value+"{"+r+"}":""}function ie(e){return W(oe("",null,null,null,[""],e=V(e),0,[0],e))}function oe(e,t,r,n,a,i,o,s,c){for(var u=0,l=0,d=o,p=0,f=0,h=0,m=1,v=1,g=1,b=0,k="",x=a,P=i,T=n,E=k;v;)switch(h=b,b=N()){case 40:if(108!=h&&58==S(E,d-1)){-1!=_(E+=w(q(b),"&","&\f"),"&\f")&&(g=-1);break}case 34:case 39:case 91:E+=q(b);break;case 9:case 10:case 13:case 32:E+=H(h);break;case 92:E+=$(B()-1,7);continue;case 47:switch(F()){case 42:case 47:R(ce(K(N(),B()),t,r),c);break;default:E+="/"}break;case 123*m:s[u++]=C(E)*g;case 125*m:case 59:case 0:switch(b){case 0:case 125:v=0;case 59+l:f>0&&C(E)-d&&R(f>32?ue(E+";",n,r,d-1):ue(w(E," ","")+";",n,r,d-2),c);break;case 59:E+=";";default:if(R(T=se(E,t,r,u,l,a,s,k,x=[],P=[],d),i),123===b)if(0===l)oe(E,t,T,T,x,i,d,s,P);else switch(99===p&&110===S(E,3)?100:p){case 100:case 109:case 115:oe(e,T,T,n&&R(se(e,T,T,0,0,a,s,k,a,x=[],d),P),a,P,d,s,n?x:P);break;default:oe(E,T,T,T,[""],P,0,s,P)}}u=l=f=0,m=g=1,k=E="",d=o;break;case 58:d=1+C(E),f=h;default:if(m<1)if(123==b)--m;else if(125==b&&0==m++&&125==L())continue;switch(E+=y(b),b*m){case 38:g=l>0?1:(E+="\f",-1);break;case 44:s[u++]=(C(E)-1)*g,g=1;break;case 64:45===F()&&(E+=q(N())),p=F(),l=d=C(k=E+=Y(B())),b++;break;case 45:45===h&&2==C(E)&&(m=0)}}return i}function se(e,t,r,n,a,i,o,s,c,u,l){for(var d=a-1,p=0===a?i:[""],f=P(p),h=0,m=0,v=0;h<n;++h)for(var y=0,b=x(e,d+1,d=g(m=o[h])),_=e;y<f;++y)(_=k(m>0?p[y]+" "+b:w(b,/&\f/g,p[y])))&&(c[v++]=_);return I(e,t,r,0===a?ee:s,c,u,l)}function ce(e,t,r){return I(e,t,r,Z,y(M),x(e,2,-2),0)}function ue(e,t,r,n){return I(e,t,r,te,x(e,0,n),x(e,n+1,-1),n)}var le=function(e,t,r){for(var n=0,a=0;n=a,a=F(),38===n&&12===a&&(t[r]=1),!U(a);)N();return z(e,D)},de=function(e,t){return W(function(e,t){var r=-1,n=44;do{switch(U(n)){case 0:38===n&&12===F()&&(t[r]=1),e[r]+=le(D-1,t,r);break;case 2:e[r]+=q(n);break;case 4:if(44===n){e[++r]=58===F()?"&\f":"",t[r]=e[r].length;break}default:e[r]+=y(n)}}while(n=N());return e}(V(e),t))},pe=new WeakMap,fe=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,r=e.parent,n=e.column===r.column&&e.line===r.line;"rule"!==r.type;)if(!(r=r.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||pe.get(r))&&!n){pe.set(e,!0);for(var a=[],i=de(t,a),o=r.props,s=0,c=0;s<i.length;s++)for(var u=0;u<o.length;u++,c++)e.props[c]=a[s]?i[s].replace(/&\f/g,o[u]):o[u]+" "+i[s]}}},he=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function me(e,t){switch(function(e,t){return 45^S(e,0)?(((t<<2^S(e,0))<<2^S(e,1))<<2^S(e,2))<<2^S(e,3):0}(e,t)){case 5103:return X+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return X+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return X+e+J+e+Q+e+e;case 6828:case 4268:return X+e+Q+e+e;case 6165:return X+e+Q+"flex-"+e+e;case 5187:return X+e+w(e,/(\w+).+(:[^]+)/,X+"box-$1$2"+Q+"flex-$1$2")+e;case 5443:return X+e+Q+"flex-item-"+w(e,/flex-|-self/,"")+e;case 4675:return X+e+Q+"flex-line-pack"+w(e,/align-content|flex-|-self/,"")+e;case 5548:return X+e+Q+w(e,"shrink","negative")+e;case 5292:return X+e+Q+w(e,"basis","preferred-size")+e;case 6060:return X+"box-"+w(e,"-grow","")+X+e+Q+w(e,"grow","positive")+e;case 4554:return X+w(e,/([^-])(transform)/g,"$1"+X+"$2")+e;case 6187:return w(w(w(e,/(zoom-|grab)/,X+"$1"),/(image-set)/,X+"$1"),e,"")+e;case 5495:case 3959:return w(e,/(image-set\([^]*)/,X+"$1$`$1");case 4968:return w(w(e,/(.+:)(flex-)?(.*)/,X+"box-pack:$3"+Q+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+X+e+e;case 4095:case 3583:case 4068:case 2532:return w(e,/(.+)-inline(.+)/,X+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(C(e)-1-t>6)switch(S(e,t+1)){case 109:if(45!==S(e,t+4))break;case 102:return w(e,/(.+:)(.+)-([^]+)/,"$1"+X+"$2-$3$1"+J+(108==S(e,t+3)?"$3":"$2-$3"))+e;case 115:return~_(e,"stretch")?me(w(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==S(e,t+1))break;case 6444:switch(S(e,C(e)-3-(~_(e,"!important")&&10))){case 107:return w(e,":",":"+X)+e;case 101:return w(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+X+(45===S(e,14)?"inline-":"")+"box$3$1"+X+"$2$3$1"+Q+"$2box$3")+e}break;case 5936:switch(S(e,t+11)){case 114:return X+e+Q+w(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return X+e+Q+w(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return X+e+Q+w(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return X+e+Q+e+e}return e}var ve=[function(e,t,r,n){if(e.length>-1&&!e.return)switch(e.type){case te:e.return=me(e.value,e.length);break;case re:return ne([A(e,{value:w(e.value,"@","@"+X)})],n);case ee:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ne([A(e,{props:[w(t,/:(read-\w+)/,":"+J+"$1")]})],n);case"::placeholder":return ne([A(e,{props:[w(t,/:(plac\w+)/,":"+X+"input-$1")]}),A(e,{props:[w(t,/:(plac\w+)/,":"+J+"$1")]}),A(e,{props:[w(t,/:(plac\w+)/,Q+"input-$1")]})],n)}return""}))}}],ge=function(e){var t=e.key;if("css"===t){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var n=e.stylisPlugins||ve;var a,i,o={},s=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),r=1;r<t.length;r++)o[t[r]]=!0;s.push(e)}));var c,u,l=[ae,(u=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&u(e)})],d=function(e){var t=P(e);return function(r,n,a,i){for(var o="",s=0;s<t;s++)o+=e[s](r,n,a,i)||"";return o}}([fe,he].concat(n,l));i=function(e,t,r,n){c=r,function(e){ne(ie(e),d)}(e?e+"{"+t.styles+"}":t.styles),n&&(p.inserted[t.name]=!0)};var p={key:t,sheet:new v({key:t,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:i};return p.sheet.hydrate(s),p};function ye(){return ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ye.apply(this,arguments)}var be=function(e){var t=new WeakMap;return function(r){if(t.has(r))return t.get(r);var n=e(r);return t.set(r,n),n}};var ke=function(e){for(var t,r=0,n=0,a=e.length;a>=4;++n,a-=4)t=1540483477*(65535&(t=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))+(59797*(t>>>16)<<16),r=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&r)+(59797*(r>>>16)<<16);switch(a){case 3:r^=(255&e.charCodeAt(n+2))<<16;case 2:r^=(255&e.charCodeAt(n+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(n)))+(59797*(r>>>16)<<16)}return(((r=1540483477*(65535&(r^=r>>>13))+(59797*(r>>>16)<<16))^r>>>15)>>>0).toString(36)},we={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var _e=function(e){var t=Object.create(null);return function(r){return void 0===t[r]&&(t[r]=e(r)),t[r]}},Se=/[A-Z]|^ms/g,xe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Ce=function(e){return 45===e.charCodeAt(1)},Pe=function(e){return null!=e&&"boolean"!==typeof e},Re=_e((function(e){return Ce(e)?e:e.replace(Se,"-$&").toLowerCase()})),Te=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(xe,(function(e,t,r){return Oe={name:t,styles:r,next:Oe},t}))}return 1===we[e]||Ce(e)||"number"!==typeof t||0===t?t:t+"px"};function Ee(e,t,r){if(null==r)return"";if(void 0!==r.__emotion_styles)return r;switch(typeof r){case"boolean":return"";case"object":if(1===r.anim)return Oe={name:r.name,styles:r.styles,next:Oe},r.name;if(void 0!==r.styles){var n=r.next;if(void 0!==n)for(;void 0!==n;)Oe={name:n.name,styles:n.styles,next:Oe},n=n.next;return r.styles+";"}return function(e,t,r){var n="";if(Array.isArray(r))for(var a=0;a<r.length;a++)n+=Ee(e,t,r[a])+";";else for(var i in r){var o=r[i];if("object"!==typeof o)null!=t&&void 0!==t[o]?n+=i+"{"+t[o]+"}":Pe(o)&&(n+=Re(i)+":"+Te(i,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var s=Ee(e,t,o);switch(i){case"animation":case"animationName":n+=Re(i)+":"+s+";";break;default:n+=i+"{"+s+"}"}}else for(var c=0;c<o.length;c++)Pe(o[c])&&(n+=Re(i)+":"+Te(i,o[c])+";")}return n}(e,t,r);case"function":if(void 0!==e){var a=Oe,i=r(e);return Oe=a,Ee(e,t,i)}}if(null==t)return r;var o=t[r];return void 0!==o?o:r}var Oe,De=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var Me=function(e,t,r){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var n=!0,a="";Oe=void 0;var i=e[0];null==i||void 0===i.raw?(n=!1,a+=Ee(r,t,i)):a+=i[0];for(var o=1;o<e.length;o++)a+=Ee(r,t,e[o]),n&&(a+=i[o]);De.lastIndex=0;for(var s,c="";null!==(s=De.exec(a));)c+="-"+s[1];return{name:ke(a)+c,styles:a,next:Oe}},je=!!m.useInsertionEffect&&m.useInsertionEffect,Ie=je||function(e){return e()},Ae=je||h.useLayoutEffect,Le=(0,h.createContext)("undefined"!==typeof HTMLElement?ge({key:"css"}):null);Le.Provider;var Ne=function(e){return(0,h.forwardRef)((function(t,r){var n=(0,h.useContext)(Le);return e(t,n,r)}))},Fe=(0,h.createContext)({});var Be=be((function(e){return be((function(t){return function(e,t){return"function"===typeof t?t(e):ye({},e,t)}(e,t)}))})),ze=function(e){var t=(0,h.useContext)(Fe);return e.theme!==t&&(t=Be(t)(e.theme)),(0,h.createElement)(Fe.Provider,{value:t},e.children)};r(2110);var Ue=function(e,t,r){var n=e.key+"-"+t.name;!1===r&&void 0===e.registered[n]&&(e.registered[n]=t.styles)},Ve=function(e,t,r){Ue(e,t,r);var n=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var a=t;do{e.insert(t===a?"."+n:"",a,e.sheet,!0);a=a.next}while(void 0!==a)}},We=Ne((function(e,t){var r=e.styles,n=Me([r],void 0,(0,h.useContext)(Fe)),a=(0,h.useRef)();return Ae((function(){var e=t.key+"-global",r=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),i=!1,o=document.querySelector('style[data-emotion="'+e+" "+n.name+'"]');return t.sheet.tags.length&&(r.before=t.sheet.tags[0]),null!==o&&(i=!0,o.setAttribute("data-emotion",e),r.hydrate([o])),a.current=[r,i],function(){r.flush()}}),[t]),Ae((function(){var e=a.current,r=e[0];if(e[1])e[1]=!1;else{if(void 0!==n.next&&Ve(t,n.next,!0),r.tags.length){var i=r.tags[r.tags.length-1].nextElementSibling;r.before=i,r.flush()}t.insert("",n,r,!1)}}),[t,n.name]),null}));function qe(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Me(t)}var He,$e,Ge=r(184),Ke=String.raw,Ye=Ke(He||(He=f(["\n  :root,\n  :host {\n    --chakra-vh: 100vh;\n  }\n\n  @supports (height: -webkit-fill-available) {\n    :root,\n    :host {\n      --chakra-vh: -webkit-fill-available;\n    }\n  }\n\n  @supports (height: -moz-fill-available) {\n    :root,\n    :host {\n      --chakra-vh: -moz-fill-available;\n    }\n  }\n\n  @supports (height: 100dvh) {\n    :root,\n    :host {\n      --chakra-vh: 100dvh;\n    }\n  }\n"]))),Qe=function(){return(0,Ge.jsx)(We,{styles:Ye})},Je=function(e){var t=e.scope,r=void 0===t?"":t;return(0,Ge.jsx)(We,{styles:Ke($e||($e=f(['\n      html {\n        line-height: 1.5;\n        -webkit-text-size-adjust: 100%;\n        font-family: system-ui, sans-serif;\n        -webkit-font-smoothing: antialiased;\n        text-rendering: optimizeLegibility;\n        -moz-osx-font-smoothing: grayscale;\n        touch-action: manipulation;\n      }\n\n      body {\n        position: relative;\n        min-height: 100%;\n        margin: 0;\n        font-feature-settings: "kern";\n      }\n\n      '," :where(*, *::before, *::after) {\n        border-width: 0;\n        border-style: solid;\n        box-sizing: border-box;\n        word-wrap: break-word;\n      }\n\n      main {\n        display: block;\n      }\n\n      "," hr {\n        border-top-width: 1px;\n        box-sizing: content-box;\n        height: 0;\n        overflow: visible;\n      }\n\n      "," :where(pre, code, kbd,samp) {\n        font-family: SFMono-Regular, Menlo, Monaco, Consolas, monospace;\n        font-size: 1em;\n      }\n\n      "," a {\n        background-color: transparent;\n        color: inherit;\n        text-decoration: inherit;\n      }\n\n      "," abbr[title] {\n        border-bottom: none;\n        text-decoration: underline;\n        -webkit-text-decoration: underline dotted;\n        text-decoration: underline dotted;\n      }\n\n      "," :where(b, strong) {\n        font-weight: bold;\n      }\n\n      "," small {\n        font-size: 80%;\n      }\n\n      "," :where(sub,sup) {\n        font-size: 75%;\n        line-height: 0;\n        position: relative;\n        vertical-align: baseline;\n      }\n\n      "," sub {\n        bottom: -0.25em;\n      }\n\n      "," sup {\n        top: -0.5em;\n      }\n\n      "," img {\n        border-style: none;\n      }\n\n      "," :where(button, input, optgroup, select, textarea) {\n        font-family: inherit;\n        font-size: 100%;\n        line-height: 1.15;\n        margin: 0;\n      }\n\n      "," :where(button, input) {\n        overflow: visible;\n      }\n\n      "," :where(button, select) {\n        text-transform: none;\n      }\n\n      ",' :where(\n          button::-moz-focus-inner,\n          [type="button"]::-moz-focus-inner,\n          [type="reset"]::-moz-focus-inner,\n          [type="submit"]::-moz-focus-inner\n        ) {\n        border-style: none;\n        padding: 0;\n      }\n\n      '," fieldset {\n        padding: 0.35em 0.75em 0.625em;\n      }\n\n      "," legend {\n        box-sizing: border-box;\n        color: inherit;\n        display: table;\n        max-width: 100%;\n        padding: 0;\n        white-space: normal;\n      }\n\n      "," progress {\n        vertical-align: baseline;\n      }\n\n      "," textarea {\n        overflow: auto;\n      }\n\n      ",' :where([type="checkbox"], [type="radio"]) {\n        box-sizing: border-box;\n        padding: 0;\n      }\n\n      ',' input[type="number"]::-webkit-inner-spin-button,\n      ',' input[type="number"]::-webkit-outer-spin-button {\n        -webkit-appearance: none !important;\n      }\n\n      ',' input[type="number"] {\n        -moz-appearance: textfield;\n      }\n\n      ',' input[type="search"] {\n        -webkit-appearance: textfield;\n        outline-offset: -2px;\n      }\n\n      ',' input[type="search"]::-webkit-search-decoration {\n        -webkit-appearance: none !important;\n      }\n\n      '," ::-webkit-file-upload-button {\n        -webkit-appearance: button;\n        font: inherit;\n      }\n\n      "," details {\n        display: block;\n      }\n\n      "," summary {\n        display: list-item;\n      }\n\n      template {\n        display: none;\n      }\n\n      [hidden] {\n        display: none !important;\n      }\n\n      "," :where(\n          blockquote,\n          dl,\n          dd,\n          h1,\n          h2,\n          h3,\n          h4,\n          h5,\n          h6,\n          hr,\n          figure,\n          p,\n          pre\n        ) {\n        margin: 0;\n      }\n\n      "," button {\n        background: transparent;\n        padding: 0;\n      }\n\n      "," fieldset {\n        margin: 0;\n        padding: 0;\n      }\n\n      "," :where(ol, ul) {\n        margin: 0;\n        padding: 0;\n      }\n\n      "," textarea {\n        resize: vertical;\n      }\n\n      ",' :where(button, [role="button"]) {\n        cursor: pointer;\n      }\n\n      '," button::-moz-focus-inner {\n        border: 0 !important;\n      }\n\n      "," table {\n        border-collapse: collapse;\n      }\n\n      "," :where(h1, h2, h3, h4, h5, h6) {\n        font-size: inherit;\n        font-weight: inherit;\n      }\n\n      "," :where(button, input, optgroup, select, textarea) {\n        padding: 0;\n        line-height: inherit;\n        color: inherit;\n      }\n\n      "," :where(img, svg, video, canvas, audio, iframe, embed, object) {\n        display: block;\n      }\n\n      "," :where(img, video) {\n        max-width: 100%;\n        height: auto;\n      }\n\n      [data-js-focus-visible]\n        :focus:not([data-focus-visible-added]):not(\n          [data-focus-visible-disabled]\n        ) {\n        outline: none;\n        box-shadow: none;\n      }\n\n      "," select::-ms-expand {\n        display: none;\n      }\n\n      ","\n    "])),r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,Ye)})};function Xe(e){if(Array.isArray(e))return e}function Ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function et(e,t){if(e){if("string"===typeof e)return Ze(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ze(e,t):void 0}}function tt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function rt(e,t){return Xe(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(l){u=!0,a=l}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}(e,t)||et(e,t)||tt()}function nt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,r=e.strict,n=void 0===r||r,a=e.hookName,i=void 0===a?"useContext":a,o=e.providerName,s=void 0===o?"Provider":o,c=e.errorMessage,u=e.defaultValue,l=(0,h.createContext)(u);return l.displayName=t,[l.Provider,function e(){var t,r,a=(0,h.useContext)(l);if(!a&&n){var o=new Error(null!=c?c:(r=s,"".concat(i," returned `undefined`. Seems you forgot to wrap component within ").concat(r)));throw o.name="ContextError",null==(t=Error.captureStackTrace)||t.call(Error,o,e),o}return a},l]}var at=rt(nt({strict:!1,name:"PortalManagerContext"}),2),it=at[0],ot=at[1];function st(e){var t=e.children,r=e.zIndex;return(0,Ge.jsx)(it,{value:{zIndex:r},children:t})}st.displayName="PortalManager";var ct=(0,h.createContext)({});function ut(){var e=(0,h.useContext)(ct);if(void 0===e)throw new Error("useColorMode must be used within a ColorModeProvider");return e}function lt(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=et(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function dt(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function pt(e){return function(e){if(Array.isArray(e))return Ze(e)}(e)||dt(e)||et(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ft(e){return Xe(e)||dt(e)||et(e)||tt()}ct.displayName="ColorModeContext";var ht=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter(Boolean).join(" ")};function mt(e){var t=typeof e;return null!=e&&("object"===t||"function"===t)&&!Array.isArray(e)}function vt(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return gt(e)?e.apply(void 0,r):e}var gt=function(e){return"function"===typeof e},yt=function(e){return e?"":void 0},bt=function(e){return!!e||void 0};function kt(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){t.some((function(t){return null==t||t(e),null==e?void 0:e.defaultPrevented}))}}var wt=r(6198),_t=["__cssMap","__cssVars","__breakpoints"],St=function(e){return"string"===typeof e?e.replace(/!(important)?$/,"").trim():e},xt=function(e,t){return function(r){var n=String(t),a=function(e){return/!(important)?$/.test(e)}(n),i=St(n),o=e?"".concat(e,".").concat(i):i,s=mt(r.__cssMap)&&o in r.__cssMap?r.__cssMap[o].varRef:t;return s=St(s),a?"".concat(s," !important"):s}};function Ct(e){var t=e.scale,r=e.transform,n=e.compose;return function(e,a){var i,o=xt(t,e)(a),s=null!=(i=null==r?void 0:r(o,a))?i:o;return n&&(s=n(s,a)),s}}var Pt=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return t.reduce((function(e,t){return t(e)}),e)}};function Rt(e,t){return function(r){var n={property:r,scale:e};return n.transform=Ct({scale:e,transform:t}),n}}var Tt=function(e){var t=e.rtl,r=e.ltr;return function(e){return"rtl"===e.direction?t:r}};var Et=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];var Ot={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},Dt={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};var Mt={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},jt={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},It=new Set(Object.values(jt)),At=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),Lt=function(e){return e.trim()};var Nt=function(e){return"string"===typeof e&&e.includes("(")&&e.includes(")")};var Ft=function(e){return function(t){return"".concat(e,"(").concat(t,")")}},Bt={filter:function(e){return"auto"!==e?e:Ot},backdropFilter:function(e){return"auto"!==e?e:Dt},ring:function(e){return function(e){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":e,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}(Bt.px(e))},bgClip:function(e){return"text"===e?{color:"transparent",backgroundClip:"text"}:{backgroundClip:e}},transform:function(e){return"auto"===e?["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))"].concat(Et).join(" "):"auto-gpu"===e?["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)"].concat(Et).join(" "):e},vh:function(e){return"$100vh"===e?"var(--chakra-vh)":e},px:function(e){if(null==e)return e;var t=function(e){var t=parseFloat(e.toString()),r=e.toString().replace(String(t),"");return{unitless:!r,value:t,unit:r}}(e);return t.unitless||"number"===typeof e?"".concat(e,"px"):e},fraction:function(e){return"number"!==typeof e||e>1?e:"".concat(100*e,"%")},float:function(e,t){return"rtl"===t.direction?{left:"right",right:"left"}[e]:e},degree:function(e){if(function(e){return/^var\(--.+\)$/.test(e)}(e)||null==e)return e;var t="string"===typeof e&&!e.endsWith("deg");return"number"===typeof e||t?"".concat(e,"deg"):e},gradient:function(e,t){return function(e,t){if(null==e||At.has(e))return e;if(!Nt(e)&&!At.has(e))return"url('".concat(e,"')");var r=/(^[a-z-A-Z]+)\((.*)\)/g.exec(e),n=null==r?void 0:r[1],a=null==r?void 0:r[2];if(!n||!a)return e;var i=n.includes("-gradient")?n:"".concat(n,"-gradient"),o=ft(a.split(",").map(Lt).filter(Boolean)),s=o[0],c=o.slice(1);if(0===(null==c?void 0:c.length))return e;var u=s in jt?jt[s]:s;c.unshift(u);var l=c.map((function(e){if(It.has(e))return e;var r=e.indexOf(" "),n=rt(-1!==r?[e.substr(0,r),e.substr(r+1)]:[e],2),a=n[0],i=n[1],o=Nt(i)?i:i&&i.split(" "),s="colors.".concat(a),c=s in t.__cssMap?t.__cssMap[s].varRef:a;return o?[c].concat(pt(Array.isArray(o)?o:[o])).join(" "):c}));return"".concat(i,"(").concat(l.join(", "),")")}(e,null!=t?t:{})},blur:Ft("blur"),opacity:Ft("opacity"),brightness:Ft("brightness"),contrast:Ft("contrast"),dropShadow:Ft("drop-shadow"),grayscale:Ft("grayscale"),hueRotate:Ft("hue-rotate"),invert:Ft("invert"),saturate:Ft("saturate"),sepia:Ft("sepia"),bgImage:function(e){return null==e||Nt(e)||At.has(e)?e:"url(".concat(e,")")},outline:function(e){var t="0"===String(e)||"none"===String(e);return null!==e&&t?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:e}},flexDirection:function(e){var t,r=null!=(t=Mt[e])?t:{},n=r.space,a=r.divide,i={flexDirection:e};return n&&(i[n]=1),a&&(i[a]=1),i}},zt={borderWidths:Rt("borderWidths"),borderStyles:Rt("borderStyles"),colors:Rt("colors"),borders:Rt("borders"),gradients:Rt("gradients",Bt.gradient),radii:Rt("radii",Bt.px),space:Rt("space",Pt(Bt.vh,Bt.px)),spaceT:Rt("space",Pt(Bt.vh,Bt.px)),degreeT:function(e){return{property:e,transform:Bt.degree}},prop:function(e,t,r){return d({property:e,scale:t},t&&{transform:Ct({scale:t,transform:r})})},propT:function(e,t){return{property:e,transform:t}},sizes:Rt("sizes",Pt(Bt.vh,Bt.px)),sizesT:Rt("sizes",Pt(Bt.vh,Bt.fraction)),shadows:Rt("shadows"),logical:function(e){var t=e.property,r=e.scale,n=e.transform;return{scale:r,property:Tt(t),transform:r?Ct({scale:r,compose:n}):n}},blur:Rt("blur",Bt.blur)},Ut={background:zt.colors("background"),backgroundColor:zt.colors("backgroundColor"),backgroundImage:zt.gradients("backgroundImage"),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:Bt.bgClip},bgSize:zt.prop("backgroundSize"),bgPosition:zt.prop("backgroundPosition"),bg:zt.colors("background"),bgColor:zt.colors("backgroundColor"),bgPos:zt.prop("backgroundPosition"),bgRepeat:zt.prop("backgroundRepeat"),bgAttachment:zt.prop("backgroundAttachment"),bgGradient:zt.gradients("backgroundImage"),bgClip:{transform:Bt.bgClip}};Object.assign(Ut,{bgImage:Ut.backgroundImage,bgImg:Ut.backgroundImage});var Vt={border:zt.borders("border"),borderWidth:zt.borderWidths("borderWidth"),borderStyle:zt.borderStyles("borderStyle"),borderColor:zt.colors("borderColor"),borderRadius:zt.radii("borderRadius"),borderTop:zt.borders("borderTop"),borderBlockStart:zt.borders("borderBlockStart"),borderTopLeftRadius:zt.radii("borderTopLeftRadius"),borderStartStartRadius:zt.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:zt.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:zt.radii("borderTopRightRadius"),borderStartEndRadius:zt.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:zt.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:zt.borders("borderRight"),borderInlineEnd:zt.borders("borderInlineEnd"),borderBottom:zt.borders("borderBottom"),borderBlockEnd:zt.borders("borderBlockEnd"),borderBottomLeftRadius:zt.radii("borderBottomLeftRadius"),borderBottomRightRadius:zt.radii("borderBottomRightRadius"),borderLeft:zt.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:zt.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:zt.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:zt.borders(["borderLeft","borderRight"]),borderInline:zt.borders("borderInline"),borderY:zt.borders(["borderTop","borderBottom"]),borderBlock:zt.borders("borderBlock"),borderTopWidth:zt.borderWidths("borderTopWidth"),borderBlockStartWidth:zt.borderWidths("borderBlockStartWidth"),borderTopColor:zt.colors("borderTopColor"),borderBlockStartColor:zt.colors("borderBlockStartColor"),borderTopStyle:zt.borderStyles("borderTopStyle"),borderBlockStartStyle:zt.borderStyles("borderBlockStartStyle"),borderBottomWidth:zt.borderWidths("borderBottomWidth"),borderBlockEndWidth:zt.borderWidths("borderBlockEndWidth"),borderBottomColor:zt.colors("borderBottomColor"),borderBlockEndColor:zt.colors("borderBlockEndColor"),borderBottomStyle:zt.borderStyles("borderBottomStyle"),borderBlockEndStyle:zt.borderStyles("borderBlockEndStyle"),borderLeftWidth:zt.borderWidths("borderLeftWidth"),borderInlineStartWidth:zt.borderWidths("borderInlineStartWidth"),borderLeftColor:zt.colors("borderLeftColor"),borderInlineStartColor:zt.colors("borderInlineStartColor"),borderLeftStyle:zt.borderStyles("borderLeftStyle"),borderInlineStartStyle:zt.borderStyles("borderInlineStartStyle"),borderRightWidth:zt.borderWidths("borderRightWidth"),borderInlineEndWidth:zt.borderWidths("borderInlineEndWidth"),borderRightColor:zt.colors("borderRightColor"),borderInlineEndColor:zt.colors("borderInlineEndColor"),borderRightStyle:zt.borderStyles("borderRightStyle"),borderInlineEndStyle:zt.borderStyles("borderInlineEndStyle"),borderTopRadius:zt.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:zt.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:zt.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:zt.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(Vt,{rounded:Vt.borderRadius,roundedTop:Vt.borderTopRadius,roundedTopLeft:Vt.borderTopLeftRadius,roundedTopRight:Vt.borderTopRightRadius,roundedTopStart:Vt.borderStartStartRadius,roundedTopEnd:Vt.borderStartEndRadius,roundedBottom:Vt.borderBottomRadius,roundedBottomLeft:Vt.borderBottomLeftRadius,roundedBottomRight:Vt.borderBottomRightRadius,roundedBottomStart:Vt.borderEndStartRadius,roundedBottomEnd:Vt.borderEndEndRadius,roundedLeft:Vt.borderLeftRadius,roundedRight:Vt.borderRightRadius,roundedStart:Vt.borderInlineStartRadius,roundedEnd:Vt.borderInlineEndRadius,borderStart:Vt.borderInlineStart,borderEnd:Vt.borderInlineEnd,borderTopStartRadius:Vt.borderStartStartRadius,borderTopEndRadius:Vt.borderStartEndRadius,borderBottomStartRadius:Vt.borderEndStartRadius,borderBottomEndRadius:Vt.borderEndEndRadius,borderStartRadius:Vt.borderInlineStartRadius,borderEndRadius:Vt.borderInlineEndRadius,borderStartWidth:Vt.borderInlineStartWidth,borderEndWidth:Vt.borderInlineEndWidth,borderStartColor:Vt.borderInlineStartColor,borderEndColor:Vt.borderInlineEndColor,borderStartStyle:Vt.borderInlineStartStyle,borderEndStyle:Vt.borderInlineEndStyle});var Wt={color:zt.colors("color"),textColor:zt.colors("color"),fill:zt.colors("fill"),stroke:zt.colors("stroke")},qt={boxShadow:zt.shadows("boxShadow"),mixBlendMode:!0,blendMode:zt.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:zt.prop("backgroundBlendMode"),opacity:!0};Object.assign(qt,{shadow:qt.boxShadow});var Ht={filter:{transform:Bt.filter},blur:zt.blur("--chakra-blur"),brightness:zt.propT("--chakra-brightness",Bt.brightness),contrast:zt.propT("--chakra-contrast",Bt.contrast),hueRotate:zt.degreeT("--chakra-hue-rotate"),invert:zt.propT("--chakra-invert",Bt.invert),saturate:zt.propT("--chakra-saturate",Bt.saturate),dropShadow:zt.propT("--chakra-drop-shadow",Bt.dropShadow),backdropFilter:{transform:Bt.backdropFilter},backdropBlur:zt.blur("--chakra-backdrop-blur"),backdropBrightness:zt.propT("--chakra-backdrop-brightness",Bt.brightness),backdropContrast:zt.propT("--chakra-backdrop-contrast",Bt.contrast),backdropHueRotate:zt.degreeT("--chakra-backdrop-hue-rotate"),backdropInvert:zt.propT("--chakra-backdrop-invert",Bt.invert),backdropSaturate:zt.propT("--chakra-backdrop-saturate",Bt.saturate)},$t={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:Bt.flexDirection},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:zt.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:zt.space("gap"),rowGap:zt.space("rowGap"),columnGap:zt.space("columnGap")};Object.assign($t,{flexDir:$t.flexDirection});var Gt={gridGap:zt.space("gridGap"),gridColumnGap:zt.space("gridColumnGap"),gridRowGap:zt.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0},Kt={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:Bt.outline},outlineOffset:!0,outlineColor:zt.colors("outlineColor")},Yt={width:zt.sizesT("width"),inlineSize:zt.sizesT("inlineSize"),height:zt.sizes("height"),blockSize:zt.sizes("blockSize"),boxSize:zt.sizes(["width","height"]),minWidth:zt.sizes("minWidth"),minInlineSize:zt.sizes("minInlineSize"),minHeight:zt.sizes("minHeight"),minBlockSize:zt.sizes("minBlockSize"),maxWidth:zt.sizes("maxWidth"),maxInlineSize:zt.sizes("maxInlineSize"),maxHeight:zt.sizes("maxHeight"),maxBlockSize:zt.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,hideFrom:{scale:"breakpoints",transform:function(e,t){var r,n,a,i=null!=(a=null==(n=null==(r=t.__breakpoints)?void 0:r.get(e))?void 0:n.minW)?a:e;return u({},"@media screen and (min-width: ".concat(i,")"),{display:"none"})}},hideBelow:{scale:"breakpoints",transform:function(e,t){var r,n,a,i=null!=(a=null==(n=null==(r=t.__breakpoints)?void 0:r.get(e))?void 0:n._minW)?a:e;return u({},"@media screen and (max-width: ".concat(i,")"),{display:"none"})}},verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:zt.propT("float",Bt.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(Yt,{w:Yt.width,h:Yt.height,minW:Yt.minWidth,maxW:Yt.maxWidth,minH:Yt.minHeight,maxH:Yt.maxHeight,overscroll:Yt.overscrollBehavior,overscrollX:Yt.overscrollBehaviorX,overscrollY:Yt.overscrollBehaviorY});var Qt={listStyleType:!0,listStylePosition:!0,listStylePos:zt.prop("listStylePosition"),listStyleImage:!0,listStyleImg:zt.prop("listStyleImage")};var Jt=function(e){var t=new WeakMap;return function(r,n,a,i){if("undefined"===typeof r)return e(r,n,a);t.has(r)||t.set(r,new Map);var o=t.get(r);if(o.has(n))return o.get(n);var s=e(r,n,a,i);return o.set(n,s),s}}((function(e,t,r,n){var a="string"===typeof t?t.split("."):[t];for(n=0;n<a.length&&e;n+=1)e=e[a[n]];return void 0===e?r:e})),Xt={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},Zt={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},er=function(e,t,r){var n={},a=Jt(e,t,{});for(var i in a){i in r&&null!=r[i]||(n[i]=a[i])}return n},tr={srOnly:{transform:function(e){return!0===e?Xt:"focusable"===e?Zt:{}}},layerStyle:{processResult:!0,transform:function(e,t,r){return er(t,"layerStyles.".concat(e),r)}},textStyle:{processResult:!0,transform:function(e,t,r){return er(t,"textStyles.".concat(e),r)}},apply:{processResult:!0,transform:function(e,t,r){return er(t,e,r)}}},rr={position:!0,pos:zt.prop("position"),zIndex:zt.prop("zIndex","zIndices"),inset:zt.spaceT("inset"),insetX:zt.spaceT(["left","right"]),insetInline:zt.spaceT("insetInline"),insetY:zt.spaceT(["top","bottom"]),insetBlock:zt.spaceT("insetBlock"),top:zt.spaceT("top"),insetBlockStart:zt.spaceT("insetBlockStart"),bottom:zt.spaceT("bottom"),insetBlockEnd:zt.spaceT("insetBlockEnd"),left:zt.spaceT("left"),insetInlineStart:zt.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:zt.spaceT("right"),insetInlineEnd:zt.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(rr,{insetStart:rr.insetInlineStart,insetEnd:rr.insetInlineEnd});var nr={ring:{transform:Bt.ring},ringColor:zt.colors("--chakra-ring-color"),ringOffset:zt.prop("--chakra-ring-offset-width"),ringOffsetColor:zt.colors("--chakra-ring-offset-color"),ringInset:zt.prop("--chakra-ring-inset")},ar={margin:zt.spaceT("margin"),marginTop:zt.spaceT("marginTop"),marginBlockStart:zt.spaceT("marginBlockStart"),marginRight:zt.spaceT("marginRight"),marginInlineEnd:zt.spaceT("marginInlineEnd"),marginBottom:zt.spaceT("marginBottom"),marginBlockEnd:zt.spaceT("marginBlockEnd"),marginLeft:zt.spaceT("marginLeft"),marginInlineStart:zt.spaceT("marginInlineStart"),marginX:zt.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:zt.spaceT("marginInline"),marginY:zt.spaceT(["marginTop","marginBottom"]),marginBlock:zt.spaceT("marginBlock"),padding:zt.space("padding"),paddingTop:zt.space("paddingTop"),paddingBlockStart:zt.space("paddingBlockStart"),paddingRight:zt.space("paddingRight"),paddingBottom:zt.space("paddingBottom"),paddingBlockEnd:zt.space("paddingBlockEnd"),paddingLeft:zt.space("paddingLeft"),paddingInlineStart:zt.space("paddingInlineStart"),paddingInlineEnd:zt.space("paddingInlineEnd"),paddingX:zt.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:zt.space("paddingInline"),paddingY:zt.space(["paddingTop","paddingBottom"]),paddingBlock:zt.space("paddingBlock")};Object.assign(ar,{m:ar.margin,mt:ar.marginTop,mr:ar.marginRight,me:ar.marginInlineEnd,marginEnd:ar.marginInlineEnd,mb:ar.marginBottom,ml:ar.marginLeft,ms:ar.marginInlineStart,marginStart:ar.marginInlineStart,mx:ar.marginX,my:ar.marginY,p:ar.padding,pt:ar.paddingTop,py:ar.paddingY,px:ar.paddingX,pb:ar.paddingBottom,pl:ar.paddingLeft,ps:ar.paddingInlineStart,paddingStart:ar.paddingInlineStart,pr:ar.paddingRight,pe:ar.paddingInlineEnd,paddingEnd:ar.paddingInlineEnd});var ir={textDecorationColor:zt.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:zt.shadows("textShadow")},or={clipPath:!0,transform:zt.propT("transform",Bt.transform),transformOrigin:!0,translateX:zt.spaceT("--chakra-translate-x"),translateY:zt.spaceT("--chakra-translate-y"),skewX:zt.degreeT("--chakra-skew-x"),skewY:zt.degreeT("--chakra-skew-y"),scaleX:zt.prop("--chakra-scale-x"),scaleY:zt.prop("--chakra-scale-y"),scale:zt.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:zt.degreeT("--chakra-rotate")},sr={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:zt.prop("transitionDuration","transition.duration"),transitionProperty:zt.prop("transitionProperty","transition.property"),transitionTimingFunction:zt.prop("transitionTimingFunction","transition.easing")},cr={fontFamily:zt.prop("fontFamily","fonts"),fontSize:zt.prop("fontSize","fontSizes",Bt.px),fontWeight:zt.prop("fontWeight","fontWeights"),lineHeight:zt.prop("lineHeight","lineHeights"),letterSpacing:zt.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform:function(e){if(!0===e)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},ur={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:zt.spaceT("scrollMargin"),scrollMarginTop:zt.spaceT("scrollMarginTop"),scrollMarginBottom:zt.spaceT("scrollMarginBottom"),scrollMarginLeft:zt.spaceT("scrollMarginLeft"),scrollMarginRight:zt.spaceT("scrollMarginRight"),scrollMarginX:zt.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:zt.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:zt.spaceT("scrollPadding"),scrollPaddingTop:zt.spaceT("scrollPaddingTop"),scrollPaddingBottom:zt.spaceT("scrollPaddingBottom"),scrollPaddingLeft:zt.spaceT("scrollPaddingLeft"),scrollPaddingRight:zt.spaceT("scrollPaddingRight"),scrollPaddingX:zt.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:zt.spaceT(["scrollPaddingTop","scrollPaddingBottom"])};function lr(e){return mt(e)&&e.reference?e.reference:String(e)}var dr=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r.map(lr).join(" ".concat(e," ")).replace(/calc/g,"")},pr=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return"calc(".concat(dr.apply(void 0,["+"].concat(t)),")")},fr=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return"calc(".concat(dr.apply(void 0,["-"].concat(t)),")")},hr=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return"calc(".concat(dr.apply(void 0,["*"].concat(t)),")")},mr=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return"calc(".concat(dr.apply(void 0,["/"].concat(t)),")")},vr=function(e){var t=lr(e);return null==t||Number.isNaN(parseFloat(t))?hr(t,-1):String(t).startsWith("-")?String(t).slice(1):"-".concat(t)},gr=Object.assign((function(e){return{add:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return gr(pr.apply(void 0,[e].concat(r)))},subtract:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return gr(fr.apply(void 0,[e].concat(r)))},multiply:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return gr(hr.apply(void 0,[e].concat(r)))},divide:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return gr(mr.apply(void 0,[e].concat(r)))},negate:function(){return gr(vr(e))},toString:function(){return e.toString()}}}),{add:pr,subtract:fr,multiply:hr,divide:mr,negate:vr});function yr(e){var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return e.replace(/\s+/g,t)}(e.toString());return function(e){return e.replace(/[!-,/:-@[-^`{-~]/g,"\\$&")}(function(e){if(e.includes("\\."))return e;var t=!Number.isInteger(parseFloat(e.toString()));return t?e.replace(".","\\."):e}(t))}function br(e,t){return"var(".concat(e).concat(t?", ".concat(t):"",")")}function kr(e){return yr("--".concat(function(e){return[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",e].filter(Boolean).join("-")}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"")))}function wr(e,t,r){var n=kr(e,r);return{variable:n,reference:br(n,t)}}function _r(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}function Sr(e){if(null==e)return e;var t=function(e){var t=parseFloat(e.toString()),r=e.toString().replace(String(t),"");return{unitless:!r,value:t,unit:r}}(e);return t.unitless||"number"===typeof e?"".concat(e,"px"):e}var xr=function(e,t){return parseInt(e[1],10)>parseInt(t[1],10)?1:-1},Cr=function(e){return Object.fromEntries(Object.entries(e).sort(xr))};function Pr(e){var t=Cr(e);return Object.assign(Object.values(t),t)}function Rr(e){var t;if(!e)return e;e=null!=(t=Sr(e))?t:e;return"number"===typeof e?"".concat(e+-.02):e.replace(/([0-9]+\.?[0-9]*)/,(function(e){return"".concat(parseFloat(e)+-.02)}))}function Tr(e,t){var r=["@media screen"];return e&&r.push("and","(min-width: ".concat(Sr(e),")")),t&&r.push("and","(max-width: ".concat(Sr(t),")")),r.join(" ")}function Er(e){var t;if(!e)return null;e.base=null!=(t=e.base)?t:"0px";var r=Pr(e),n=Object.entries(e).sort(xr).map((function(e,t,r){var n,a=rt(e,2),i=a[0],o=a[1],s=rt(null!=(n=r[t+1])?n:[],2)[1];return s=parseFloat(s)>0?Rr(s):void 0,{_minW:Rr(o),breakpoint:i,minW:o,maxW:s,maxWQuery:Tr(null,s),minWQuery:Tr(o),minMaxQuery:Tr(o,s)}})),a=function(e){var t=Object.keys(Cr(e));return new Set(t)}(e),i=Array.from(a.values());return{keys:a,normalized:r,isResponsive:function(e){var t=Object.keys(e);return t.length>0&&t.every((function(e){return a.has(e)}))},asObject:Cr(e),asArray:Pr(e),details:n,get:function(e){return n.find((function(t){return t.breakpoint===e}))},media:[null].concat(pt(r.map((function(e){return Tr(e)})).slice(1))),toArrayValue:function(e){if(!mt(e))throw new Error("toArrayValue: value must be an object");for(var t=i.map((function(t){var r;return null!=(r=e[t])?r:null}));null===_r(t);)t.pop();return t},toObjectValue:function(e){if(!Array.isArray(e))throw new Error("toObjectValue: value must be an array");return e.reduce((function(e,t,r){var n=i[r];return null!=n&&null!=t&&(e[n]=t),e}),{})}}}var Or=function(e,t){return"".concat(e,":hover ").concat(t,", ").concat(e,"[data-hover] ").concat(t)},Dr=function(e,t){return"".concat(e,":focus ").concat(t,", ").concat(e,"[data-focus] ").concat(t)},Mr=function(e,t){return"".concat(e,":focus-visible ").concat(t)},jr=function(e,t){return"".concat(e,":focus-within ").concat(t)},Ir=function(e,t){return"".concat(e,":active ").concat(t,", ").concat(e,"[data-active] ").concat(t)},Ar=function(e,t){return"".concat(e,":disabled ").concat(t,", ").concat(e,"[data-disabled] ").concat(t)},Lr=function(e,t){return"".concat(e,":invalid ").concat(t,", ").concat(e,"[data-invalid] ").concat(t)},Nr=function(e,t){return"".concat(e,":checked ").concat(t,", ").concat(e,"[data-checked] ").concat(t)},Fr=function(e,t){return"".concat(e,":placeholder-shown ").concat(t)},Br=function(e){return Ur((function(t){return e(t,"&")}),"[role=group]","[data-group]",".group")},zr=function(e){return Ur((function(t){return e(t,"~ &")}),"[data-peer]",".peer")},Ur=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r.map(e).join(", ")},Vr={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty",_expanded:"&[aria-expanded=true], &[data-expanded]",_checked:"&[aria-checked=true], &[data-checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_firstLetter:"&::first-letter",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate]",_groupHover:Br(Or),_peerHover:zr(Or),_groupFocus:Br(Dr),_peerFocus:zr(Dr),_groupFocusVisible:Br(Mr),_peerFocusVisible:zr(Mr),_groupActive:Br(Ir),_peerActive:zr(Ir),_groupDisabled:Br(Ar),_peerDisabled:zr(Ar),_groupInvalid:Br(Lr),_peerInvalid:zr(Lr),_groupChecked:Br(Nr),_peerChecked:zr(Nr),_groupFocusWithin:Br(jr),_peerFocusWithin:zr(jr),_peerPlaceholderShown:zr(Fr),_placeholder:"&::placeholder",_placeholderShown:"&:placeholder-shown",_fullScreen:"&:fullscreen",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]"},Wr=Object.keys(Vr);function qr(e,t){return wr(String(e).replace(/\./g,"-"),void 0,t)}function Hr(e,t){for(var r={},n={},a=function(){var a=rt(o[i],2),s=a[0],c=a[1],l=c.isSemantic,d=c.value,p=qr(s,null==t?void 0:t.cssVarPrefix),f=p.variable,h=p.reference;if(!l){if(s.startsWith("space")){var m=ft(s.split(".")),v=m[0],g=m.slice(1),y="".concat(v,".-").concat(g.join(".")),b=gr.negate(d),k=gr.negate(h);n[y]={value:b,var:f,varRef:k}}return r[f]=d,n[s]={value:d,var:f,varRef:h},"continue"}var w=mt(d)?d:{default:d};r=wt(r,Object.entries(w).reduce((function(r,n){var a,i,o=rt(n,2),c=o[0],l=function(r){var n=[String(s).split(".")[0],r].join(".");return e[n]?qr(n,null==t?void 0:t.cssVarPrefix).reference:r}(o[1].toString());return"default"===c?(r[f]=l,r):(r[null!=(i=null==(a=Vr)?void 0:a[c])?i:c]=u({},f,l),r)}),{})),n[s]={value:h,var:f,varRef:h}},i=0,o=Object.entries(e);i<o.length;i++)a();return{cssVars:r,cssMap:n}}var $r=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","gradients","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur","breakpoints"];function Gr(e){return function(e,t){var r,n={},a=lt(t);try{for(a.s();!(r=a.n()).done;){var i=r.value;i in e&&(n[i]=e[i])}}catch(o){a.e(o)}finally{a.f()}return n}(e,$r)}function Kr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;return(mt(e)||Array.isArray(e))&&t?Object.entries(e).reduce((function(e,r){var n=rt(r,2),a=n[0],i=n[1];return mt(i)||Array.isArray(i)?Object.entries(Kr(i,t-1)).forEach((function(t){var r=rt(t,2),n=r[0],i=r[1];e["".concat(a,".").concat(n)]=i})):e[a]=i,e}),{}):e}function Yr(e){var t,r=function(e){return e.__cssMap,e.__cssVars,e.__breakpoints,p(e,_t)}(e),n=Gr(r),a=function(e){return e.semanticTokens}(r),i=function(e){var t,r,n=e.tokens,a=e.semanticTokens,i=Object.entries(null!=(t=Kr(n))?t:{}).map((function(e){var t=rt(e,2);return[t[0],{isSemantic:!1,value:t[1]}]})),o=Object.entries(null!=(r=Kr(a,1))?r:{}).map((function(e){var t=rt(e,2);return[t[0],{isSemantic:!0,value:t[1]}]}));return Object.fromEntries([].concat(pt(i),pt(o)))}({tokens:n,semanticTokens:a}),o=Hr(i,{cssVarPrefix:null==(t=r.config)?void 0:t.cssVarPrefix}),s=o.cssMap,c=o.cssVars;return Object.assign(r,{__cssVars:d(d({},{"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0"}),c),__cssMap:s,__breakpoints:Er(r.breakpoints)}),r}var Qr=wt({},Ut,Vt,Wt,$t,Yt,Ht,nr,Kt,Gt,tr,rr,qt,ar,ur,cr,ir,or,Qt,sr),Jr=Object.assign({},ar,Yt,$t,Gt,rr),Xr=(Object.keys(Jr),[].concat(pt(Object.keys(Qr)),Wr)),Zr=d(d({},Qr),Vr),en=function(e){return e in Zr};var tn=function(e,t){return e.startsWith("--")&&"string"===typeof t&&!function(e){return/^var\(--.+\)$/.test(e)}(t)},rn=function(e,t){var r,n;if(null==t)return t;var a=function(t){var r,n;return null==(n=null==(r=e.__cssMap)?void 0:r[t])?void 0:n.varRef},i=function(e){var t;return null!=(t=a(e))?t:e},o=function(e){for(var t=[],r="",n=!1,a=0;a<e.length;a++){var i=e[a];"("===i?(n=!0,r+=i):")"===i?(n=!1,r+=i):","!==i||n?r+=i:(t.push(r),r="")}return(r=r.trim())&&t.push(r),t}(t),s=rt(o,2),c=s[0],u=s[1];return t=null!=(n=null!=(r=a(c))?r:i(u))?n:i(t)};function nn(e){var t=e.configs,r=void 0===t?{}:t,n=e.pseudos,a=void 0===n?{}:n,i=e.theme;return function e(t){var n,o,s,c=arguments.length>1&&void 0!==arguments[1]&&arguments[1],u=vt(t,i),l=function(e){return function(t){if(!t.__breakpoints)return e;var r=t.__breakpoints,n=r.isResponsive,a=r.toArrayValue,i=r.media,o={};for(var s in e){var c=vt(e[s],t);if(null!=c)if(c=mt(c)&&n(c)?a(c):c,Array.isArray(c))for(var u=c.slice(0,i.length).length,l=0;l<u;l+=1){var d=null==i?void 0:i[l];d?(o[d]=o[d]||{},null!=c[l]&&(o[d][s]=c[l])):o[s]=c[l]}else o[s]=c}return o}}(u)(i),d={};for(var p in l){var f=vt(l[p],i);p in a&&(p=a[p]),tn(p,f)&&(f=rn(i,f));var h=r[p];if(!0===h&&(h={property:p}),mt(f))d[p]=null!=(n=d[p])?n:{},d[p]=wt({},d[p],e(f,!0));else{var m=null!=(s=null==(o=null==h?void 0:h.transform)?void 0:o.call(h,f,i,u))?s:f;m=(null==h?void 0:h.processResult)?e(m,!0):m;var v=vt(null==h?void 0:h.property,i);if(!c&&(null==h?void 0:h.static)){var g=vt(h.static,i);d=wt({},d,g)}if(v&&Array.isArray(v)){var y,b=lt(v);try{for(b.s();!(y=b.n()).done;){d[y.value]=m}}catch(k){b.e(k)}finally{b.f()}}else v?"&"===v&&mt(m)?d=wt({},d,m):d[v]=m:mt(m)?d=wt({},d,m):d[p]=m}}return d}}var an=function(e){return function(t){return nn({theme:t,pseudos:Vr,configs:Qr})(e)}};function on(e){return{definePartsStyle:function(e){return e},defineMultiStyleConfig:function(t){return d({parts:e},t)}}}function sn(e){var t=e.__breakpoints;return function(e,r,n,a){var i,o;if(t){var s={},c=function(e,t){return Array.isArray(e)?e:mt(e)?t(e):null!=e?[e]:void 0}(n,t.toArrayValue);if(!c)return s;for(var l=c.length,d=1===l,p=!!e.parts,f=function(){var n=t.details[h],l=t.details[function(e,t){for(var r=t+1;r<e.length;r++)if(null!=e[r])return r;return-1}(c,h)],f=Tr(n.minW,null==l?void 0:l._minW),m=vt(null==(i=e[r])?void 0:i[c[h]],a);return m?p?(null==(o=e.parts)||o.forEach((function(e){wt(s,u({},e,d?m[e]:u({},f,m[e])))})),"continue"):p?void(s[f]=m):(d?wt(s,m):s[f]=m,"continue"):"continue"},h=0;h<l;h++)f();return s}}}function cn(e){return function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Object.assign({},e),a=lt(r);try{for(a.s();!(t=a.n()).done;){var i=t.value;i in n&&delete n[i]}}catch(o){a.e(o)}finally{a.f()}return n}(e,["styleConfig","size","variant","colorScheme"])}var un=function(e){var t=new WeakMap;return function(r,n,a,i){if("undefined"===typeof r)return e(r,n,a);t.has(r)||t.set(r,new Map);var o=t.get(r);if(o.has(n))return o.get(n);var s=e(r,n,a,i);return o.set(n,s),s}}((function(e,t,r,n){var a="string"===typeof t?t.split("."):[t];for(n=0;n<a.length&&e;n+=1)e=e[a[n]];return void 0===e?r:e}));function ln(e,t){var r={};return Object.keys(e).forEach((function(n){var a=e[n];t(a,n,e)&&(r[n]=a)})),r}var dn=function(e){return ln(e,(function(e){return null!==e&&void 0!==e}))};function pn(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return function(e){return"function"===typeof e}(e)?e.apply(void 0,r):e}function fn(e){var t=e.cssVarsRoot,r=e.theme,n=e.children,a=(0,h.useMemo)((function(){return Yr(r)}),[r]);return(0,Ge.jsxs)(ze,{theme:a,children:[(0,Ge.jsx)(hn,{root:t}),n]})}function hn(e){var t=e.root,r=[void 0===t?":host, :root":t,"[data-theme]"].join(",");return(0,Ge.jsx)(We,{styles:function(e){return u({},r,e.__cssVars)}})}var mn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.strict,r=void 0===t||t,n=e.errorMessage,a=void 0===n?"useContext: `context` is undefined. Seems you forgot to wrap component within the Provider":n,i=e.name,o=(0,h.createContext)(void 0);return o.displayName=i,[o.Provider,function e(){var t,n=(0,h.useContext)(o);if(!n&&r){var i=new Error(a);throw i.name="ContextError",null==(t=Error.captureStackTrace)||t.call(Error,i,e),i}return n},o]}({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "}),vn=rt(mn,2);vn[0],vn[1];function gn(){var e=ut().colorMode;return(0,Ge.jsx)(We,{styles:function(t){var r=pn(un(t,"styles.global"),{theme:t,colorMode:e});if(r){var n=an(r)(t);return n}}})}var yn={light:"chakra-ui-light",dark:"chakra-ui-dark"};var bn="chakra-ui-color-mode";var kn=function(e){return{ssr:!1,type:"localStorage",get:function(t){if(!(null==globalThis?void 0:globalThis.document))return t;var r;try{r=localStorage.getItem(e)||t}catch(n){}return r||t},set:function(t){try{localStorage.setItem(e,t)}catch(r){}}}}(bn);function wn(e,t){var r=e.match(new RegExp("(^| )".concat(t,"=([^;]+)")));return null==r?void 0:r[2]}function _n(e,t){return{ssr:!!t,type:"cookie",get:function(r){return t?wn(t,e):(null==globalThis?void 0:globalThis.document)&&wn(document.cookie,e)||r},set:function(t){document.cookie="".concat(e,"=").concat(t,"; max-age=31536000; path=/")}}}_n(bn);var Sn=Boolean(null==globalThis?void 0:globalThis.document)?h.useLayoutEffect:h.useEffect,xn=function(){};function Cn(e,t){return"cookie"===e.type&&e.ssr?e.get(t):t}function Pn(e){var t=e.value,r=e.children,n=e.options,a=void 0===n?{}:n,i=a.useSystemColorMode,o=a.initialColorMode,s=a.disableTransitionOnChange,c=e.colorModeManager,u=void 0===c?kn:c,l="dark"===o?"dark":"light",d=rt((0,h.useState)((function(){return Cn(u,l)})),2),p=d[0],f=d[1],m=rt((0,h.useState)((function(){return Cn(u)})),2),v=m[0],g=m[1],y=(0,h.useMemo)((function(){return function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).preventTransition,t=void 0===e||e,r={setDataset:function(e){var n=t?r.preventTransition():void 0;document.documentElement.dataset.theme=e,document.documentElement.style.colorScheme=e,null==n||n()},setClassName:function(e){document.body.classList.add(e?yn.dark:yn.light),document.body.classList.remove(e?yn.light:yn.dark)},query:function(){return window.matchMedia("(prefers-color-scheme: dark)")},getSystemTheme:function(e){var t;return(null!=(t=r.query().matches)?t:"dark"===e)?"dark":"light"},addListener:function(e){var t=r.query(),n=function(t){e(t.matches?"dark":"light")};return"function"===typeof t.addListener?t.addListener(n):t.addEventListener("change",n),function(){"function"===typeof t.removeListener?t.removeListener(n):t.removeEventListener("change",n)}},preventTransition:function(){var e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),function(){window.getComputedStyle(document.body),requestAnimationFrame((function(){requestAnimationFrame((function(){document.head.removeChild(e)}))}))}}};return r}({preventTransition:s})}),[s]),b=y.getSystemTheme,k=y.setClassName,w=y.setDataset,_=y.addListener,S="system"!==o||p?p:v,x=(0,h.useCallback)((function(e){var t="system"===e?b():e;f(t),k("dark"===t),w(t),u.set(t)}),[u,b,k,w]);Sn((function(){"system"===o&&g(b())}),[]),(0,h.useEffect)((function(){var e=u.get();x(e||("system"!==o?l:"system"))}),[u,l,o,x]);var C=(0,h.useCallback)((function(){x("dark"===S?"light":"dark")}),[S,x]);(0,h.useEffect)((function(){if(i)return _(x)}),[i,_,x]);var P=(0,h.useMemo)((function(){return{colorMode:null!=t?t:S,toggleColorMode:t?xn:C,setColorMode:t?xn:x,forced:void 0!==t}}),[S,C,x,t]);return(0,Ge.jsx)(ct.Provider,{value:P,children:r})}Pn.displayName="ColorModeProvider";var Rn=(0,h.createContext)({getDocument:function(){return document},getWindow:function(){return window}});function Tn(e){var t=e.children,r=e.environment,n=e.disabled,a=(0,h.useRef)(null),i=(0,h.useMemo)((function(){return r||{getDocument:function(){var e,t;return null!=(t=null==(e=a.current)?void 0:e.ownerDocument)?t:document},getWindow:function(){var e,t;return null!=(t=null==(e=a.current)?void 0:e.ownerDocument.defaultView)?t:window}}}),[r]),o=!n||!r;return(0,Ge.jsxs)(Rn.Provider,{value:i,children:[t,o&&(0,Ge.jsx)("span",{id:"__chakra_env",hidden:!0,ref:a})]})}Rn.displayName="EnvironmentContext",Tn.displayName="EnvironmentProvider";var En=function(e){var t=e.children,r=e.colorModeManager,n=e.portalZIndex,a=e.resetScope,i=e.resetCSS,o=void 0===i||i,s=e.theme,c=void 0===s?{}:s,u=e.environment,l=e.cssVarsRoot,d=e.disableEnvironment,p=(0,Ge.jsx)(Tn,{environment:u,disabled:d,children:t});return(0,Ge.jsx)(fn,{theme:c,cssVarsRoot:l,children:(0,Ge.jsxs)(Pn,{colorModeManager:r,options:c.config,children:[o?(0,Ge.jsx)(Je,{scope:a}):(0,Ge.jsx)(Qe,{}),(0,Ge.jsx)(gn,{}),n?(0,Ge.jsx)(st,{zIndex:n,children:p}):p]})})},On={hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},Dn={base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},Mn={transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"},linkedin:{50:"#E8F4F9",100:"#CFEDFB",200:"#9BDAF3",300:"#68C7EC",400:"#34B3E4",500:"#00A0DC",600:"#008CC9",700:"#0077B5",800:"#005E93",900:"#004471"},facebook:{50:"#E8F4F9",100:"#D9DEE9",200:"#B7C2DA",300:"#6482C0",400:"#4267B2",500:"#385898",600:"#314E89",700:"#29487D",800:"#223B67",900:"#1E355B"},messenger:{50:"#D0E6FF",100:"#B9DAFF",200:"#A2CDFF",300:"#7AB8FF",400:"#2E90FF",500:"#0078FF",600:"#0063D1",700:"#0052AC",800:"#003C7E",900:"#002C5C"},whatsapp:{50:"#dffeec",100:"#b9f5d0",200:"#90edb3",300:"#65e495",400:"#3cdd78",500:"#22c35e",600:"#179848",700:"#0c6c33",800:"#01421c",900:"#001803"},twitter:{50:"#E5F4FD",100:"#C8E9FB",200:"#A8DCFA",300:"#83CDF7",400:"#57BBF5",500:"#1DA1F2",600:"#1A94DA",700:"#1681BF",800:"#136B9E",900:"#0D4D71"},telegram:{50:"#E3F2F9",100:"#C5E4F3",200:"#A2D4EC",300:"#7AC1E4",400:"#47A9DA",500:"#0088CC",600:"#007AB8",700:"#006BA1",800:"#005885",900:"#003F5E"}},jn={none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},In={xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},An={property:{common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},easing:{"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},duration:{"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"}},Ln={none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},Nn={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},Fn={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},Bn={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},zn=d(d(d({},Bn),{max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem",prose:"60ch"}),{},{container:{sm:"640px",md:"768px",lg:"1024px",xl:"1280px"}}),Un=d(d({breakpoints:Dn,zIndices:On,radii:jn,blur:Ln,colors:Mn},Fn),{},{sizes:zn,shadows:In,space:Bn,borders:Nn,transition:An});function Vn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=!1;function n(t){var r=(["container","root"].includes(null!=t?t:"")?[e]:[e,t]).filter(Boolean).join("__"),n="chakra-".concat(r);return{className:n,selector:".".concat(n),toString:function(){return t}}}return{parts:function(){!function(){if(r)throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?");r=!0}();for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];for(var s=0,c=i;s<c.length;s++){var u=c[s];t[u]=n(u)}return Vn(e,t)},toPart:n,extend:function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];for(var o=0,s=a;o<s.length;o++){var c=s[o];c in t||(t[c]=n(c))}return Vn(e,t)},selectors:function(){var e=Object.fromEntries(Object.entries(t).map((function(e){var t=rt(e,2);return[t[0],t[1].selector]})));return e},classnames:function(){return Object.fromEntries(Object.entries(t).map((function(e){var t=rt(e,2);return[t[0],t[1].className]})))},get keys(){return Object.keys(t)},__type:{}}}var Wn=Vn("accordion").parts("root","container","button","panel").extend("icon"),qn=Vn("alert").parts("title","description","container").extend("icon","spinner"),Hn=Vn("avatar").parts("label","badge","container").extend("excessLabel","group"),$n=Vn("breadcrumb").parts("link","item","container").extend("separator"),Gn=(Vn("button").parts(),Vn("checkbox").parts("control","icon","container").extend("label")),Kn=(Vn("progress").parts("track","filledTrack").extend("label"),Vn("drawer").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer")),Yn=Vn("editable").parts("preview","input","textarea"),Qn=Vn("form").parts("container","requiredIndicator","helperText"),Jn=Vn("formError").parts("text","icon"),Xn=Vn("input").parts("addon","field","element"),Zn=Vn("list").parts("container","item","icon"),ea=Vn("menu").parts("button","list","item").extend("groupTitle","command","divider"),ta=Vn("modal").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),ra=Vn("numberinput").parts("root","field","stepperGroup","stepper"),na=(Vn("pininput").parts("field"),Vn("popover").parts("content","header","body","footer").extend("popper","arrow","closeButton")),aa=Vn("progress").parts("label","filledTrack","track"),ia=Vn("radio").parts("container","control","label"),oa=Vn("select").parts("field","icon"),sa=Vn("slider").parts("container","track","thumb","filledTrack","mark"),ca=Vn("stat").parts("container","label","helpText","number","icon"),ua=Vn("switch").parts("container","track","thumb"),la=Vn("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),da=Vn("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),pa=Vn("tag").parts("container","label","closeButton"),fa=Vn("card").parts("container","header","body","footer");function ha(e){var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return e.replace(/\s+/g,t)}(e.toString());return t.includes("\\.")?e:function(e){return!Number.isInteger(parseFloat(e.toString()))}(e)?t.replace(".","\\."):e}function ma(e,t){return"var(".concat(ha(e)).concat(t?", ".concat(t):"",")")}function va(e){return"--".concat(function(e){return[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",ha(e)].filter(Boolean).join("-")}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:""))}function ga(e,t){var r=va(e,null==t?void 0:t.prefix);return{variable:r,reference:ma(r,ya(null==t?void 0:t.fallback))}}function ya(e){return"string"===typeof e?e:null==e?void 0:e.reference}function ba(e){return mt(e)&&e.reference?e.reference:String(e)}var ka,wa,_a,Sa=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r.map(ba).join(" ".concat(e," ")).replace(/calc/g,"")},xa=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return"calc(".concat(Sa.apply(void 0,["+"].concat(t)),")")},Ca=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return"calc(".concat(Sa.apply(void 0,["-"].concat(t)),")")},Pa=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return"calc(".concat(Sa.apply(void 0,["*"].concat(t)),")")},Ra=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return"calc(".concat(Sa.apply(void 0,["/"].concat(t)),")")},Ta=function(e){var t=ba(e);return null==t||Number.isNaN(parseFloat(t))?Pa(t,-1):String(t).startsWith("-")?String(t).slice(1):"-".concat(t)},Ea=Object.assign((function(e){return{add:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Ea(xa.apply(void 0,[e].concat(r)))},subtract:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Ea(Ca.apply(void 0,[e].concat(r)))},multiply:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Ea(Pa.apply(void 0,[e].concat(r)))},divide:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Ea(Ra.apply(void 0,[e].concat(r)))},negate:function(){return Ea(Ta(e))},toString:function(){return e.toString()}}}),{add:xa,subtract:Ca,multiply:Pa,divide:Ra,negate:Ta}),Oa=on(ua.keys),Da=Oa.defineMultiStyleConfig,Ma=Oa.definePartsStyle,ja=ga("switch-track-width"),Ia=ga("switch-track-height"),Aa=ga("switch-track-diff"),La=Ea.subtract(ja,Ia),Na=ga("switch-thumb-x"),Fa=ga("switch-bg"),Ba=function(e){var t,r,n=e.colorScheme;return u(r={borderRadius:"full",p:"0.5",width:[ja.reference],height:[Ia.reference],transitionProperty:"common",transitionDuration:"fast"},Fa.variable,"colors.gray.300"),u(r,"_dark",u({},Fa.variable,"colors.whiteAlpha.400")),u(r,"_focusVisible",{boxShadow:"outline"}),u(r,"_disabled",{opacity:.4,cursor:"not-allowed"}),u(r,"_checked",(u(t={},Fa.variable,"colors.".concat(n,".500")),u(t,"_dark",u({},Fa.variable,"colors.".concat(n,".200"))),t)),u(r,"bg",Fa.reference),r},za={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[Ia.reference],height:[Ia.reference],_checked:{transform:"translateX(".concat(Na.reference,")")}},Ua=Ma((function(e){var t;return{container:(t={},u(t,Aa.variable,La),u(t,Na.variable,Aa.reference),u(t,"_rtl",u({},Na.variable,Ea(Aa).negate().toString())),t),track:Ba(e),thumb:za}})),Va=Da({baseStyle:Ua,sizes:{sm:Ma({container:(ka={},u(ka,ja.variable,"1.375rem"),u(ka,Ia.variable,"sizes.3"),ka)}),md:Ma({container:(wa={},u(wa,ja.variable,"1.875rem"),u(wa,Ia.variable,"sizes.4"),wa)}),lg:Ma({container:(_a={},u(_a,ja.variable,"2.875rem"),u(_a,Ia.variable,"sizes.6"),_a)})},defaultProps:{size:"md",colorScheme:"blue"}});function Wa(e,t){return function(r){return"dark"===r.colorMode?t:e}}function qa(e){var t=e.orientation,r=e.vertical,n=e.horizontal;return t?"vertical"===t?r:n:{}}var Ha=on(la.keys),$a=Ha.defineMultiStyleConfig,Ga=Ha.definePartsStyle,Ka=Ga({table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}}),Ya={"&[data-is-numeric=true]":{textAlign:"end"}},Qa=$a({baseStyle:Ka,variants:{simple:Ga((function(e){var t=e.colorScheme;return{th:d({color:Wa("gray.600","gray.400")(e),borderBottom:"1px",borderColor:Wa("".concat(t,".100"),"".concat(t,".700"))(e)},Ya),td:d({borderBottom:"1px",borderColor:Wa("".concat(t,".100"),"".concat(t,".700"))(e)},Ya),caption:{color:Wa("gray.600","gray.100")(e)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}})),striped:Ga((function(e){var t=e.colorScheme;return{th:d({color:Wa("gray.600","gray.400")(e),borderBottom:"1px",borderColor:Wa("".concat(t,".100"),"".concat(t,".700"))(e)},Ya),td:d({borderBottom:"1px",borderColor:Wa("".concat(t,".100"),"".concat(t,".700"))(e)},Ya),caption:{color:Wa("gray.600","gray.100")(e)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:Wa("".concat(t,".100"),"".concat(t,".700"))(e)},td:{background:Wa("".concat(t,".100"),"".concat(t,".700"))(e)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}})),unstyled:{}},sizes:{sm:Ga({th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}}),md:Ga({th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}}),lg:Ga({th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}})},defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}});function Ja(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c(n.key),n)}}function Xa(e,t,r){return t&&Ja(e.prototype,t),r&&Ja(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Za(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ei(e,t){return ei=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ei(e,t)}function ti(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ei(e,t)}function ri(e){return ri=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ri(e)}function ni(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ai(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ii(e){var t=ni();return function(){var r,n=ri(e);if(t){var a=ri(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===s(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ai(e)}(this,r)}}function oi(e,t,r){return oi=ni()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var a=new(Function.bind.apply(e,n));return r&&ei(a,r.prototype),a},oi.apply(null,arguments)}function si(e){var t="function"===typeof Map?new Map:void 0;return si=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return oi(e,arguments,ri(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),ei(n,e)},si(e)}function ci(e,t,r){return Math.min(Math.max(e,r),t)}var ui=function(e){ti(r,e);var t=ii(r);function r(e){return Za(this,r),t.call(this,'Failed to parse color: "'.concat(e,'"'))}return Xa(r)}(si(Error)),li=ui;function di(e){if("string"!==typeof e)throw new li(e);if("transparent"===e.trim().toLowerCase())return[0,0,0,0];var t=e.trim();t=bi.test(e)?function(e){var t=e.toLowerCase().trim(),r=fi[function(e){var t=5381,r=e.length;for(;r;)t=33*t^e.charCodeAt(--r);return(t>>>0)%2341}(t)];if(!r)throw new li(e);return"#".concat(r)}(e):e;var r=mi.exec(t);if(r){var n=Array.from(r).slice(1);return[].concat(pt(n.slice(0,3).map((function(e){return parseInt(hi(e,2),16)}))),[parseInt(hi(n[3]||"f",2),16)/255])}var a=vi.exec(t);if(a){var i=Array.from(a).slice(1);return[].concat(pt(i.slice(0,3).map((function(e){return parseInt(e,16)}))),[parseInt(i[3]||"ff",16)/255])}var o=gi.exec(t);if(o){var s=Array.from(o).slice(1);return[].concat(pt(s.slice(0,3).map((function(e){return parseInt(e,10)}))),[parseFloat(s[3]||"1")])}var c=yi.exec(t);if(c){var u=rt(Array.from(c).slice(1).map(parseFloat),4),l=u[0],d=u[1],p=u[2],f=u[3];if(ci(0,100,d)!==d)throw new li(e);if(ci(0,100,p)!==p)throw new li(e);return[].concat(pt(wi(l,d,p)),[Number.isNaN(f)?1:f])}throw new li(e)}var pi=function(e){return parseInt(e.replace(/_/g,""),36)},fi="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((function(e,t){for(var r=pi(t.substring(0,3)),n=pi(t.substring(3)).toString(16),a="",i=0;i<6-n.length;i++)a+="0";return e[r]="".concat(a).concat(n),e}),{});var hi=function(e,t){return Array.from(Array(t)).map((function(){return e})).join("")},mi=new RegExp("^#".concat(hi("([a-f0-9])",3),"([a-f0-9])?$"),"i"),vi=new RegExp("^#".concat(hi("([a-f0-9]{2})",3),"([a-f0-9]{2})?$"),"i"),gi=new RegExp("^rgba?\\(\\s*(\\d+)\\s*".concat(hi(",\\s*(\\d+)\\s*",2),"(?:,\\s*([\\d.]+))?\\s*\\)$"),"i"),yi=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,bi=/^[a-z]+$/i,ki=function(e){return Math.round(255*e)},wi=function(e,t,r){var n=r/100;if(0===t)return[n,n,n].map(ki);var a=(e%360+360)%360/60,i=(1-Math.abs(2*n-1))*(t/100),o=i*(1-Math.abs(a%2-1)),s=0,c=0,u=0;a>=0&&a<1?(s=i,c=o):a>=1&&a<2?(s=o,c=i):a>=2&&a<3?(c=i,u=o):a>=3&&a<4?(c=o,u=i):a>=4&&a<5?(s=o,u=i):a>=5&&a<6&&(s=i,u=o);var l=n-i/2;return[s+l,c+l,u+l].map(ki)};function _i(e,t,r,n){return"rgba(".concat(ci(0,255,e).toFixed(),", ").concat(ci(0,255,t).toFixed(),", ").concat(ci(0,255,r).toFixed(),", ").concat(parseFloat(ci(0,1,n).toFixed(3)),")")}function Si(e,t){var r=rt(di(e),4);return _i(r[0],r[1],r[2],r[3]-t)}var xi=function(e,t,r){var n=function(e,t,r,n,a){for(t=t.split?t.split("."):t,n=0;n<t.length;n++)e=e?e[t[n]]:a;return e===a?r:e}(e,"colors.".concat(t),t);try{return function(e){var t=rt(di(e),4),r=t[0],n=t[1],a=t[2],i=t[3],o=function(e){var t=ci(0,255,e).toString(16);return 1===t.length?"0".concat(t):t};"#".concat(o(r)).concat(o(n)).concat(o(a)).concat(i<1?o(Math.round(255*i)):"")}(n),n}catch(a){return null!=r?r:"#000000"}},Ci=function(e){return function(t){var r=function(e){var t=rt(di(e),3);return(299*t[0]+587*t[1]+114*t[2])/1e3}(xi(t,e));return r<128?"dark":"light"}},Pi=function(e,t){return function(r){return Si(xi(r,e),1-t)}};function Ri(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1rem",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"rgba(255, 255, 255, 0.15)";return{backgroundImage:"linear-gradient(\n    45deg,\n    ".concat(t," 25%,\n    transparent 25%,\n    transparent 50%,\n    ").concat(t," 50%,\n    ").concat(t," 75%,\n    transparent 75%,\n    transparent\n  )"),backgroundSize:"".concat(e," ").concat(e)}}function Ti(e){var t,r="#".concat(Math.floor(16777215*Math.random()).toString(16).padEnd(6,"0"));return e&&(t=e,0!==Object.keys(t).length)?e.string&&e.colors?function(e,t){var r=0;if(0===e.length)return t[0];for(var n=0;n<e.length;n+=1)r=e.charCodeAt(n)+((r<<5)-r),r&=r;return r=(r%t.length+t.length)%t.length,t[r]}(e.string,e.colors):e.string&&!e.colors?function(e){var t=0;if(0===e.length)return t.toString();for(var r=0;r<e.length;r+=1)t=e.charCodeAt(r)+((t<<5)-t),t&=t;for(var n="#",a=0;a<3;a+=1){n+="00".concat((t>>8*a&255).toString(16)).substr(-2)}return n}(e.string):e.colors&&!e.string?function(e){return e[Math.floor(Math.random()*e.length)]}(e.colors):r:r}var Ei=wr("tabs-color"),Oi=wr("tabs-bg"),Di=wr("tabs-border-color"),Mi=on(da.keys),ji=Mi.defineMultiStyleConfig,Ii=Mi.definePartsStyle,Ai=function(e){return{display:"vertical"===e.orientation?"flex":"block"}},Li=function(e){return{flex:e.isFitted?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focusVisible:{zIndex:1,boxShadow:"outline"},_disabled:{cursor:"not-allowed",opacity:.4}}},Ni=function(e){var t=e.align,r=void 0===t?"start":t,n=e.orientation;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[r],flexDirection:"vertical"===n?"column":"row"}},Fi={p:4},Bi=Ii((function(e){return{root:Ai(e),tab:Li(e),tablist:Ni(e),tabpanel:Fi}})),zi={sm:Ii({tab:{py:1,px:4,fontSize:"sm"}}),md:Ii({tab:{fontSize:"md",py:2,px:4}}),lg:Ii({tab:{fontSize:"lg",py:3,px:4}})},Ui=Ii((function(e){var t,r,n,a,i=e.colorScheme,o=e.orientation,s="vertical"===o?"borderStart":"borderBottom",c="vertical"===o?"marginStart":"marginBottom";return{tablist:(t={},u(t,s,"2px solid"),u(t,"borderColor","inherit"),t),tab:(a={},u(a,s,"2px solid"),u(a,"borderColor","transparent"),u(a,c,"-2px"),u(a,"_selected",(r={},u(r,Ei.variable,"colors.".concat(i,".600")),u(r,"_dark",u({},Ei.variable,"colors.".concat(i,".300"))),u(r,"borderColor","currentColor"),r)),u(a,"_active",(n={},u(n,Oi.variable,"colors.gray.200"),u(n,"_dark",u({},Oi.variable,"colors.whiteAlpha.300")),n)),u(a,"_disabled",{_active:{bg:"none"}}),u(a,"color",Ei.reference),u(a,"bg",Oi.reference),a)}})),Vi=Ii((function(e){var t,r,n,a=e.colorScheme;return{tab:(n={borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px"},u(n,Di.variable,"transparent"),u(n,"_selected",(r={},u(r,Ei.variable,"colors.".concat(a,".600")),u(r,Di.variable,"colors.white"),u(r,"_dark",(t={},u(t,Ei.variable,"colors.".concat(a,".300")),u(t,Di.variable,"colors.gray.800"),t)),u(r,"borderColor","inherit"),u(r,"borderBottomColor",Di.reference),r)),u(n,"color",Ei.reference),n),tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}})),Wi=Ii((function(e){var t,r,n,a=e.colorScheme;return{tab:(n={border:"1px solid",borderColor:"inherit"},u(n,Oi.variable,"colors.gray.50"),u(n,"_dark",u({},Oi.variable,"colors.whiteAlpha.50")),u(n,"mb","-1px"),u(n,"_notLast",{marginEnd:"-1px"}),u(n,"_selected",(r={},u(r,Oi.variable,"colors.white"),u(r,Ei.variable,"colors.".concat(a,".600")),u(r,"_dark",(t={},u(t,Oi.variable,"colors.gray.800"),u(t,Ei.variable,"colors.".concat(a,".300")),t)),u(r,"borderColor","inherit"),u(r,"borderTopColor","currentColor"),u(r,"borderBottomColor","transparent"),r)),u(n,"color",Ei.reference),u(n,"bg",Oi.reference),n),tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}})),qi=Ii((function(e){var t=e.colorScheme,r=e.theme;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:xi(r,"".concat(t,".700")),bg:xi(r,"".concat(t,".100"))}}}})),Hi=ji({baseStyle:Bi,sizes:zi,variants:{line:Ui,enclosed:Vi,"enclosed-colored":Wi,"soft-rounded":qi,"solid-rounded":Ii((function(e){var t,r,n,a=e.colorScheme;return{tab:(n={borderRadius:"full",fontWeight:"semibold"},u(n,Ei.variable,"colors.gray.600"),u(n,"_dark",u({},Ei.variable,"inherit")),u(n,"_selected",(r={},u(r,Ei.variable,"colors.white"),u(r,Oi.variable,"colors.".concat(a,".600")),u(r,"_dark",(t={},u(t,Ei.variable,"colors.gray.800"),u(t,Oi.variable,"colors.".concat(a,".300")),t)),r)),u(n,"color",Ei.reference),u(n,"bg",Oi.reference),n)}})),unstyled:Ii({})},defaultProps:{size:"md",variant:"line",colorScheme:"blue"}}),$i=function(e,t){var r,n={},a=lt(t);try{for(a.s();!(r=a.n()).done;){var i=r.value;if(Array.isArray(i)){var o=rt(i,2),s=o[0],c=o[1];n[s]=wr("".concat(e,"-").concat(s),c)}else n[i]=wr("".concat(e,"-").concat(i))}}catch(u){a.e(u)}finally{a.f()}return n}("badge",["bg","color","shadow"]),Gi=function(e){var t,r,n=e.colorScheme,a=e.theme,i=Pi("".concat(n,".500"),.6)(a);return u(r={},$i.bg.variable,"colors.".concat(n,".500")),u(r,$i.color.variable,"colors.white"),u(r,"_dark",(u(t={},$i.bg.variable,i),u(t,$i.color.variable,"colors.whiteAlpha.800"),t)),r},Ki=function(e){var t,r,n=e.colorScheme,a=e.theme,i=Pi("".concat(n,".200"),.16)(a);return u(r={},$i.bg.variable,"colors.".concat(n,".100")),u(r,$i.color.variable,"colors.".concat(n,".800")),u(r,"_dark",(u(t={},$i.bg.variable,i),u(t,$i.color.variable,"colors.".concat(n,".200")),t)),r},Yi=function(e){var t,r=e.colorScheme,n=e.theme,a=Pi("".concat(r,".200"),.8)(n);return u(t={},$i.color.variable,"colors.".concat(r,".500")),u(t,"_dark",u({},$i.color.variable,a)),u(t,$i.shadow.variable,"inset 0 0 0px 1px ".concat($i.color.reference)),t},Qi={baseStyle:{px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold",bg:$i.bg.reference,color:$i.color.reference,boxShadow:$i.shadow.reference},variants:{solid:Gi,subtle:Ki,outline:Yi},defaultProps:{variant:"subtle",colorScheme:"gray"}},Ji=on(pa.keys),Xi=Ji.defineMultiStyleConfig,Zi=Ji.definePartsStyle,eo=Zi({container:{fontWeight:"medium",lineHeight:1.2,outline:0,color:$i.color.reference,bg:$i.bg.reference,boxShadow:$i.shadow.reference,borderRadius:"md",_focusVisible:{boxShadow:"outline"}},label:{lineHeight:1.2,overflow:"visible"},closeButton:{fontSize:"lg",w:"5",h:"5",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"1.5",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focusVisible:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}}}),to={sm:Zi({container:{minH:"5",minW:"5",fontSize:"xs",px:"2"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}}),md:Zi({container:{minH:"6",minW:"6",fontSize:"sm",px:"2"}}),lg:Zi({container:{minH:"8",minW:"8",fontSize:"md",px:"3"}})},ro={subtle:Zi((function(e){var t;return{container:null==(t=Qi.variants)?void 0:t.subtle(e)}})),solid:Zi((function(e){var t;return{container:null==(t=Qi.variants)?void 0:t.solid(e)}})),outline:Zi((function(e){var t;return{container:null==(t=Qi.variants)?void 0:t.outline(e)}}))},no=Xi({variants:ro,baseStyle:eo,sizes:to,defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}}),ao=on(Xn.keys),io=ao.definePartsStyle,oo=ao.defineMultiStyleConfig,so=io({field:{width:"100%",minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed"}}}),co={lg:{fontSize:"lg",px:"4",h:"12",borderRadius:"md"},md:{fontSize:"md",px:"4",h:"10",borderRadius:"md"},sm:{fontSize:"sm",px:"3",h:"8",borderRadius:"sm"},xs:{fontSize:"xs",px:"2",h:"6",borderRadius:"sm"}},uo={lg:io({field:co.lg,addon:co.lg}),md:io({field:co.md,addon:co.md}),sm:io({field:co.sm,addon:co.sm}),xs:io({field:co.xs,addon:co.xs})};function lo(e){var t=e.focusBorderColor,r=e.errorBorderColor;return{focusBorderColor:t||Wa("blue.500","blue.300")(e),errorBorderColor:r||Wa("red.500","red.300")(e)}}var po,fo,ho,mo,vo,go,yo,bo,ko,wo,_o,So,xo,Co=io((function(e){var t=e.theme,r=lo(e),n=r.focusBorderColor,a=r.errorBorderColor;return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:Wa("gray.300","whiteAlpha.400")(e)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:xi(t,a),boxShadow:"0 0 0 1px ".concat(xi(t,a))},_focusVisible:{zIndex:1,borderColor:xi(t,n),boxShadow:"0 0 0 1px ".concat(xi(t,n))}},addon:{border:"1px solid",borderColor:Wa("inherit","whiteAlpha.50")(e),bg:Wa("gray.100","whiteAlpha.300")(e)}}})),Po=io((function(e){var t=e.theme,r=lo(e),n=r.focusBorderColor,a=r.errorBorderColor;return{field:{border:"2px solid",borderColor:"transparent",bg:Wa("gray.100","whiteAlpha.50")(e),_hover:{bg:Wa("gray.200","whiteAlpha.100")(e)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:xi(t,a)},_focusVisible:{bg:"transparent",borderColor:xi(t,n)}},addon:{border:"2px solid",borderColor:"transparent",bg:Wa("gray.100","whiteAlpha.50")(e)}}})),Ro=io((function(e){var t=e.theme,r=lo(e),n=r.focusBorderColor,a=r.errorBorderColor;return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:xi(t,a),boxShadow:"0px 1px 0px 0px ".concat(xi(t,a))},_focusVisible:{borderColor:xi(t,n),boxShadow:"0px 1px 0px 0px ".concat(xi(t,n))}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}})),To=oo({baseStyle:so,sizes:uo,variants:{outline:Co,filled:Po,flushed:Ro,unstyled:io({field:{bg:"transparent",px:"0",height:"auto"},addon:{bg:"transparent",px:"0",height:"auto"}})},defaultProps:{size:"md",variant:"outline"}}),Eo=d(d({},null==(po=To.baseStyle)?void 0:po.field),{},{paddingY:"2",minHeight:"20",lineHeight:"short",verticalAlign:"top"}),Oo={outline:function(e){var t,r;return null!=(r=null==(t=To.variants)?void 0:t.outline(e).field)?r:{}},flushed:function(e){var t,r;return null!=(r=null==(t=To.variants)?void 0:t.flushed(e).field)?r:{}},filled:function(e){var t,r;return null!=(r=null==(t=To.variants)?void 0:t.filled(e).field)?r:{}},unstyled:null!=(ho=null==(fo=To.variants)?void 0:fo.unstyled.field)?ho:{}},Do={baseStyle:Eo,sizes:{xs:null!=(vo=null==(mo=To.sizes)?void 0:mo.xs.field)?vo:{},sm:null!=(yo=null==(go=To.sizes)?void 0:go.sm.field)?yo:{},md:null!=(ko=null==(bo=To.sizes)?void 0:bo.md.field)?ko:{},lg:null!=(_o=null==(wo=To.sizes)?void 0:wo.lg.field)?_o:{}},variants:Oo,defaultProps:{size:"md",variant:"outline"}},Mo=ga("tooltip-bg"),jo=ga("tooltip-fg"),Io=ga("popper-arrow-bg"),Ao={baseStyle:(u(xo={bg:Mo.reference,color:jo.reference},Mo.variable,"colors.gray.700"),u(xo,jo.variable,"colors.whiteAlpha.900"),u(xo,"_dark",(u(So={},Mo.variable,"colors.gray.300"),u(So,jo.variable,"colors.gray.900"),So)),u(xo,Io.variable,Mo.reference),u(xo,"px","2"),u(xo,"py","0.5"),u(xo,"borderRadius","sm"),u(xo,"fontWeight","medium"),u(xo,"fontSize","sm"),u(xo,"boxShadow","md"),u(xo,"maxW","xs"),u(xo,"zIndex","tooltip"),xo)},Lo=on(aa.keys),No=Lo.defineMultiStyleConfig,Fo=Lo.definePartsStyle,Bo=function(e){var t=e.colorScheme,r=e.theme,n=e.isIndeterminate,a=e.hasStripe,i=Wa(Ri(),Ri("1rem","rgba(0,0,0,0.1)"))(e),o=Wa("".concat(t,".500"),"".concat(t,".200"))(e),s="linear-gradient(\n    to right,\n    transparent 0%,\n    ".concat(xi(r,o)," 50%,\n    transparent 100%\n  )");return d(d({},!n&&a&&i),n?{bgImage:s}:{bgColor:o})},zo={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},Uo=function(e){return{bg:Wa("gray.100","whiteAlpha.300")(e)}},Vo=function(e){return d({transitionProperty:"common",transitionDuration:"slow"},Bo(e))},Wo=Fo((function(e){return{label:zo,filledTrack:Vo(e),track:Uo(e)}})),qo=No({sizes:{xs:Fo({track:{h:"1"}}),sm:Fo({track:{h:"2"}}),md:Fo({track:{h:"3"}}),lg:Fo({track:{h:"4"}})},baseStyle:Wo,defaultProps:{size:"md",colorScheme:"blue"}});function Ho(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return function(e){return"function"===typeof e}(e)?e.apply(void 0,r):e}var $o,Go,Ko,Yo,Qo,Jo,Xo,Zo,es,ts,rs,ns,as,is,os,ss,cs,us,ls,ds,ps,fs,hs=on(Gn.keys),ms=hs.definePartsStyle,vs=hs.defineMultiStyleConfig,gs=wr("checkbox-size"),ys=function(e){var t=e.colorScheme;return{w:gs.reference,h:gs.reference,transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:Wa("".concat(t,".500"),"".concat(t,".200"))(e),borderColor:Wa("".concat(t,".500"),"".concat(t,".200"))(e),color:Wa("white","gray.900")(e),_hover:{bg:Wa("".concat(t,".600"),"".concat(t,".300"))(e),borderColor:Wa("".concat(t,".600"),"".concat(t,".300"))(e)},_disabled:{borderColor:Wa("gray.200","transparent")(e),bg:Wa("gray.200","whiteAlpha.300")(e),color:Wa("gray.500","whiteAlpha.500")(e)}},_indeterminate:{bg:Wa("".concat(t,".500"),"".concat(t,".200"))(e),borderColor:Wa("".concat(t,".500"),"".concat(t,".200"))(e),color:Wa("white","gray.900")(e)},_disabled:{bg:Wa("gray.100","whiteAlpha.100")(e),borderColor:Wa("gray.100","transparent")(e)},_focusVisible:{boxShadow:"outline"},_invalid:{borderColor:Wa("red.500","red.300")(e)}}},bs={_disabled:{cursor:"not-allowed"}},ks={userSelect:"none",_disabled:{opacity:.4}},ws={transitionProperty:"transform",transitionDuration:"normal"},_s=vs({baseStyle:ms((function(e){return{icon:ws,container:bs,control:Ho(ys,e),label:ks}})),sizes:{sm:ms({control:u({},gs.variable,"sizes.3"),label:{fontSize:"sm"},icon:{fontSize:"3xs"}}),md:ms({control:u({},gs.variable,"sizes.4"),label:{fontSize:"md"},icon:{fontSize:"2xs"}}),lg:ms({control:u({},gs.variable,"sizes.5"),label:{fontSize:"lg"},icon:{fontSize:"2xs"}})},defaultProps:{size:"md",colorScheme:"blue"}}),Ss=on(ia.keys),xs=Ss.defineMultiStyleConfig,Cs=Ss.definePartsStyle,Ps=function(e){var t,r=null==(t=Ho(_s.baseStyle,e))?void 0:t.control;return d(d({},r),{},{borderRadius:"full",_checked:d(d({},null==r?void 0:r._checked),{},{_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}})})},Rs=Cs((function(e){var t,r,n,a;return{label:null==(r=(t=_s).baseStyle)?void 0:r.call(t,e).label,container:null==(a=(n=_s).baseStyle)?void 0:a.call(n,e).container,control:Ps(e)}})),Ts=xs({baseStyle:Rs,sizes:{md:Cs({control:{w:"4",h:"4"},label:{fontSize:"md"}}),lg:Cs({control:{w:"5",h:"5"},label:{fontSize:"lg"}}),sm:Cs({control:{width:"3",height:"3"},label:{fontSize:"sm"}})},defaultProps:{size:"md",colorScheme:"blue"}}),Es=on(oa.keys),Os=Es.defineMultiStyleConfig,Ds=Es.definePartsStyle,Ms=wr("select-bg"),js={paddingInlineEnd:"8"},Is=Os({baseStyle:Ds({field:d(d({},null==(Go=To.baseStyle)?void 0:Go.field),{},(u($o={appearance:"none",paddingBottom:"1px",lineHeight:"normal",bg:Ms.reference},Ms.variable,"colors.white"),u($o,"_dark",u({},Ms.variable,"colors.gray.700")),u($o,"> option, > optgroup",{bg:Ms.reference}),$o)),icon:{width:"6",height:"100%",insetEnd:"2",position:"relative",color:"currentColor",fontSize:"xl",_disabled:{opacity:.5}}}),sizes:{lg:d(d({},null==(Ko=To.sizes)?void 0:Ko.lg),{},{field:d(d({},null==(Yo=To.sizes)?void 0:Yo.lg.field),js)}),md:d(d({},null==(Qo=To.sizes)?void 0:Qo.md),{},{field:d(d({},null==(Jo=To.sizes)?void 0:Jo.md.field),js)}),sm:d(d({},null==(Xo=To.sizes)?void 0:Xo.sm),{},{field:d(d({},null==(Zo=To.sizes)?void 0:Zo.sm.field),js)}),xs:d(d({},null==(es=To.sizes)?void 0:es.xs),{},{field:d(d({},null==(ts=To.sizes)?void 0:ts.xs.field),js),icon:{insetEnd:"1"}})},variants:To.variants,defaultProps:To.defaultProps}),As=wr("skeleton-start-color"),Ls=wr("skeleton-end-color"),Ns={baseStyle:(u(ns={},As.variable,"colors.gray.100"),u(ns,Ls.variable,"colors.gray.400"),u(ns,"_dark",(u(rs={},As.variable,"colors.gray.800"),u(rs,Ls.variable,"colors.gray.600"),rs)),u(ns,"background",As.reference),u(ns,"borderColor",Ls.reference),u(ns,"opacity",.7),u(ns,"borderRadius","sm"),ns)},Fs=wr("skip-link-bg"),Bs={baseStyle:{borderRadius:"md",fontWeight:"semibold",_focusVisible:(as={boxShadow:"outline",padding:"4",position:"fixed",top:"6",insetStart:"6"},u(as,Fs.variable,"colors.white"),u(as,"_dark",u({},Fs.variable,"colors.gray.700")),u(as,"bg",Fs.reference),as)}},zs=on(sa.keys),Us=zs.defineMultiStyleConfig,Vs=zs.definePartsStyle,Ws=wr("slider-thumb-size"),qs=wr("slider-track-size"),Hs=wr("slider-bg"),$s=function(e){return d({display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"}},qa({orientation:e.orientation,vertical:{h:"100%"},horizontal:{w:"100%"}}))},Gs=function(e){var t,r;return d(d({},qa({orientation:e.orientation,horizontal:{h:qs.reference},vertical:{w:qs.reference}})),{},(u(r={overflow:"hidden",borderRadius:"sm"},Hs.variable,"colors.gray.200"),u(r,"_dark",u({},Hs.variable,"colors.whiteAlpha.200")),u(r,"_disabled",(u(t={},Hs.variable,"colors.gray.300"),u(t,"_dark",u({},Hs.variable,"colors.whiteAlpha.300")),t)),u(r,"bg",Hs.reference),r))},Ks=function(e){return d(d({},qa({orientation:e.orientation,vertical:{left:"50%",transform:"translateX(-50%)",_active:{transform:"translateX(-50%) scale(1.15)"}},horizontal:{top:"50%",transform:"translateY(-50%)",_active:{transform:"translateY(-50%) scale(1.15)"}}})),{},{w:Ws.reference,h:Ws.reference,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{bg:"gray.300"}})},Ys=function(e){var t,r=e.colorScheme;return u(t={width:"inherit",height:"inherit"},Hs.variable,"colors.".concat(r,".500")),u(t,"_dark",u({},Hs.variable,"colors.".concat(r,".200"))),u(t,"bg",Hs.reference),t},Qs=Us({baseStyle:Vs((function(e){return{container:$s(e),track:Gs(e),thumb:Ks(e),filledTrack:Ys(e)}})),sizes:{lg:Vs({container:(is={},u(is,Ws.variable,"sizes.4"),u(is,qs.variable,"sizes.1"),is)}),md:Vs({container:(os={},u(os,Ws.variable,"sizes.3.5"),u(os,qs.variable,"sizes.1"),os)}),sm:Vs({container:(ss={},u(ss,Ws.variable,"sizes.2.5"),u(ss,qs.variable,"sizes.0.5"),ss)})},defaultProps:{size:"md",colorScheme:"blue"}}),Js=ga("spinner-size"),Xs={baseStyle:{width:[Js.reference],height:[Js.reference]},sizes:{xs:u({},Js.variable,"sizes.3"),sm:u({},Js.variable,"sizes.4"),md:u({},Js.variable,"sizes.6"),lg:u({},Js.variable,"sizes.8"),xl:u({},Js.variable,"sizes.12")},defaultProps:{size:"md"}},Zs=on(ca.keys),ec=Zs.defineMultiStyleConfig,tc=Zs.definePartsStyle,rc=ec({baseStyle:tc({container:{},label:{fontWeight:"medium"},helpText:{opacity:.8,marginBottom:"2"},number:{verticalAlign:"baseline",fontWeight:"semibold"},icon:{marginEnd:1,w:"3.5",h:"3.5",verticalAlign:"middle"}}),sizes:{md:tc({label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}})},defaultProps:{size:"md"}}),nc=wr("kbd-bg"),ac={baseStyle:(u(cs={},nc.variable,"colors.gray.100"),u(cs,"_dark",u({},nc.variable,"colors.whiteAlpha.100")),u(cs,"bg",nc.reference),u(cs,"borderRadius","md"),u(cs,"borderWidth","1px"),u(cs,"borderBottomWidth","3px"),u(cs,"fontSize","0.8em"),u(cs,"fontWeight","bold"),u(cs,"lineHeight","normal"),u(cs,"px","0.4em"),u(cs,"whiteSpace","nowrap"),cs)},ic={baseStyle:{transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}}},oc=on(Zn.keys),sc=(0,oc.defineMultiStyleConfig)({baseStyle:(0,oc.definePartsStyle)({icon:{marginEnd:"2",display:"inline",verticalAlign:"text-bottom"}})}),cc=on(ea.keys),uc=cc.defineMultiStyleConfig,lc=cc.definePartsStyle,dc=wr("menu-bg"),pc=wr("menu-shadow"),fc=uc({baseStyle:lc({button:{transitionProperty:"common",transitionDuration:"normal"},list:(u(ls={},dc.variable,"#fff"),u(ls,pc.variable,"shadows.sm"),u(ls,"_dark",(u(us={},dc.variable,"colors.gray.700"),u(us,pc.variable,"shadows.dark-lg"),us)),u(ls,"color","inherit"),u(ls,"minW","3xs"),u(ls,"py","2"),u(ls,"zIndex",1),u(ls,"borderRadius","md"),u(ls,"borderWidth","1px"),u(ls,"bg",dc.reference),u(ls,"boxShadow",pc.reference),ls),item:{py:"1.5",px:"3",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:(ds={},u(ds,dc.variable,"colors.gray.100"),u(ds,"_dark",u({},dc.variable,"colors.whiteAlpha.100")),ds),_active:(ps={},u(ps,dc.variable,"colors.gray.200"),u(ps,"_dark",u({},dc.variable,"colors.whiteAlpha.200")),ps),_expanded:(fs={},u(fs,dc.variable,"colors.gray.100"),u(fs,"_dark",u({},dc.variable,"colors.whiteAlpha.100")),fs),_disabled:{opacity:.4,cursor:"not-allowed"},bg:dc.reference},groupTitle:{mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},command:{opacity:.6},divider:{border:0,borderBottom:"1px solid",borderColor:"inherit",my:"2",opacity:.6}})}),hc=on(ta.keys),mc=hc.defineMultiStyleConfig,vc=hc.definePartsStyle,gc=wr("modal-bg"),yc=wr("modal-shadow"),bc={bg:"blackAlpha.600",zIndex:"modal"},kc=function(e){return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:e.isCentered?"center":"flex-start",overflow:"inside"===e.scrollBehavior?"hidden":"auto",overscrollBehaviorY:"none"}},wc=function(e){var t,r;return u(r={borderRadius:"md",color:"inherit",my:"16",zIndex:"modal",maxH:"inside"===e.scrollBehavior?"calc(100% - 7.5rem)":void 0},gc.variable,"colors.white"),u(r,yc.variable,"shadows.lg"),u(r,"_dark",(u(t={},gc.variable,"colors.gray.700"),u(t,yc.variable,"shadows.dark-lg"),t)),u(r,"bg",gc.reference),u(r,"boxShadow",yc.reference),r},_c={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},Sc={position:"absolute",top:"2",insetEnd:"3"},xc=function(e){return{px:"6",py:"2",flex:"1",overflow:"inside"===e.scrollBehavior?"auto":void 0}},Cc={px:"6",py:"4"};function Pc(e){return vc("full"===e?{dialog:{maxW:"100vw",minH:"$100vh",my:"0",borderRadius:"0"}}:{dialog:{maxW:e}})}var Rc,Tc,Ec,Oc,Dc=mc({baseStyle:vc((function(e){return{overlay:bc,dialogContainer:Ho(kc,e),dialog:Ho(wc,e),header:_c,closeButton:Sc,body:Ho(xc,e),footer:Cc}})),sizes:{xs:Pc("xs"),sm:Pc("sm"),md:Pc("md"),lg:Pc("lg"),xl:Pc("xl"),"2xl":Pc("2xl"),"3xl":Pc("3xl"),"4xl":Pc("4xl"),"5xl":Pc("5xl"),"6xl":Pc("6xl"),full:Pc("full")},defaultProps:{size:"md"}}),Mc=on(ra.keys),jc=Mc.defineMultiStyleConfig,Ic=Mc.definePartsStyle,Ac=ga("number-input-stepper-width"),Lc=ga("number-input-input-padding"),Nc=Ea(Ac).add("0.5rem").toString(),Fc=ga("number-input-bg"),Bc=ga("number-input-color"),zc=ga("number-input-border-color"),Uc=(u(Rc={},Ac.variable,"sizes.6"),u(Rc,Lc.variable,Nc),Rc),Vc=function(e){var t,r;return null!=(r=null==(t=Ho(To.baseStyle,e))?void 0:t.field)?r:{}},Wc={width:Ac.reference},qc=(u(Oc={borderStart:"1px solid",borderStartColor:zc.reference,color:Bc.reference,bg:Fc.reference},Bc.variable,"colors.chakra-body-text"),u(Oc,zc.variable,"colors.chakra-border-color"),u(Oc,"_dark",(u(Tc={},Bc.variable,"colors.whiteAlpha.800"),u(Tc,zc.variable,"colors.whiteAlpha.300"),Tc)),u(Oc,"_active",(u(Ec={},Fc.variable,"colors.gray.200"),u(Ec,"_dark",u({},Fc.variable,"colors.whiteAlpha.300")),Ec)),u(Oc,"_disabled",{opacity:.4,cursor:"not-allowed"}),Oc),Hc=Ic((function(e){var t;return{root:Uc,field:null!=(t=Ho(Vc,e))?t:{},stepperGroup:Wc,stepper:qc}}));function $c(e){var t,r,n,a=null==(t=To.sizes)?void 0:t[e],i={lg:"md",md:"md",sm:"sm",xs:"sm"},o=null!=(n=null==(r=a.field)?void 0:r.fontSize)?n:"md",s=Fn.fontSizes[o];return Ic({field:d(d({},a.field),{},{paddingInlineEnd:Lc.reference,verticalAlign:"top"}),stepper:{fontSize:Ea(s).multiply(.75).toString(),_first:{borderTopEndRadius:i[e]},_last:{borderBottomEndRadius:i[e],mt:"-1px",borderTopWidth:1}}})}var Gc,Kc,Yc,Qc,Jc,Xc=jc({baseStyle:Hc,sizes:{xs:$c("xs"),sm:$c("sm"),md:$c("md"),lg:$c("lg")},variants:To.variants,defaultProps:To.defaultProps}),Zc=d(d({},null==(Gc=To.baseStyle)?void 0:Gc.field),{},{textAlign:"center"}),eu={lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}},tu={outline:function(e){var t,r,n;return null!=(n=null==(r=Ho(null==(t=To.variants)?void 0:t.outline,e))?void 0:r.field)?n:{}},flushed:function(e){var t,r,n;return null!=(n=null==(r=Ho(null==(t=To.variants)?void 0:t.flushed,e))?void 0:r.field)?n:{}},filled:function(e){var t,r,n;return null!=(n=null==(r=Ho(null==(t=To.variants)?void 0:t.filled,e))?void 0:r.field)?n:{}},unstyled:null!=(Yc=null==(Kc=To.variants)?void 0:Kc.unstyled.field)?Yc:{}},ru={baseStyle:Zc,sizes:eu,variants:tu,defaultProps:To.defaultProps},nu=on(na.keys),au=nu.defineMultiStyleConfig,iu=nu.definePartsStyle,ou=ga("popper-bg"),su=ga("popper-arrow-bg"),cu=ga("popper-arrow-shadow-color"),uu=au({baseStyle:iu({popper:{zIndex:10},content:(u(Jc={},ou.variable,"colors.white"),u(Jc,"bg",ou.reference),u(Jc,su.variable,ou.reference),u(Jc,cu.variable,"colors.gray.200"),u(Jc,"_dark",(u(Qc={},ou.variable,"colors.gray.700"),u(Qc,cu.variable,"colors.whiteAlpha.300"),Qc)),u(Jc,"width","xs"),u(Jc,"border","1px solid"),u(Jc,"borderColor","inherit"),u(Jc,"borderRadius","md"),u(Jc,"boxShadow","sm"),u(Jc,"zIndex","inherit"),u(Jc,"_focusVisible",{outline:0,boxShadow:"outline"}),Jc),header:{px:3,py:2,borderBottomWidth:"1px"},body:{px:3,py:2},footer:{px:3,py:2,borderTopWidth:"1px"},closeButton:{position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2}})}),lu=on(Kn.keys),du=lu.definePartsStyle,pu=lu.defineMultiStyleConfig,fu=wr("drawer-bg"),hu=wr("drawer-box-shadow");function mu(e){return du("full"===e?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:e}})}var vu,gu,yu,bu,ku,wu,_u,Su,xu,Cu,Pu,Ru,Tu,Eu,Ou,Du={bg:"blackAlpha.600",zIndex:"overlay"},Mu={display:"flex",zIndex:"modal",justifyContent:"center"},ju=function(e){var t,r;return d(d({},e.isFullHeight&&{height:"100vh"}),{},(u(r={zIndex:"modal",maxH:"100vh",color:"inherit"},fu.variable,"colors.white"),u(r,hu.variable,"shadows.lg"),u(r,"_dark",(u(t={},fu.variable,"colors.gray.700"),u(t,hu.variable,"shadows.dark-lg"),t)),u(r,"bg",fu.reference),u(r,"boxShadow",hu.reference),r))},Iu={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},Au={position:"absolute",top:"2",insetEnd:"3"},Lu={px:"6",py:"2",flex:"1",overflow:"auto"},Nu={px:"6",py:"4"},Fu=pu({baseStyle:du((function(e){return{overlay:Du,dialogContainer:Mu,dialog:Ho(ju,e),header:Iu,closeButton:Au,body:Lu,footer:Nu}})),sizes:{xs:mu("xs"),sm:mu("md"),md:mu("lg"),lg:mu("2xl"),xl:mu("4xl"),full:mu("full")},defaultProps:{size:"xs"}}),Bu=on(Yn.keys),zu=Bu.definePartsStyle,Uu=(0,Bu.defineMultiStyleConfig)({baseStyle:zu({preview:{borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal"},input:{borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},textarea:{borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}}})}),Vu=on(Qn.keys),Wu=Vu.definePartsStyle,qu=Vu.defineMultiStyleConfig,Hu=wr("form-control-color"),$u=qu({baseStyle:Wu({container:{width:"100%",position:"relative"},requiredIndicator:(u(vu={marginStart:"1"},Hu.variable,"colors.red.500"),u(vu,"_dark",u({},Hu.variable,"colors.red.300")),u(vu,"color",Hu.reference),vu),helperText:(u(gu={mt:"2"},Hu.variable,"colors.gray.600"),u(gu,"_dark",u({},Hu.variable,"colors.whiteAlpha.600")),u(gu,"color",Hu.reference),u(gu,"lineHeight","normal"),u(gu,"fontSize","sm"),gu)})}),Gu=on(Jn.keys),Ku=Gu.definePartsStyle,Yu=Gu.defineMultiStyleConfig,Qu=wr("form-error-color"),Ju=Yu({baseStyle:Ku({text:(u(yu={},Qu.variable,"colors.red.500"),u(yu,"_dark",u({},Qu.variable,"colors.red.300")),u(yu,"color",Qu.reference),u(yu,"mt","2"),u(yu,"fontSize","sm"),u(yu,"lineHeight","normal"),yu),icon:(u(bu={marginEnd:"0.5em"},Qu.variable,"colors.red.500"),u(bu,"_dark",u({},Qu.variable,"colors.red.300")),u(bu,"color",Qu.reference),bu)})}),Xu={baseStyle:{fontSize:"md",marginEnd:"3",mb:"2",fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}}},Zu={baseStyle:{fontFamily:"heading",fontWeight:"bold"},sizes:{"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},defaultProps:{size:"xl"}},el=on($n.keys),tl=(0,el.defineMultiStyleConfig)({baseStyle:(0,el.definePartsStyle)({link:{transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}}})}),rl=function(e){var t=e.colorScheme,r=e.theme;if("gray"===t)return{color:Wa("inherit","whiteAlpha.900")(e),_hover:{bg:Wa("gray.100","whiteAlpha.200")(e)},_active:{bg:Wa("gray.200","whiteAlpha.300")(e)}};var n=Pi("".concat(t,".200"),.12)(r),a=Pi("".concat(t,".200"),.24)(r);return{color:Wa("".concat(t,".600"),"".concat(t,".200"))(e),bg:"transparent",_hover:{bg:Wa("".concat(t,".50"),n)(e)},_active:{bg:Wa("".concat(t,".100"),a)(e)}}},nl={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},al=function(e){var t,r=e.colorScheme;if("gray"===r){var n=Wa("gray.100","whiteAlpha.200")(e);return{bg:n,_hover:{bg:Wa("gray.200","whiteAlpha.300")(e),_disabled:{bg:n}},_active:{bg:Wa("gray.300","whiteAlpha.400")(e)}}}var a=null!=(t=nl[r])?t:{},i=a.bg,o=void 0===i?"".concat(r,".500"):i,s=a.color,c=void 0===s?"white":s,u=a.hoverBg,l=void 0===u?"".concat(r,".600"):u,d=a.activeBg,p=void 0===d?"".concat(r,".700"):d,f=Wa(o,"".concat(r,".200"))(e);return{bg:f,color:Wa(c,"gray.800")(e),_hover:{bg:Wa(l,"".concat(r,".300"))(e),_disabled:{bg:f}},_active:{bg:Wa(p,"".concat(r,".400"))(e)}}},il={baseStyle:{lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},variants:{ghost:rl,outline:function(e){var t=e.colorScheme,r=Wa("gray.200","whiteAlpha.300")(e);return d({border:"1px solid",borderColor:"gray"===t?r:"currentColor",".chakra-button__group[data-attached][data-orientation=horizontal] > &:not(:last-of-type)":{marginEnd:"-1px"},".chakra-button__group[data-attached][data-orientation=vertical] > &:not(:last-of-type)":{marginBottom:"-1px"}},Ho(rl,e))},solid:al,link:function(e){var t=e.colorScheme;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:Wa("".concat(t,".500"),"".concat(t,".200"))(e),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:Wa("".concat(t,".700"),"".concat(t,".500"))(e)}}},unstyled:{bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:"0",p:"0"}},sizes:{lg:{h:"12",minW:"12",fontSize:"lg",px:"6"},md:{h:"10",minW:"10",fontSize:"md",px:"4"},sm:{h:"8",minW:"8",fontSize:"sm",px:"3"},xs:{h:"6",minW:"6",fontSize:"xs",px:"2"}},defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},ol=on(fa.keys),sl=ol.definePartsStyle,cl=ol.defineMultiStyleConfig,ul=wr("card-bg"),ll=wr("card-padding"),dl=wr("card-shadow"),pl=wr("card-radius"),fl=wr("card-border-width","0"),hl=wr("card-border-color"),ml=sl({container:(ku={},u(ku,ul.variable,"colors.chakra-body-bg"),u(ku,"backgroundColor",ul.reference),u(ku,"boxShadow",dl.reference),u(ku,"borderRadius",pl.reference),u(ku,"color","chakra-body-text"),u(ku,"borderWidth",fl.reference),u(ku,"borderColor",hl.reference),ku),body:{padding:ll.reference,flex:"1 1 0%"},header:{padding:ll.reference},footer:{padding:ll.reference}}),vl={sm:sl({container:(wu={},u(wu,pl.variable,"radii.base"),u(wu,ll.variable,"space.3"),wu)}),md:sl({container:(_u={},u(_u,pl.variable,"radii.md"),u(_u,ll.variable,"space.5"),_u)}),lg:sl({container:(Su={},u(Su,pl.variable,"radii.xl"),u(Su,ll.variable,"space.7"),Su)})},gl=cl({baseStyle:ml,variants:{elevated:sl({container:(xu={},u(xu,dl.variable,"shadows.base"),u(xu,"_dark",u({},ul.variable,"colors.gray.700")),xu)}),outline:sl({container:(Cu={},u(Cu,fl.variable,"1px"),u(Cu,hl.variable,"colors.chakra-border-color"),Cu)}),filled:sl({container:u({},ul.variable,"colors.chakra-subtle-bg")}),unstyled:{body:u({},ll.variable,0),header:u({},ll.variable,0),footer:u({},ll.variable,0)}},sizes:vl,defaultProps:{variant:"elevated",size:"md"}}),yl=ga("close-button-size"),bl=ga("close-button-bg"),kl={baseStyle:{w:[yl.reference],h:[yl.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:(Pu={},u(Pu,bl.variable,"colors.blackAlpha.100"),u(Pu,"_dark",u({},bl.variable,"colors.whiteAlpha.100")),Pu),_active:(Ru={},u(Ru,bl.variable,"colors.blackAlpha.200"),u(Ru,"_dark",u({},bl.variable,"colors.whiteAlpha.200")),Ru),_focusVisible:{boxShadow:"outline"},bg:bl.reference},sizes:{lg:(Tu={},u(Tu,yl.variable,"sizes.10"),u(Tu,"fontSize","md"),Tu),md:(Eu={},u(Eu,yl.variable,"sizes.8"),u(Eu,"fontSize","xs"),Eu),sm:(Ou={},u(Ou,yl.variable,"sizes.6"),u(Ou,"fontSize","2xs"),Ou)},defaultProps:{size:"md"}},wl=Qi.variants,_l=Qi.defaultProps,Sl={baseStyle:{fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm",bg:$i.bg.reference,color:$i.color.reference,boxShadow:$i.shadow.reference},variants:wl,defaultProps:_l},xl={baseStyle:{w:"100%",mx:"auto",maxW:"prose",px:"4"}},Cl={baseStyle:{opacity:.6,borderColor:"inherit"},variants:{solid:{borderStyle:"solid"},dashed:{borderStyle:"dashed"}},defaultProps:{variant:"solid"}},Pl=on(Wn.keys),Rl=Pl.definePartsStyle,Tl=(0,Pl.defineMultiStyleConfig)({baseStyle:Rl({container:{borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},button:{transitionProperty:"common",transitionDuration:"normal",fontSize:"md",_focusVisible:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:"4",py:"2"},panel:{pt:"2",px:"4",pb:"5"},icon:{fontSize:"1.25em"}})}),El=on(qn.keys),Ol=El.definePartsStyle,Dl=El.defineMultiStyleConfig,Ml=wr("alert-fg"),jl=wr("alert-bg"),Il=Ol({container:{bg:jl.reference,px:"4",py:"3"},title:{fontWeight:"bold",lineHeight:"6",marginEnd:"2"},description:{lineHeight:"6"},icon:{color:Ml.reference,flexShrink:0,marginEnd:"3",w:"5",h:"6"},spinner:{color:Ml.reference,flexShrink:0,marginEnd:"3",w:"5",h:"5"}});function Al(e){var t=e.theme,r=e.colorScheme,n=Pi("".concat(r,".200"),.16)(t);return{light:"colors.".concat(r,".100"),dark:n}}var Ll,Nl,Fl=Ol((function(e){var t,r,n=e.colorScheme,a=Al(e);return{container:(r={},u(r,Ml.variable,"colors.".concat(n,".500")),u(r,jl.variable,a.light),u(r,"_dark",(t={},u(t,Ml.variable,"colors.".concat(n,".200")),u(t,jl.variable,a.dark),t)),r)}})),Bl=Ol((function(e){var t,r,n=e.colorScheme,a=Al(e);return{container:(r={},u(r,Ml.variable,"colors.".concat(n,".500")),u(r,jl.variable,a.light),u(r,"_dark",(t={},u(t,Ml.variable,"colors.".concat(n,".200")),u(t,jl.variable,a.dark),t)),u(r,"paddingStart","3"),u(r,"borderStartWidth","4px"),u(r,"borderStartColor",Ml.reference),r)}})),zl=Ol((function(e){var t,r,n=e.colorScheme,a=Al(e);return{container:(r={},u(r,Ml.variable,"colors.".concat(n,".500")),u(r,jl.variable,a.light),u(r,"_dark",(t={},u(t,Ml.variable,"colors.".concat(n,".200")),u(t,jl.variable,a.dark),t)),u(r,"pt","2"),u(r,"borderTopWidth","4px"),u(r,"borderTopColor",Ml.reference),r)}})),Ul=Ol((function(e){var t,r,n=e.colorScheme;return{container:(r={},u(r,Ml.variable,"colors.white"),u(r,jl.variable,"colors.".concat(n,".500")),u(r,"_dark",(t={},u(t,Ml.variable,"colors.gray.900"),u(t,jl.variable,"colors.".concat(n,".200")),t)),u(r,"color",Ml.reference),r)}})),Vl=Dl({baseStyle:Il,variants:{subtle:Fl,"left-accent":Bl,"top-accent":zl,solid:Ul},defaultProps:{variant:"subtle",colorScheme:"blue"}}),Wl=on(Hn.keys),ql=Wl.definePartsStyle,Hl=Wl.defineMultiStyleConfig,$l=wr("avatar-border-color"),Gl=wr("avatar-bg"),Kl=(u(Ll={borderRadius:"full",border:"0.2em solid"},$l.variable,"white"),u(Ll,"_dark",u({},$l.variable,"colors.gray.800")),u(Ll,"borderColor",$l.reference),Ll),Yl=(u(Nl={},Gl.variable,"colors.gray.200"),u(Nl,"_dark",u({},Gl.variable,"colors.whiteAlpha.400")),u(Nl,"bgColor",Gl.reference),Nl),Ql=wr("avatar-background"),Jl=function(e){var t,r=e.name,n=e.theme,a=r?Ti({string:r}):"colors.gray.400",i=function(e){return function(t){return"dark"===Ci(e)(t)}}(a)(n),o="white";return i||(o="gray.800"),t={bg:Ql.reference,"&:not([data-loaded])":u({},Ql.variable,a),color:o},u(t,$l.variable,"colors.white"),u(t,"_dark",u({},$l.variable,"colors.gray.800")),u(t,"borderColor",$l.reference),u(t,"verticalAlign","top"),t};function Xl(e){var t="100%"!==e?zn[e]:void 0;return ql({container:{width:e,height:e,fontSize:"calc(".concat(null!=t?t:e," / 2.5)")},excessLabel:{width:e,height:e},label:{fontSize:"calc(".concat(null!=t?t:e," / 2.5)"),lineHeight:"100%"!==e?null!=t?t:e:void 0}})}var Zl={Accordion:Tl,Alert:Vl,Avatar:Hl({baseStyle:ql((function(e){return{badge:Ho(Kl,e),excessLabel:Ho(Yl,e),container:Ho(Jl,e)}})),sizes:{"2xs":Xl(4),xs:Xl(6),sm:Xl(8),md:Xl(12),lg:Xl(16),xl:Xl(24),"2xl":Xl(32),full:Xl("100%")},defaultProps:{size:"md"}}),Badge:Qi,Breadcrumb:tl,Button:il,Checkbox:_s,CloseButton:kl,Code:Sl,Container:xl,Divider:Cl,Drawer:Fu,Editable:Uu,Form:$u,FormError:Ju,FormLabel:Xu,Heading:Zu,Input:To,Kbd:ac,Link:ic,List:sc,Menu:fc,Modal:Dc,NumberInput:Xc,PinInput:ru,Popover:uu,Progress:qo,Radio:Ts,Select:Is,Skeleton:Ns,SkipLink:Bs,Slider:Qs,Spinner:Xs,Stat:rc,Switch:Va,Table:Qa,Tabs:Hi,Tag:no,Textarea:Do,Tooltip:Ao,Card:gl},ed={colors:{"chakra-body-text":{_light:"gray.800",_dark:"whiteAlpha.900"},"chakra-body-bg":{_light:"white",_dark:"gray.800"},"chakra-border-color":{_light:"gray.200",_dark:"whiteAlpha.300"},"chakra-subtle-bg":{_light:"gray.100",_dark:"gray.700"},"chakra-placeholder-color":{_light:"gray.500",_dark:"whiteAlpha.400"}}},td={global:{body:{fontFamily:"body",color:"chakra-body-text",bg:"chakra-body-bg",transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:"chakra-placeholder-color"},"*, *::before, &::after":{borderColor:"chakra-border-color"}}},rd={useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"},nd=d(d({semanticTokens:ed,direction:"ltr"},Un),{},{components:Zl,styles:td,config:rd}),ad=d(d({semanticTokens:ed,direction:"ltr",components:{}},Un),{},{styles:td,config:rd}),id=function(e,t){return e.find((function(e){return e.id===t}))};function od(e,t){var r=sd(e,t);return{position:r,index:r?e[r].findIndex((function(e){return e.id===t})):-1}}function sd(e,t){for(var r=0,n=Object.entries(e);r<n.length;r++){var a=rt(n[r],2),i=a[0],o=a[1];if(id(o,t))return i}}function cd(e){return{position:"fixed",zIndex:"var(--toast-z-index, 5500)",pointerEvents:"none",display:"flex",flexDirection:"column",margin:"top"===e||"bottom"===e?"0 auto":void 0,top:e.includes("top")?"env(safe-area-inset-top, 0px)":void 0,bottom:e.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,right:e.includes("left")?void 0:"env(safe-area-inset-right, 0px)",left:e.includes("right")?void 0:"env(safe-area-inset-left, 0px)"}}function ud(e,t){var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=(0,h.useRef)(e);return(0,h.useEffect)((function(){r.current=e})),(0,h.useCallback)((function(){for(var e,t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return null==(t=r.current)?void 0:(e=t).call.apply(e,[r].concat(a))}),t)}(e);(0,h.useEffect)((function(){if(null!=t){var e;return e=window.setTimeout((function(){r()}),t),function(){e&&window.clearTimeout(e)}}}),[t,r])}function ld(e,t){var r=(0,h.useRef)(!1),n=(0,h.useRef)(!1);(0,h.useEffect)((function(){if(r.current&&n.current)return e();n.current=!0}),t),(0,h.useEffect)((function(){return r.current=!0,function(){r.current=!1}}),[])}var dd=(0,h.createContext)(null);function pd(){return null===(e=(0,h.useContext)(dd))||e.isPresent;var e}var fd=(0,h.createContext)({transformPagePoint:function(e){return e},isStatic:!1,reducedMotion:"never"}),hd=(0,h.createContext)({}),md="undefined"!==typeof document,vd=md?h.useLayoutEffect:h.useEffect,gd=(0,h.createContext)({strict:!1});function yd(e){return"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function bd(e){return"string"===typeof e||Array.isArray(e)}function kd(e){return"object"===typeof e&&"function"===typeof e.start}var wd=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],_d=["initial"].concat(wd);function Sd(e){return kd(e.animate)||_d.some((function(t){return bd(e[t])}))}function xd(e){return Boolean(Sd(e)||e.variants)}function Cd(e){var t=function(e,t){if(Sd(e)){var r=e.initial,n=e.animate;return{initial:!1===r||bd(r)?r:void 0,animate:bd(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,h.useContext)(hd)),r=t.initial,n=t.animate;return(0,h.useMemo)((function(){return{initial:r,animate:n}}),[Pd(r),Pd(n)])}function Pd(e){return Array.isArray(e)?e.join(" "):e}var Rd={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Td={},Ed=function(e){Td[e]={isEnabled:function(t){return Rd[e].some((function(e){return!!t[e]}))}}};for(var Od in Rd)Ed(Od);function Dd(e){var t=(0,h.useRef)(null);return null===t.current&&(t.current=e()),t.current}var Md={hasAnimatedSinceResize:!0,hasEverUpdated:!1},jd=1;var Id=(0,h.createContext)({}),Ad=(0,h.createContext)({}),Ld=Symbol.for("motionComponentSymbol");function Nd(e){var t=e.preloadedFeatures,r=e.createVisualElement,n=e.useRender,a=e.useVisualState,i=e.Component;t&&function(e){for(var t in e)Td[t]=d(d({},Td[t]),e[t])}(t);var o=(0,h.forwardRef)((function(e,o){var s,c=d(d(d({},(0,h.useContext)(fd)),e),{},{layoutId:Fd(e)}),u=c.isStatic,l=Cd(e),p=u?void 0:Dd((function(){if(Md.hasEverUpdated)return jd++})),f=a(e,u);if(!u&&md){l.visualElement=function(e,t,r,n){var a=(0,h.useContext)(hd).visualElement,i=(0,h.useContext)(gd),o=(0,h.useContext)(dd),s=(0,h.useContext)(fd).reducedMotion,c=(0,h.useRef)();n=n||i.renderer,!c.current&&n&&(c.current=n(e,{visualState:t,parent:a,props:r,presenceContext:o,blockInitialAnimation:!!o&&!1===o.initial,reducedMotionConfig:s}));var u=c.current;return(0,h.useInsertionEffect)((function(){u&&u.update(r,o)})),vd((function(){u&&u.render()})),(0,h.useEffect)((function(){u&&u.updateFeatures()})),(window.HandoffAppearAnimations?vd:h.useEffect)((function(){u&&u.animationState&&u.animationState.animateChanges()})),u}(i,f,c,r);var m=(0,h.useContext)(Ad),v=(0,h.useContext)(gd).strict;l.visualElement&&(s=l.visualElement.loadFeatures(c,v,t,p,m))}return h.createElement(hd.Provider,{value:l},s&&l.visualElement?h.createElement(s,d({visualElement:l.visualElement},c)):null,n(i,e,p,function(e,t,r){return(0,h.useCallback)((function(n){n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),r&&("function"===typeof r?r(n):yd(r)&&(r.current=n))}),[t])}(f,l.visualElement,o),f,u,l.visualElement))}));return o[Ld]=i,o}function Fd(e){var t=e.layoutId,r=(0,h.useContext)(Id).id;return r&&void 0!==t?r+"-"+t:t}function Bd(e){function t(t){return Nd(e(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}if("undefined"===typeof Proxy)return t;var r=new Map;return new Proxy(t,{get:function(e,n){return r.has(n)||r.set(n,t(n)),r.get(n)}})}var zd=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ud(e){return"string"===typeof e&&!e.includes("-")&&!!(zd.indexOf(e)>-1||/[A-Z]/.test(e))}var Vd={};var Wd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],qd=new Set(Wd);function Hd(e,t){var r=t.layout,n=t.layoutId;return qd.has(e)||e.startsWith("origin")||(r||void 0!==n)&&(!!Vd[e]||"opacity"===e)}var $d=function(e){return Boolean(e&&e.getVelocity)},Gd={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Kd=Wd.length;var Yd=function(e){return function(t){return"string"===typeof t&&t.startsWith(e)}},Qd=Yd("--"),Jd=Yd("var(--"),Xd=function(e,t){return t&&"number"===typeof e?t.transform(e):e},Zd=function(e,t,r){return Math.min(Math.max(r,e),t)},ep={test:function(e){return"number"===typeof e},parse:parseFloat,transform:function(e){return e}},tp=d(d({},ep),{},{transform:function(e){return Zd(0,1,e)}}),rp=d(d({},ep),{},{default:1}),np=function(e){return Math.round(1e5*e)/1e5},ap=/(-)?([\d]*\.?[\d])+/g,ip=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,op=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function sp(e){return"string"===typeof e}var cp=function(e){return{test:function(t){return sp(t)&&t.endsWith(e)&&1===t.split(" ").length},parse:parseFloat,transform:function(t){return"".concat(t).concat(e)}}},up=cp("deg"),lp=cp("%"),dp=cp("px"),pp=cp("vh"),fp=cp("vw"),hp=d(d({},lp),{},{parse:function(e){return lp.parse(e)/100},transform:function(e){return lp.transform(100*e)}}),mp=d(d({},ep),{},{transform:Math.round}),vp={borderWidth:dp,borderTopWidth:dp,borderRightWidth:dp,borderBottomWidth:dp,borderLeftWidth:dp,borderRadius:dp,radius:dp,borderTopLeftRadius:dp,borderTopRightRadius:dp,borderBottomRightRadius:dp,borderBottomLeftRadius:dp,width:dp,maxWidth:dp,height:dp,maxHeight:dp,size:dp,top:dp,right:dp,bottom:dp,left:dp,padding:dp,paddingTop:dp,paddingRight:dp,paddingBottom:dp,paddingLeft:dp,margin:dp,marginTop:dp,marginRight:dp,marginBottom:dp,marginLeft:dp,rotate:up,rotateX:up,rotateY:up,rotateZ:up,scale:rp,scaleX:rp,scaleY:rp,scaleZ:rp,skew:up,skewX:up,skewY:up,distance:dp,translateX:dp,translateY:dp,translateZ:dp,x:dp,y:dp,z:dp,perspective:dp,transformPerspective:dp,opacity:tp,originX:hp,originY:hp,originZ:dp,zIndex:mp,fillOpacity:tp,strokeOpacity:tp,numOctaves:mp};function gp(e,t,r,n){var a=e.style,i=e.vars,o=e.transform,s=e.transformOrigin,c=!1,u=!1,l=!0;for(var d in t){var p=t[d];if(Qd(d))i[d]=p;else{var f=vp[d],h=Xd(p,f);if(qd.has(d)){if(c=!0,o[d]=h,!l)continue;p!==(f.default||0)&&(l=!1)}else d.startsWith("origin")?(u=!0,s[d]=h):a[d]=h}}if(t.transform||(c||n?a.transform=function(e,t,r,n){for(var a=t.enableHardwareAcceleration,i=void 0===a||a,o=t.allowTransformNone,s=void 0===o||o,c="",u=0;u<Kd;u++){var l=Wd[u];if(void 0!==e[l]){var d=Gd[l]||l;c+="".concat(d,"(").concat(e[l],") ")}}return i&&!e.z&&(c+="translateZ(0)"),c=c.trim(),n?c=n(e,r?"":c):s&&r&&(c="none"),c}(e.transform,r,l,n):a.transform&&(a.transform="none")),u){var m=s.originX,v=void 0===m?"50%":m,g=s.originY,y=void 0===g?"50%":g,b=s.originZ,k=void 0===b?0:b;a.transformOrigin="".concat(v," ").concat(y," ").concat(k)}}var yp=function(){return{style:{},transform:{},transformOrigin:{},vars:{}}};function bp(e,t,r){for(var n in t)$d(t[n])||Hd(n,r)||(e[n]=t[n])}function kp(e,t,r){var n={};return bp(n,e.style||{},e),Object.assign(n,function(e,t,r){var n=e.transformTemplate;return(0,h.useMemo)((function(){var e=yp();return gp(e,t,{enableHardwareAcceleration:!r},n),Object.assign({},e.vars,e.style)}),[t])}(e,t,r)),e.transformValues?e.transformValues(n):n}function wp(e,t,r){var n={},a=kp(e,t,r);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=a,n}var _p=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function Sp(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||_p.has(e)}var xp,Cp=function(e){return!Sp(e)};try{(xp=require("@emotion/is-prop-valid").default)&&(Cp=function(e){return e.startsWith("on")?!Sp(e):xp(e)})}catch(po){}function Pp(e,t,r){return"string"===typeof e?e:dp.transform(t+r*e)}var Rp={offset:"stroke-dashoffset",array:"stroke-dasharray"},Tp={offset:"strokeDashoffset",array:"strokeDasharray"};var Ep=["attrX","attrY","attrScale","originX","originY","pathLength","pathSpacing","pathOffset"];function Op(e,t,r,n,a){var i=t.attrX,o=t.attrY,s=t.attrScale,c=t.originX,u=t.originY,l=t.pathLength,d=t.pathSpacing,f=void 0===d?1:d,h=t.pathOffset,m=void 0===h?0:h;if(gp(e,p(t,Ep),r,a),n)e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);else{e.attrs=e.style,e.style={};var v=e.attrs,g=e.style,y=e.dimensions;v.transform&&(y&&(g.transform=v.transform),delete v.transform),y&&(void 0!==c||void 0!==u||g.transform)&&(g.transformOrigin=function(e,t,r){var n=Pp(t,e.x,e.width),a=Pp(r,e.y,e.height);return"".concat(n," ").concat(a)}(y,void 0!==c?c:.5,void 0!==u?u:.5)),void 0!==i&&(v.x=i),void 0!==o&&(v.y=o),void 0!==s&&(v.scale=s),void 0!==l&&function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;var i=a?Rp:Tp;e[i.offset]=dp.transform(-n);var o=dp.transform(t),s=dp.transform(r);e[i.array]="".concat(o," ").concat(s)}(v,l,f,m,!1)}}var Dp=function(){return d(d({},yp()),{},{attrs:{}})},Mp=function(e){return"string"===typeof e&&"svg"===e.toLowerCase()};function jp(e,t,r,n){var a=(0,h.useMemo)((function(){var r=Dp();return Op(r,t,{enableHardwareAcceleration:!1},Mp(n),e.transformTemplate),d(d({},r.attrs),{},{style:d({},r.style)})}),[t]);if(e.style){var i={};bp(i,e.style,e),a.style=d(d({},i),a.style)}return a}function Ip(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,r,n,a,i,o){var s=i.latestValues,c=(Ud(t)?jp:wp)(r,s,o,t),u=function(e,t,r){var n={};for(var a in e)"values"===a&&"object"===typeof e.values||(Cp(a)||!0===r&&Sp(a)||!t&&!Sp(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}(r,"string"===typeof t,e),l=d(d(d({},u),c),{},{ref:a}),p=r.children,f=(0,h.useMemo)((function(){return $d(p)?p.get():p}),[p]);return n&&(l["data-projection-id"]=n),(0,h.createElement)(t,d(d({},l),{},{children:f}))}}var Ap=function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()};function Lp(e,t,r,n){var a=t.style,i=t.vars;for(var o in Object.assign(e.style,a,n&&n.getProjectionStyles(r)),i)e.style.setProperty(o,i[o])}var Np=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Fp(e,t,r,n){for(var a in Lp(e,t,void 0,n),t.attrs)e.setAttribute(Np.has(a)?a:Ap(a),t.attrs[a])}function Bp(e,t){var r=e.style,n={};for(var a in r)($d(r[a])||t.style&&$d(t.style[a])||Hd(a,e))&&(n[a]=r[a]);return n}function zp(e,t){var r=Bp(e,t);for(var n in e){if($d(e[n])||$d(t[n]))r[-1!==Wd.indexOf(n)?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n]=e[n]}return r}function Up(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return"function"===typeof t&&(t=t(void 0!==r?r:e.custom,n,a)),"string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t&&(t=t(void 0!==r?r:e.custom,n,a)),t}var Vp=function(e){return Array.isArray(e)},Wp=function(e){return Boolean(e&&"object"===typeof e&&e.mix&&e.toValue)},qp=function(e){return Vp(e)?e[e.length-1]||0:e};function Hp(e){var t=$d(e)?e.get():e;return Wp(t)?t.toValue():t}var $p=["transitionEnd","transition"];var Gp=function(e){return function(t,r){var n=(0,h.useContext)(hd),a=(0,h.useContext)(dd),i=function(){return function(e,t,r,n){var a=e.scrapeMotionValuesFromProps,i=e.createRenderState,o=e.onMount,s={latestValues:Kp(t,r,n,a),renderState:i()};return o&&(s.mount=function(e){return o(t,e,s)}),s}(e,t,n,a)};return r?i():Dd(i)}};function Kp(e,t,r,n){var a={},i=n(e,{});for(var o in i)a[o]=Hp(i[o]);var s=e.initial,c=e.animate,u=Sd(e),l=xd(e);t&&l&&!u&&!1!==e.inherit&&(void 0===s&&(s=t.initial),void 0===c&&(c=t.animate));var d=!!r&&!1===r.initial,f=(d=d||!1===s)?c:s;f&&"boolean"!==typeof f&&!kd(f)&&(Array.isArray(f)?f:[f]).forEach((function(t){var r=Up(e,t);if(r){var n=r.transitionEnd,i=(r.transition,p(r,$p));for(var o in i){var s=i[o];if(Array.isArray(s))s=s[d?s.length-1:0];null!==s&&(a[o]=s)}for(var c in n)a[c]=n[c]}}));return a}var Yp={useVisualState:Gp({scrapeMotionValuesFromProps:zp,createRenderState:Dp,onMount:function(e,t,r){var n=r.renderState,a=r.latestValues;try{n.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(i){n.dimensions={x:0,y:0,width:0,height:0}}Op(n,a,{enableHardwareAcceleration:!1},Mp(t.tagName),e.transformTemplate),Fp(t,n)}})},Qp={useVisualState:Gp({scrapeMotionValuesFromProps:Bp,createRenderState:yp})};function Jp(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,r,n),function(){return e.removeEventListener(t,r)}}var Xp=function(e){return"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary};function Zp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{point:{x:e[t+"X"],y:e[t+"Y"]}}}var ef=function(e){return function(t){return Xp(t)&&e(t,Zp(t))}};function tf(e,t,r,n){return Jp(e,t,ef(r),n)}var rf=function(e,t){return function(r){return t(e(r))}},nf=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(rf)};function af(e){var t=null;return function(){return null===t&&(t=e,function(){t=null})}}var of=af("dragHorizontal"),sf=af("dragVertical");function cf(e){var t=!1;if("y"===e)t=sf();else if("x"===e)t=of();else{var r=of(),n=sf();r&&n?t=function(){r(),n()}:(r&&r(),n&&n())}return t}function uf(){var e=cf(!0);return!e||(e(),!1)}var lf=function(){function e(t){Za(this,e),this.isMounted=!1,this.node=t}return Xa(e,[{key:"update",value:function(){}}]),e}();var df={delta:0,timestamp:0,isProcessing:!1},pf=!0,ff=!1,hf=["read","update","preRender","render","postRender"],mf=hf.reduce((function(e,t){return e[t]=function(e){var t=[],r=[],n=0,a=!1,i=!1,o=new WeakSet,s={schedule:function(e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&a,s=i?t:r;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&o.add(e),-1===s.indexOf(e)&&(s.push(e),i&&a&&(n=t.length)),e},cancel:function(e){var t=r.indexOf(e);-1!==t&&r.splice(t,1),o.delete(e)},process:function(c){if(a)i=!0;else{a=!0;var u=[r,t];if(t=u[0],(r=u[1]).length=0,n=t.length)for(var l=0;l<n;l++){var d=t[l];d(c),o.has(d)&&(s.schedule(d),e())}a=!1,i&&(i=!1,s.process(c))}}};return s}((function(){return ff=!0})),e}),{}),vf=function(e){return mf[e].process(df)},gf=function e(t){ff=!1,df.delta=pf?1e3/60:Math.max(Math.min(t-df.timestamp,40),1),df.timestamp=t,df.isProcessing=!0,hf.forEach(vf),df.isProcessing=!1,ff&&(pf=!1,requestAnimationFrame(e))},yf=hf.reduce((function(e,t){var r=mf[t];return e[t]=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return ff||(ff=!0,pf=!0,df.isProcessing||requestAnimationFrame(gf)),r.schedule(e,t,n)},e}),{});function bf(e){hf.forEach((function(t){return mf[t].cancel(e)}))}function kf(e,t){var r="pointer"+(t?"enter":"leave"),n="onHover"+(t?"Start":"End");return tf(e.current,r,(function(r,a){if("touch"!==r.type&&!uf()){var i=e.getProps();e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",t),i[n]&&yf.update((function(){return i[n](r,a)}))}}),{passive:!e.getProps()[n]})}var wf=function(e){ti(r,e);var t=ii(r);function r(){return Za(this,r),t.apply(this,arguments)}return Xa(r,[{key:"mount",value:function(){this.unmount=nf(kf(this.node,!0),kf(this.node,!1))}},{key:"unmount",value:function(){}}]),r}(lf),_f=function(e){ti(r,e);var t=ii(r);function r(){var e;return Za(this,r),(e=t.apply(this,arguments)).isActive=!1,e}return Xa(r,[{key:"onFocus",value:function(){var e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}},{key:"onBlur",value:function(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}},{key:"mount",value:function(){var e=this;this.unmount=nf(Jp(this.node.current,"focus",(function(){return e.onFocus()})),Jp(this.node.current,"blur",(function(){return e.onBlur()})))}},{key:"unmount",value:function(){}}]),r}(lf),Sf=function e(t,r){return!!r&&(t===r||e(t,r.parentElement))},xf=function(e){return e};function Cf(e,t){if(t){var r=new PointerEvent("pointer"+e);t(r,Zp(r))}}var Pf=function(e){ti(r,e);var t=ii(r);function r(){var e;return Za(this,r),(e=t.apply(this,arguments)).removeStartListeners=xf,e.removeEndListeners=xf,e.removeAccessibleListeners=xf,e.startPointerPress=function(t,r){if(e.removeEndListeners(),!e.isPressing){var n=e.node.getProps(),a=tf(window,"pointerup",(function(t,r){if(e.checkPressEnd()){var n=e.node.getProps(),a=n.onTap,i=n.onTapCancel;yf.update((function(){Sf(e.node.current,t.target)?a&&a(t,r):i&&i(t,r)}))}}),{passive:!(n.onTap||n.onPointerUp)}),i=tf(window,"pointercancel",(function(t,r){return e.cancelPress(t,r)}),{passive:!(n.onTapCancel||n.onPointerCancel)});e.removeEndListeners=nf(a,i),e.startPress(t,r)}},e.startAccessiblePress=function(){var t=Jp(e.node.current,"keydown",(function(t){if("Enter"===t.key&&!e.isPressing){e.removeEndListeners(),e.removeEndListeners=Jp(e.node.current,"keyup",(function(t){"Enter"===t.key&&e.checkPressEnd()&&Cf("up",(function(t,r){var n=e.node.getProps().onTap;n&&yf.update((function(){return n(t,r)}))}))})),Cf("down",(function(t,r){e.startPress(t,r)}))}})),r=Jp(e.node.current,"blur",(function(){e.isPressing&&Cf("cancel",(function(t,r){return e.cancelPress(t,r)}))}));e.removeAccessibleListeners=nf(t,r)},e}return Xa(r,[{key:"startPress",value:function(e,t){this.isPressing=!0;var r=this.node.getProps(),n=r.onTapStart;r.whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&yf.update((function(){return n(e,t)}))}},{key:"checkPressEnd",value:function(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!uf()}},{key:"cancelPress",value:function(e,t){if(this.checkPressEnd()){var r=this.node.getProps().onTapCancel;r&&yf.update((function(){return r(e,t)}))}}},{key:"mount",value:function(){var e=this.node.getProps(),t=tf(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Jp(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=nf(t,r)}},{key:"unmount",value:function(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}]),r}(lf),Rf=["root"],Tf=new WeakMap,Ef=new WeakMap,Of=function(e){var t=Tf.get(e.target);t&&t(e)},Df=function(e){e.forEach(Of)};function Mf(e,t,r){var n=function(e){var t=e.root,r=p(e,Rf),n=t||document;Ef.has(n)||Ef.set(n,{});var a=Ef.get(n),i=JSON.stringify(r);return a[i]||(a[i]=new IntersectionObserver(Df,d({root:t},r))),a[i]}(t);return Tf.set(e,r),n.observe(e),function(){Tf.delete(e),n.unobserve(e)}}var jf={some:0,all:1},If=function(e){ti(r,e);var t=ii(r);function r(){var e;return Za(this,r),(e=t.apply(this,arguments)).hasEnteredView=!1,e.isInView=!1,e}return Xa(r,[{key:"startObserver",value:function(){var e=this;this.unmount();var t=this.node.getProps().viewport,r=void 0===t?{}:t,n=r.root,a=r.margin,i=r.amount,o=void 0===i?"some":i,s=r.once,c={root:n?n.current:void 0,rootMargin:a,threshold:"number"===typeof o?o:jf[o]};return Mf(this.node.current,c,(function(t){var r=t.isIntersecting;if(e.isInView!==r&&(e.isInView=r,!s||r||!e.hasEnteredView)){r&&(e.hasEnteredView=!0),e.node.animationState&&e.node.animationState.setActive("whileInView",r);var n=e.node.getProps(),a=n.onViewportEnter,i=n.onViewportLeave,o=r?a:i;o&&o(t)}}))}},{key:"mount",value:function(){this.startObserver()}},{key:"update",value:function(){if("undefined"!==typeof IntersectionObserver){var e=this.node,t=e.props,r=e.prevProps,n=["amount","margin","root"].some(function(e){var t=e.viewport,r=void 0===t?{}:t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.viewport,i=void 0===a?{}:a;return function(e){return r[e]!==i[e]}}(t,r));n&&this.startObserver()}}},{key:"unmount",value:function(){}}]),r}(lf);var Af={inView:{Feature:If},tap:{Feature:Pf},focus:{Feature:_f},hover:{Feature:wf}};function Lf(e,t){if(!Array.isArray(t))return!1;var r=t.length;if(r!==e.length)return!1;for(var n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Nf(e,t,r){var n=e.getProps();return Up(n,t,void 0!==r?r:n.custom,function(e){var t={};return e.values.forEach((function(e,r){return t[r]=e.get()})),t}(e),function(e){var t={};return e.values.forEach((function(e,r){return t[r]=e.getVelocity()})),t}(e))}var Ff="data-"+Ap("framerAppearId"),Bf=xf,zf=xf;var Uf=function(e){return 1e3*e},Vf=function(e){return e/1e3},Wf=!1,qf=function(e){return Array.isArray(e)&&"number"===typeof e[0]};function Hf(e){return Boolean(!e||"string"===typeof e&&Gf[e]||qf(e)||Array.isArray(e)&&e.every(Hf))}var $f=function(e){var t=rt(e,4),r=t[0],n=t[1],a=t[2],i=t[3];return"cubic-bezier(".concat(r,", ").concat(n,", ").concat(a,", ").concat(i,")")},Gf={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:$f([0,.65,.55,1]),circOut:$f([.55,0,1,.45]),backIn:$f([.31,.01,.66,-.59]),backOut:$f([.33,1.53,.69,.99])};function Kf(e){if(e)return qf(e)?$f(e):Array.isArray(e)?e.map(Kf):Gf[e]}var Yf={waapi:function(){return Object.hasOwnProperty.call(Element.prototype,"animate")}},Qf={},Jf={},Xf=function(e){Jf[e]=function(){return void 0===Qf[e]&&(Qf[e]=Yf[e]()),Qf[e]}};for(var Zf in Yf)Xf(Zf);var eh=function(e,t,r){return(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e},th=1e-7,rh=12;function nh(e,t,r,n){if(e===t&&r===n)return xf;var a=function(t){return function(e,t,r,n,a){var i,o,s=0;do{(i=eh(o=t+(r-t)/2,n,a)-e)>0?r=o:t=o}while(Math.abs(i)>th&&++s<rh);return o}(t,0,1,e,r)};return function(e){return 0===e||1===e?e:eh(a(e),t,n)}}var ah=nh(.42,0,1,1),ih=nh(0,0,.58,1),oh=nh(.42,0,.58,1),sh=function(e){return Array.isArray(e)&&"number"!==typeof e[0]},ch=function(e){return function(t){return t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2}},uh=function(e){return function(t){return 1-e(1-t)}},lh=function(e){return 1-Math.sin(Math.acos(e))},dh=uh(lh),ph=ch(dh),fh=nh(.33,1.53,.69,.99),hh=uh(fh),mh=ch(hh),vh={linear:xf,easeIn:ah,easeInOut:oh,easeOut:ih,circIn:lh,circInOut:ph,circOut:dh,backIn:hh,backInOut:mh,backOut:fh,anticipate:function(e){return(e*=2)<1?.5*hh(e):.5*(2-Math.pow(2,-10*(e-1)))}},gh=function(e){if(Array.isArray(e)){zf(4===e.length,"Cubic bezier arrays must contain four numerical values.");var t=rt(e,4);return nh(t[0],t[1],t[2],t[3])}return"string"===typeof e?(zf(void 0!==vh[e],"Invalid easing type '".concat(e,"'")),vh[e]):e},yh=function(e,t){return function(r){return Boolean(sp(r)&&op.test(r)&&r.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(r,t))}},bh=function(e,t,r){return function(n){var a;if(!sp(n))return n;var i=rt(n.match(ap),4),o=i[0],s=i[1],c=i[2],l=i[3];return u(a={},e,parseFloat(o)),u(a,t,parseFloat(s)),u(a,r,parseFloat(c)),u(a,"alpha",void 0!==l?parseFloat(l):1),a}},kh=d(d({},ep),{},{transform:function(e){return Math.round(function(e){return Zd(0,255,e)}(e))}}),wh={test:yh("rgb","red"),parse:bh("red","green","blue"),transform:function(e){var t=e.red,r=e.green,n=e.blue,a=e.alpha,i=void 0===a?1:a;return"rgba("+kh.transform(t)+", "+kh.transform(r)+", "+kh.transform(n)+", "+np(tp.transform(i))+")"}};var _h={test:yh("#"),parse:function(e){var t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}},transform:wh.transform},Sh={test:yh("hsl","hue"),parse:bh("hue","saturation","lightness"),transform:function(e){var t=e.hue,r=e.saturation,n=e.lightness,a=e.alpha,i=void 0===a?1:a;return"hsla("+Math.round(t)+", "+lp.transform(np(r))+", "+lp.transform(np(n))+", "+np(tp.transform(i))+")"}},xh={test:function(e){return wh.test(e)||_h.test(e)||Sh.test(e)},parse:function(e){return wh.test(e)?wh.parse(e):Sh.test(e)?Sh.parse(e):_h.parse(e)},transform:function(e){return sp(e)?e:e.hasOwnProperty("red")?wh.transform(e):Sh.transform(e)}},Ch=function(e,t,r){return-r*e+r*t+e};function Ph(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}var Rh=function(e,t,r){var n=e*e;return Math.sqrt(Math.max(0,r*(t*t-n)+n))},Th=[_h,wh,Sh];function Eh(e){var t,r=(t=e,Th.find((function(e){return e.test(t)})));zf(Boolean(r),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."));var n=r.parse(e);return r===Sh&&(n=function(e){var t=e.hue,r=e.saturation,n=e.lightness,a=e.alpha;t/=360,n/=100;var i=0,o=0,s=0;if(r/=100){var c=n<.5?n*(1+r):n+r-n*r,u=2*n-c;i=Ph(u,c,t+1/3),o=Ph(u,c,t),s=Ph(u,c,t-1/3)}else i=o=s=n;return{red:Math.round(255*i),green:Math.round(255*o),blue:Math.round(255*s),alpha:a}}(n)),n}var Oh=function(e,t){var r=Eh(e),n=Eh(t),a=d({},r);return function(e){return a.red=Rh(r.red,n.red,e),a.green=Rh(r.green,n.green,e),a.blue=Rh(r.blue,n.blue,e),a.alpha=Ch(r.alpha,n.alpha,e),wh.transform(a)}};var Dh={regex:/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,countKey:"Vars",token:"${v}",parse:xf},Mh={regex:ip,countKey:"Colors",token:"${c}",parse:xh.parse},jh={regex:ap,countKey:"Numbers",token:"${n}",parse:ep.parse};function Ih(e,t){var r,n=t.regex,a=t.countKey,i=t.token,o=t.parse,s=e.tokenised.match(n);s&&(e["num"+a]=s.length,e.tokenised=e.tokenised.replace(n,i),(r=e.values).push.apply(r,pt(s.map(o))))}function Ah(e){var t=e.toString(),r={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&Ih(r,Dh),Ih(r,Mh),Ih(r,jh),r}function Lh(e){return Ah(e).values}function Nh(e){var t=Ah(e),r=t.values,n=t.numColors,a=t.numVars,i=t.tokenised,o=r.length;return function(e){for(var t=i,r=0;r<o;r++)t=r<a?t.replace(Dh.token,e[r]):r<a+n?t.replace(Mh.token,xh.transform(e[r])):t.replace(jh.token,np(e[r]));return t}}var Fh=function(e){return"number"===typeof e?0:e};var Bh={test:function(e){var t,r;return isNaN(e)&&sp(e)&&((null===(t=e.match(ap))||void 0===t?void 0:t.length)||0)+((null===(r=e.match(ip))||void 0===r?void 0:r.length)||0)>0},parse:Lh,createTransformer:Nh,getAnimatableNone:function(e){var t=Lh(e);return Nh(e)(t.map(Fh))}},zh=function(e,t){return function(r){return"".concat(r>0?t:e)}};function Uh(e,t){return"number"===typeof e?function(r){return Ch(e,t,r)}:xh.test(e)?Oh(e,t):e.startsWith("var(")?zh(e,t):qh(e,t)}var Vh=function(e,t){var r=pt(e),n=r.length,a=e.map((function(e,r){return Uh(e,t[r])}));return function(e){for(var t=0;t<n;t++)r[t]=a[t](e);return r}},Wh=function(e,t){var r=d(d({},e),t),n={};for(var a in r)void 0!==e[a]&&void 0!==t[a]&&(n[a]=Uh(e[a],t[a]));return function(e){for(var t in n)r[t]=n[t](e);return r}},qh=function(e,t){var r=Bh.createTransformer(t),n=Ah(e),a=Ah(t);return n.numVars===a.numVars&&n.numColors===a.numColors&&n.numNumbers>=a.numNumbers?nf(Vh(n.values,a.values),r):(Bf(!0,"Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.")),zh(e,t))},Hh=function(e,t,r){var n=t-e;return 0===n?1:(r-e)/n},$h=function(e,t){return function(r){return Ch(e,t,r)}};function Gh(e,t,r){for(var n,a=[],i=r||("number"===typeof(n=e[0])?$h:"string"===typeof n?xh.test(n)?Oh:qh:Array.isArray(n)?Vh:"object"===typeof n?Wh:$h),o=e.length-1,s=0;s<o;s++){var c=i(e[s],e[s+1]);if(t){var u=Array.isArray(t)?t[s]||xf:t;c=nf(u,c)}a.push(c)}return a}function Kh(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.clamp,a=void 0===n||n,i=r.ease,o=r.mixer,s=e.length;if(zf(s===t.length,"Both input and output ranges must be the same length"),1===s)return function(){return t[0]};e[0]>e[s-1]&&(e=pt(e).reverse(),t=pt(t).reverse());var c=Gh(t,i,o),u=c.length,l=function(t){var r=0;if(u>1)for(;r<e.length-2&&!(t<e[r+1]);r++);var n=Hh(e[r],e[r+1],t);return c[r](n)};return a?function(t){return l(Zd(e[0],e[s-1],t))}:l}function Yh(e){var t=[0];return function(e,t){for(var r=e[e.length-1],n=1;n<=t;n++){var a=Hh(0,t,n);e.push(Ch(r,1,a))}}(t,e.length-1),t}function Qh(e){var t,r,n=e.duration,a=void 0===n?300:n,i=e.keyframes,o=e.times,s=e.ease,c=void 0===s?"easeInOut":s,u=sh(c)?c.map(gh):gh(c),l={done:!1,value:i[0]},d=function(e,t){return e.map((function(e){return e*t}))}(o&&o.length===i.length?o:Yh(i),a),p=Kh(d,i,{ease:Array.isArray(u)?u:(t=i,r=u,t.map((function(){return r||oh})).splice(0,t.length-1))});return{calculatedDuration:a,next:function(e){return l.value=p(e),l.done=e>=a,l}}}function Jh(e,t){return t?e*(1e3/t):0}var Xh=5;function Zh(e,t,r){var n=Math.max(t-Xh,0);return Jh(r-e(n),t-n)}var em=.001,tm=.01,rm=10,nm=.05,am=1;function im(e){var t,r,n=e.duration,a=void 0===n?800:n,i=e.bounce,o=void 0===i?.25:i,s=e.velocity,c=void 0===s?0:s,u=e.mass,l=void 0===u?1:u;Bf(a<=Uf(rm),"Spring duration must be 10 seconds or less");var d=1-o;d=Zd(nm,am,d),a=Zd(tm,rm,Vf(a)),d<1?(t=function(e){var t=e*d,r=t*a,n=t-c,i=sm(e,d),o=Math.exp(-r);return em-n/i*o},r=function(e){var r=e*d*a,n=r*c+c,i=Math.pow(d,2)*Math.pow(e,2)*a,o=Math.exp(-r),s=sm(Math.pow(e,2),d);return(-t(e)+em>0?-1:1)*((n-i)*o)/s}):(t=function(e){return Math.exp(-e*a)*((e-c)*a+1)-em},r=function(e){return Math.exp(-e*a)*(a*a*(c-e))});var p=function(e,t,r){for(var n=r,a=1;a<om;a++)n-=e(n)/t(n);return n}(t,r,5/a);if(a=Uf(a),isNaN(p))return{stiffness:100,damping:10,duration:a};var f=Math.pow(p,2)*l;return{stiffness:f,damping:2*d*Math.sqrt(l*f),duration:a}}var om=12;function sm(e,t){return e*Math.sqrt(1-t*t)}var cm=["keyframes","restDelta","restSpeed"],um=["duration","bounce"],lm=["stiffness","damping","mass"];function dm(e,t){return t.some((function(t){return void 0!==e[t]}))}function pm(e){var t,r=e.keyframes,n=e.restDelta,a=e.restSpeed,i=p(e,cm),o=r[0],s=r[r.length-1],c={done:!1,value:o},u=function(e){var t=d({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!dm(e,lm)&&dm(e,um)){var r=im(e);(t=d(d(d({},t),r),{},{velocity:0,mass:1})).isResolvedFromDuration=!0}return t}(i),l=u.stiffness,f=u.damping,h=u.mass,m=u.velocity,v=u.duration,g=u.isResolvedFromDuration,y=m?-Vf(m):0,b=f/(2*Math.sqrt(l*h)),k=s-o,w=Vf(Math.sqrt(l/h)),_=Math.abs(k)<5;if(a||(a=_?.01:2),n||(n=_?.005:.5),b<1){var S=sm(w,b);t=function(e){var t=Math.exp(-b*w*e);return s-t*((y+b*w*k)/S*Math.sin(S*e)+k*Math.cos(S*e))}}else if(1===b)t=function(e){return s-Math.exp(-w*e)*(k+(y+w*k)*e)};else{var x=w*Math.sqrt(b*b-1);t=function(e){var t=Math.exp(-b*w*e),r=Math.min(x*e,300);return s-t*((y+b*w*k)*Math.sinh(r)+x*k*Math.cosh(r))/x}}return{calculatedDuration:g&&v||null,next:function(e){var r=t(e);if(g)c.done=e>=v;else{var i=y;0!==e&&(i=b<1?Zh(t,e,r):0);var o=Math.abs(i)<=a,u=Math.abs(s-r)<=n;c.done=o&&u}return c.value=c.done?s:r,c}}}function fm(e){var t=e.keyframes,r=e.velocity,n=void 0===r?0:r,a=e.power,i=void 0===a?.8:a,o=e.timeConstant,s=void 0===o?325:o,c=e.bounceDamping,u=void 0===c?10:c,l=e.bounceStiffness,d=void 0===l?500:l,p=e.modifyTarget,f=e.min,h=e.max,m=e.restDelta,v=void 0===m?.5:m,g=e.restSpeed,y=t[0],b={done:!1,value:y},k=function(e){return void 0===f?h:void 0===h||Math.abs(f-e)<Math.abs(h-e)?f:h},w=i*n,_=y+w,S=void 0===p?_:p(_);S!==_&&(w=S-y);var x,C,P=function(e){return-w*Math.exp(-e/s)},R=function(e){return S+P(e)},T=function(e){var t=P(e),r=R(e);b.done=Math.abs(t)<=v,b.value=b.done?S:r},E=function(e){var t;(t=b.value,void 0!==f&&t<f||void 0!==h&&t>h)&&(x=e,C=pm({keyframes:[b.value,k(b.value)],velocity:Zh(R,e,b.value),damping:u,stiffness:d,restDelta:v,restSpeed:g}))};return E(0),{calculatedDuration:null,next:function(e){var t=!1;return C||void 0!==x||(t=!0,T(e),E(e)),void 0!==x&&e>x?C.next(e-x):(!t&&T(e),b)}}}var hm=function(e){var t=function(t){var r=t.timestamp;return e(r)};return{start:function(){return yf.update(t,!0)},stop:function(){return bf(t)},now:function(){return df.isProcessing?df.timestamp:performance.now()}}},mm=2e4;function vm(e){for(var t=0,r=e.next(t);!r.done&&t<mm;)t+=50,r=e.next(t);return t>=mm?1/0:t}var gm=["autoplay","delay","driver","keyframes","type","repeat","repeatDelay","repeatType","onPlay","onStop","onComplete","onUpdate"],ym={decay:fm,inertia:fm,tween:Qh,keyframes:Qh,spring:pm};function bm(e){var t,r,n,a=e.autoplay,i=void 0===a||a,o=e.delay,s=void 0===o?0:o,c=e.driver,u=void 0===c?hm:c,l=e.keyframes,f=e.type,h=void 0===f?"keyframes":f,m=e.repeat,v=void 0===m?0:m,g=e.repeatDelay,y=void 0===g?0:g,b=e.repeatType,k=void 0===b?"loop":b,w=e.onPlay,_=e.onStop,S=e.onComplete,x=e.onUpdate,C=p(e,gm),P=1,R=!1,T=function(){t&&t(),r=new Promise((function(e){t=e}))};T();var E,O=ym[h]||Qh;O!==Qh&&"number"!==typeof l[0]&&(E=Kh([0,100],l,{clamp:!1}),l=[0,100]);var D,M=O(d(d({},C),{},{keyframes:l}));"mirror"===k&&(D=O(d(d({},C),{},{keyframes:pt(l).reverse(),velocity:-(C.velocity||0)})));var j="idle",I=null,A=null,L=null;null===M.calculatedDuration&&v&&(M.calculatedDuration=vm(M));var N=M.calculatedDuration,F=1/0,B=1/0;null!==N&&(B=(F=N+y)*(v+1)-y);var z=0,U=function(e){if(null!==A){P>0&&(A=Math.min(A,e));var t=(z=null!==I?I:(e-A)*P)-s,r=t<0;z=Math.max(t,0),"finished"===j&&null===I&&(z=B);var n=z,a=M;if(v){var i=z/F,o=Math.floor(i),c=i%1;!c&&i>=1&&(c=1),1===c&&o--,o=Math.min(o,v+1);var u=Boolean(o%2);u&&("reverse"===k?(c=1-c,y&&(c-=y/F)):"mirror"===k&&(a=D));var d=Zd(0,1,c);z>B&&(d="reverse"===k&&u?1:0),n=d*F}var p=r?{done:!1,value:l[0]}:a.next(n);E&&(p.value=E(p.value));var f=p.done;r||null===N||(f=z>=B);var h=null===I&&("finished"===j||"running"===j&&f||P<0&&z<=0);return x&&x(p.value),h&&q(),p}},V=function(){n&&n.stop(),n=void 0},W=function(){j="idle",V(),T(),A=L=null},q=function(){j="finished",S&&S(),V(),T()},H=function(){if(!R){n||(n=u(U));var e=n.now();w&&w(),null!==I?A=e-I:A&&"finished"!==j||(A=e),L=A,I=null,j="running",n.start()}};i&&H();var $={then:function(e,t){return r.then(e,t)},get time(){return Vf(z)},set time(e){e=Uf(e),z=e,null===I&&n&&0!==P?A=n.now()-e/P:I=e},get duration(){var e=null===M.calculatedDuration?vm(M):M.calculatedDuration;return Vf(e)},get speed(){return P},set speed(e){e!==P&&n&&(P=e,$.time=Vf(z))},get state(){return j},play:H,pause:function(){j="paused",I=z},stop:function(){R=!0,"idle"!==j&&(j="idle",_&&_(),W())},cancel:function(){null!==L&&U(L),W()},complete:function(){j="finished"},sample:function(e){return A=0,U(e)}};return $}var km=["onUpdate","onComplete"],wm=new Set(["opacity","clipPath","filter","transform","backgroundColor"]);function _m(e,t,r){r.onUpdate;var n=r.onComplete,a=p(r,km);if(!(Jf.waapi()&&wm.has(t)&&!a.repeatDelay&&"mirror"!==a.repeatType&&0!==a.damping&&"inertia"!==a.type))return!1;var i,o,s=!1,c=function(){o=new Promise((function(e){i=e}))};c();var l=a.keyframes,f=a.duration,h=void 0===f?300:f,m=a.ease,v=a.times;if(function(e,t){return"spring"===t.type||"backgroundColor"===e||!Hf(t.ease)}(t,a)){for(var g=bm(d(d({},a),{},{repeat:0,delay:0})),y={done:!1,value:l[0]},b=[],k=0;!y.done&&k<2e4;)y=g.sample(k),b.push(y.value),k+=10;v=void 0,l=b,h=k-10,m="linear"}var w=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=n.delay,i=void 0===a?0:a,o=n.duration,s=n.repeat,c=void 0===s?0:s,l=n.repeatType,d=void 0===l?"loop":l,p=n.ease,f=n.times,h=u({},t,r);f&&(h.offset=f);var m=Kf(p);return Array.isArray(m)&&(h.easing=m),e.animate(h,{delay:i,duration:o,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:c+1,direction:"reverse"===d?"alternate":"normal"})}(e.owner.current,t,l,d(d({},a),{},{duration:h,ease:m,times:v})),_=function(){return w.cancel()},S=function(){yf.update(_),i(),c()};return w.onfinish=function(){e.set(function(e,t){var r=t.repeat,n=t.repeatType;return e[r&&"loop"!==(void 0===n?"loop":n)&&r%2===1?0:e.length-1]}(l,a)),n&&n(),S()},{then:function(e,t){return o.then(e,t)},get time(){return Vf(w.currentTime||0)},set time(e){w.currentTime=Uf(e)},get speed(){return w.playbackRate},set speed(e){w.playbackRate=e},get duration(){return Vf(h)},play:function(){s||(w.play(),bf(_))},pause:function(){return w.pause()},stop:function(){if(s=!0,"idle"!==w.playState){var t=w.currentTime;if(t){var r=bm(d(d({},a),{},{autoplay:!1}));e.setWithVelocity(r.sample(t-10).value,r.sample(t).value,10)}S()}},complete:function(){return w.finish()},cancel:S}}var Sm={type:"spring",stiffness:500,damping:25,restSpeed:10},xm={type:"keyframes",duration:.8},Cm={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Pm=function(e,t){var r=t.keyframes;return r.length>2?xm:qd.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===r[1]?2*Math.sqrt(550):30,restSpeed:10}:Sm:Cm},Rm=function(e,t){return"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!Bh.test(t)||t.startsWith("url(")))},Tm=new Set(["brightness","contrast","saturate","opacity"]);function Em(e){var t=rt(e.slice(0,-1).split("("),2),r=t[0],n=t[1];if("drop-shadow"===r)return e;var a=rt(n.match(ap)||[],1)[0];if(!a)return e;var i=n.replace(a,""),o=Tm.has(r)?1:0;return a!==n&&(o*=100),r+"("+o+i+")"}var Om=/([a-z-]*)\(.*?\)/g,Dm=d(d({},Bh),{},{getAnimatableNone:function(e){var t=e.match(Om);return t?t.map(Em).join(" "):e}}),Mm=d(d({},vp),{},{color:xh,backgroundColor:xh,outlineColor:xh,fill:xh,stroke:xh,borderColor:xh,borderTopColor:xh,borderRightColor:xh,borderBottomColor:xh,borderLeftColor:xh,filter:Dm,WebkitFilter:Dm}),jm=function(e){return Mm[e]};function Im(e,t){var r=jm(e);return r!==Dm&&(r=Bh),r.getAnimatableNone?r.getAnimatableNone(t):void 0}var Am=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];function Lm(e){return 0===e||"string"===typeof e&&0===parseFloat(e)&&-1===e.indexOf(" ")}function Nm(e){return"number"===typeof e?0:Im("",e)}function Fm(e,t){return e[t]||e.default||e}function Bm(e,t,r,n){var a=Rm(t,r),i=void 0!==n.from?n.from:e.get();return"none"===i&&a&&"string"===typeof r?i=Im(t,r):Lm(i)&&"string"===typeof r?i=Nm(r):!Array.isArray(r)&&Lm(r)&&"string"===typeof i&&(r=Nm(i)),Array.isArray(r)?function(e,t){for(var r=ft(t).slice(0),n=0;n<r.length;n++)null===r[n]&&(r[n]=0===n?e:r[n-1]);return r}(i,r):[i,r]}var zm=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return function(a){var i=Fm(n,e)||{},o=i.delay||n.delay||0,s=n.elapsed,c=void 0===s?0:s;c-=Uf(o);var u=Bm(t,e,r,i),l=u[0],f=u[u.length-1],h=Rm(e,l),m=Rm(e,f);Bf(h===m,"You are trying to animate ".concat(e,' from "').concat(l,'" to "').concat(f,'". ').concat(l," is not an animatable value - to enable this animation set ").concat(l," to a value animatable to ").concat(f," via the `style` property."));var v=d(d({keyframes:u,velocity:t.getVelocity(),ease:"easeOut"},i),{},{delay:-c,onUpdate:function(e){t.set(e),i.onUpdate&&i.onUpdate(e)},onComplete:function(){a(),i.onComplete&&i.onComplete()}});if(function(e){e.when,e.delay,e.delayChildren,e.staggerChildren,e.staggerDirection,e.repeat,e.repeatType,e.repeatDelay,e.from,e.elapsed;var t=p(e,Am);return!!Object.keys(t).length}(i)||(v=d(d({},v),Pm(e,v))),v.duration&&(v.duration=Uf(v.duration)),v.repeatDelay&&(v.repeatDelay=Uf(v.repeatDelay)),!h||!m||Wf||!1===i.type)return function(e){var t=e.keyframes,r=e.delay,n=e.onUpdate,a=e.onComplete,i=function(){return n&&n(t[t.length-1]),a&&a(),{time:0,speed:1,duration:0,play:xf,pause:xf,stop:xf,then:function(e){return e(),Promise.resolve()},cancel:xf,complete:xf}};return r?bm({keyframes:[0,1],duration:0,delay:r,onComplete:i}):i()}(v);if(t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){var g=_m(t,e,v);if(g)return g}return bm(v)}};function Um(e){return Boolean($d(e)&&e.add)}var Vm=function(e){return/^0[^.\s]+$/.test(e)};function Wm(e,t){-1===e.indexOf(t)&&e.push(t)}function qm(e,t){var r=e.indexOf(t);r>-1&&e.splice(r,1)}var Hm=function(){function e(){Za(this,e),this.subscriptions=[]}return Xa(e,[{key:"add",value:function(e){var t=this;return Wm(this.subscriptions,e),function(){return qm(t.subscriptions,e)}}},{key:"notify",value:function(e,t,r){var n=this.subscriptions.length;if(n)if(1===n)this.subscriptions[0](e,t,r);else for(var a=0;a<n;a++){var i=this.subscriptions[a];i&&i(e,t,r)}}},{key:"getSize",value:function(){return this.subscriptions.length}},{key:"clear",value:function(){this.subscriptions.length=0}}]),e}(),$m=function(){function e(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Za(this,e),this.version="10.12.4",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];r.prev=r.current,r.current=e;var n=df.delta,a=df.timestamp;r.lastUpdated!==a&&(r.timeDelta=n,r.lastUpdated=a,yf.postRender(r.scheduleVelocityCheck)),r.prev!==r.current&&r.events.change&&r.events.change.notify(r.current),r.events.velocityChange&&r.events.velocityChange.notify(r.getVelocity()),t&&r.events.renderRequest&&r.events.renderRequest.notify(r.current)},this.scheduleVelocityCheck=function(){return yf.postRender(r.velocityCheck)},this.velocityCheck=function(e){e.timestamp!==r.lastUpdated&&(r.prev=r.current,r.events.velocityChange&&r.events.velocityChange.notify(r.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=function(e){return!isNaN(parseFloat(e))}(this.current),this.owner=n.owner}return Xa(e,[{key:"onChange",value:function(e){return this.on("change",e)}},{key:"on",value:function(e,t){var r=this;this.events[e]||(this.events[e]=new Hm);var n=this.events[e].add(t);return"change"===e?function(){n(),yf.read((function(){r.events.change.getSize()||r.stop()}))}:n}},{key:"clearListeners",value:function(){for(var e in this.events)this.events[e].clear()}},{key:"attach",value:function(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}},{key:"set",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}},{key:"setWithVelocity",value:function(e,t,r){this.set(t),this.prev=e,this.timeDelta=r}},{key:"jump",value:function(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}},{key:"get",value:function(){return this.current}},{key:"getPrevious",value:function(){return this.prev}},{key:"getVelocity",value:function(){return this.canTrackVelocity?Jh(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}},{key:"start",value:function(e){var t=this;return this.stop(),new Promise((function(r){t.hasAnimated=!0,t.animation=e(r),t.events.animationStart&&t.events.animationStart.notify()})).then((function(){t.events.animationComplete&&t.events.animationComplete.notify(),t.clearAnimation()}))}},{key:"stop",value:function(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}},{key:"isAnimating",value:function(){return!!this.animation}},{key:"clearAnimation",value:function(){delete this.animation}},{key:"destroy",value:function(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}]),e}();function Gm(e,t){return new $m(e,t)}var Km=function(e){return function(t){return t.test(e)}},Ym=[ep,dp,lp,up,fp,pp,{test:function(e){return"auto"===e},parse:function(e){return e}}],Qm=function(e){return Ym.find(Km(e))},Jm=[].concat(pt(Ym),[xh,Bh]),Xm=function(e){return Jm.find(Km(e))},Zm=["transitionEnd","transition"];function ev(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Gm(r))}function tv(e,t){var r=Nf(e,t),n=r?e.makeTargetAnimatable(r,!1):{},a=n.transitionEnd,i=void 0===a?{}:a,o=(n.transition,p(n,Zm));for(var s in o=d(d({},o),i)){ev(e,s,qp(o[s]))}}function rv(e,t){if(t)return(t[e]||t.default||t).from}var nv=["transition","transitionEnd"];function av(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.delay,a=void 0===n?0:n,i=r.transitionOverride,o=r.type,s=e.makeTargetAnimatable(t),c=s.transition,u=void 0===c?e.getDefaultTransition():c,l=s.transitionEnd,f=p(s,nv),h=e.getValue("willChange");i&&(u=i);var m=[],v=o&&e.animationState&&e.animationState.getState()[o],g=function(t){var r=e.getValue(t),n=f[t];if(!r||void 0===n||v&&function(e,t){var r=e.protectedKeys,n=e.needsAnimating,a=r.hasOwnProperty(t)&&!0!==n[t];return n[t]=!1,a}(v,t))return"continue";var i=d({delay:a,elapsed:0},u);if(window.HandoffAppearAnimations&&!r.hasAnimated){var o=e.getProps()[Ff];o&&(i.elapsed=window.HandoffAppearAnimations(o,t,r,yf))}r.start(zm(t,r,n,e.shouldReduceMotion&&qd.has(t)?{type:!1}:i));var s=r.animation;Um(h)&&(h.add(t),s.then((function(){return h.remove(t)}))),m.push(s)};for(var y in f)g(y);return l&&Promise.all(m).then((function(){l&&tv(e,l)})),m}function iv(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=Nf(e,t,r.custom),a=(n||{}).transition,i=void 0===a?e.getDefaultTransition()||{}:a;r.transitionOverride&&(i=r.transitionOverride);var o=n?function(){return Promise.all(av(e,n,r))}:function(){return Promise.resolve()},s=e.variantChildren&&e.variantChildren.size?function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=i,o=a.delayChildren,s=void 0===o?0:o,c=a.staggerChildren,u=a.staggerDirection;return function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,i=arguments.length>5?arguments[5]:void 0,o=[],s=(e.variantChildren.size-1)*n,c=1===a?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*n}:function(){return s-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*n};return Array.from(e.variantChildren).sort(ov).forEach((function(e,n){e.notify("AnimationStart",t),o.push(iv(e,t,d(d({},i),{},{delay:r+c(n)})).then((function(){return e.notify("AnimationComplete",t)})))})),Promise.all(o)}(e,t,s+n,c,u,r)}:function(){return Promise.resolve()},c=i.when;if(c){var u=rt("beforeChildren"===c?[o,s]:[s,o],2),l=u[0],p=u[1];return l().then((function(){return p()}))}return Promise.all([o(),s(r.delay)])}function ov(e,t){return e.sortNodePosition(t)}var sv=["transition","transitionEnd"],cv=pt(wd).reverse(),uv=wd.length;function lv(e){return function(t){return Promise.all(t.map((function(t){var r=t.animation,n=t.options;return function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){var a=t.map((function(t){return iv(e,t,n)}));r=Promise.all(a)}else if("string"===typeof t)r=iv(e,t,n);else{var i="function"===typeof t?Nf(e,t,n.custom):t;r=Promise.all(av(e,i,n))}return r.then((function(){return e.notify("AnimationComplete",t)}))}(e,r,n)})))}}function dv(e){var t=lv(e),r={animate:pv(!0),whileInView:pv(),whileHover:pv(),whileTap:pv(),whileDrag:pv(),whileFocus:pv(),exit:pv()},n=!0,a=function(t,r){var n=Nf(e,r);if(n){n.transition;var a=n.transitionEnd,i=p(n,sv);t=d(d(d({},t),i),a)}return t};function i(i,o){for(var s=e.getProps(),c=e.getVariantContext(!0)||{},u=[],l=new Set,p={},f=1/0,h=function(){var t=cv[m],h=r[t],v=void 0!==s[t]?s[t]:c[t],g=bd(v),y=t===o?h.isActive:null;!1===y&&(f=m);var b=v===c[t]&&v!==s[t]&&g;if(b&&n&&e.manuallyAnimateOnMount&&(b=!1),h.protectedKeys=d({},p),!h.isActive&&null===y||!v&&!h.prevProp||kd(v)||"boolean"===typeof v)return"continue";var k=function(e,t){if("string"===typeof t)return t!==e;if(Array.isArray(t))return!Lf(t,e);return!1}(h.prevProp,v),w=k||t===o&&h.isActive&&!b&&g||m>f&&g,_=Array.isArray(v)?v:[v],S=_.reduce(a,{});!1===y&&(S={});var x=h.prevResolvedValues,C=void 0===x?{}:x,P=d(d({},C),S),R=function(e){w=!0,l.delete(e),h.needsAnimating[e]=!0};for(var T in P){var E=S[T],O=C[T];p.hasOwnProperty(T)||(E!==O?Vp(E)&&Vp(O)?!Lf(E,O)||k?R(T):h.protectedKeys[T]=!0:void 0!==E?R(T):l.add(T):void 0!==E&&l.has(T)?R(T):h.protectedKeys[T]=!0)}h.prevProp=v,h.prevResolvedValues=S,h.isActive&&(p=d(d({},p),S)),n&&e.blockInitialAnimation&&(w=!1),w&&!b&&u.push.apply(u,pt(_.map((function(e){return{animation:e,options:d({type:t},i)}}))))},m=0;m<uv;m++)h();if(l.size){var v={};l.forEach((function(t){var r=e.getBaseTarget(t);void 0!==r&&(v[t]=r)})),u.push({animation:v})}var g=Boolean(u.length);return n&&!1===s.initial&&!e.manuallyAnimateOnMount&&(g=!1),n=!1,g?t(u):Promise.resolve()}return{animateChanges:i,setActive:function(t,n,a){var o;if(r[t].isActive===n)return Promise.resolve();null===(o=e.variantChildren)||void 0===o||o.forEach((function(e){var r;return null===(r=e.animationState)||void 0===r?void 0:r.setActive(t,n)})),r[t].isActive=n;var s=i(a,t);for(var c in r)r[c].protectedKeys={};return s},setAnimateFunction:function(r){t=r(e)},getState:function(){return r}}}function pv(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}var fv=function(e){ti(r,e);var t=ii(r);function r(e){var n;return Za(this,r),n=t.call(this,e),e.animationState||(e.animationState=dv(e)),n}return Xa(r,[{key:"updateAnimationControlsSubscription",value:function(){var e=this.node.getProps().animate;this.unmount(),kd(e)&&(this.unmount=e.subscribe(this.node))}},{key:"mount",value:function(){this.updateAnimationControlsSubscription()}},{key:"update",value:function(){this.node.getProps().animate!==(this.node.prevProps||{}).animate&&this.updateAnimationControlsSubscription()}},{key:"unmount",value:function(){}}]),r}(lf),hv=0,mv=function(e){ti(r,e);var t=ii(r);function r(){var e;return Za(this,r),(e=t.apply(this,arguments)).id=hv++,e}return Xa(r,[{key:"update",value:function(){var e=this;if(this.node.presenceContext){var t=this.node.presenceContext,r=t.isPresent,n=t.onExitComplete,a=t.custom,i=(this.node.prevPresenceContext||{}).isPresent;if(this.node.animationState&&r!==i){var o=this.node.animationState.setActive("exit",!r,{custom:null!==a&&void 0!==a?a:this.node.getProps().custom});n&&!r&&o.then((function(){return n(e.id)}))}}}},{key:"mount",value:function(){var e=(this.node.presenceContext||{}).register;e&&(this.unmount=e(this.id))}},{key:"unmount",value:function(){}}]),r}(lf),vv={animation:{Feature:fv},exit:{Feature:mv}},gv=function(e,t){return Math.abs(e-t)};var yv=function(){function e(t,r){var n=this,a=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).transformPagePoint;if(Za(this,e),this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(n.lastMoveEvent&&n.lastMoveEventInfo){var e=wv(n.lastMoveEventInfo,n.history),t=null!==n.startEvent,r=function(e,t){var r=gv(e.x,t.x),n=gv(e.y,t.y);return Math.sqrt(Math.pow(r,2)+Math.pow(n,2))}(e.offset,{x:0,y:0})>=3;if(t||r){var a=e.point,i=df.timestamp;n.history.push(d(d({},a),{},{timestamp:i}));var o=n.handlers,s=o.onStart,c=o.onMove;t||(s&&s(n.lastMoveEvent,e),n.startEvent=n.lastMoveEvent),c&&c(n.lastMoveEvent,e)}}},this.handlePointerMove=function(e,t){n.lastMoveEvent=e,n.lastMoveEventInfo=bv(t,n.transformPagePoint),yf.update(n.updatePoint,!0)},this.handlePointerUp=function(e,t){if(n.end(),n.lastMoveEvent&&n.lastMoveEventInfo){var r=n.handlers,a=r.onEnd,i=r.onSessionEnd,o=wv("pointercancel"===e.type?n.lastMoveEventInfo:bv(t,n.transformPagePoint),n.history);n.startEvent&&a&&a(e,o),i&&i(e,o)}},Xp(t)){this.handlers=r,this.transformPagePoint=a;var i=bv(Zp(t),this.transformPagePoint),o=i.point,s=df.timestamp;this.history=[d(d({},o),{},{timestamp:s})];var c=r.onSessionStart;c&&c(t,wv(i,this.history)),this.removeListeners=nf(tf(window,"pointermove",this.handlePointerMove),tf(window,"pointerup",this.handlePointerUp),tf(window,"pointercancel",this.handlePointerUp))}}return Xa(e,[{key:"updateHandlers",value:function(e){this.handlers=e}},{key:"end",value:function(){this.removeListeners&&this.removeListeners(),bf(this.updatePoint)}}]),e}();function bv(e,t){return t?{point:t(e.point)}:e}function kv(e,t){return{x:e.x-t.x,y:e.y-t.y}}function wv(e,t){var r=e.point;return{point:r,delta:kv(r,Sv(t)),offset:kv(r,_v(t)),velocity:xv(t,.1)}}function _v(e){return e[0]}function Sv(e){return e[e.length-1]}function xv(e,t){if(e.length<2)return{x:0,y:0};for(var r=e.length-1,n=null,a=Sv(e);r>=0&&(n=e[r],!(a.timestamp-n.timestamp>Uf(t)));)r--;if(!n)return{x:0,y:0};var i=Vf(a.timestamp-n.timestamp);if(0===i)return{x:0,y:0};var o={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Cv(e){return e.max-e.min}function Pv(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return Math.abs(e-t)<=r}function Rv(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=n,e.originPoint=Ch(t.min,t.max,e.origin),e.scale=Cv(r)/Cv(t),(Pv(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Ch(r.min,r.max,e.origin)-e.originPoint,(Pv(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Tv(e,t,r,n){Rv(e.x,t.x,r.x,n?n.originX:void 0),Rv(e.y,t.y,r.y,n?n.originY:void 0)}function Ev(e,t,r){e.min=r.min+t.min,e.max=e.min+Cv(t)}function Ov(e,t,r){e.min=t.min-r.min,e.max=e.min+Cv(t)}function Dv(e,t,r){Ov(e.x,t.x,r.x),Ov(e.y,t.y,r.y)}function Mv(e,t,r){return{min:void 0!==t?e.min+t:void 0,max:void 0!==r?e.max+r-(e.max-e.min):void 0}}function jv(e,t){var r=t.min-e.min,n=t.max-e.max;if(t.max-t.min<e.max-e.min){var a=[n,r];r=a[0],n=a[1]}return{min:r,max:n}}var Iv=.35;function Av(e,t,r){return{min:Lv(e,t),max:Lv(e,r)}}function Lv(e,t){return"number"===typeof e?e:e[t]||0}var Nv=function(){return{x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}},Fv=function(){return{x:{min:0,max:0},y:{min:0,max:0}}};function Bv(e){return[e("x"),e("y")]}function zv(e){var t=e.top;return{x:{min:e.left,max:e.right},y:{min:t,max:e.bottom}}}function Uv(e){return void 0===e||1===e}function Vv(e){var t=e.scale,r=e.scaleX,n=e.scaleY;return!Uv(t)||!Uv(r)||!Uv(n)}function Wv(e){return Vv(e)||qv(e)||e.z||e.rotate||e.rotateX||e.rotateY}function qv(e){return Hv(e.x)||Hv(e.y)}function Hv(e){return e&&"0%"!==e}function $v(e,t,r){return r+t*(e-r)}function Gv(e,t,r,n,a){return void 0!==a&&(e=$v(e,a,n)),$v(e,r,n)+t}function Kv(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;e.min=Gv(e.min,t,r,n,a),e.max=Gv(e.max,t,r,n,a)}function Yv(e,t){var r=t.x,n=t.y;Kv(e.x,r.translate,r.scale,r.originPoint),Kv(e.y,n.translate,n.scale,n.originPoint)}function Qv(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Jv(e,t){e.min=e.min+t,e.max=e.max+t}function Xv(e,t,r){var n=rt(r,3),a=n[0],i=n[1],o=n[2],s=void 0!==t[o]?t[o]:.5,c=Ch(e.min,e.max,s);Kv(e,t[a],t[i],c,t.scale)}var Zv=["x","scaleX","originX"],eg=["y","scaleY","originY"];function tg(e,t){Xv(e.x,t,Zv),Xv(e.y,t,eg)}function rg(e,t){return zv(function(e,t){if(!t)return e;var r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}(e.getBoundingClientRect(),t))}var ng=new WeakMap,ag=function(){function e(t){Za(this,e),this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Fv(),this.visualElement=t}return Xa(e,[{key:"start",value:function(e){var t=this,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).snapToCursor,n=void 0!==r&&r,a=this.visualElement.presenceContext;if(!a||!1!==a.isPresent){this.panSession=new yv(e,{onSessionStart:function(e){t.stopAnimation(),n&&t.snapToCursor(Zp(e,"page").point)},onStart:function(e,r){var n=t.getProps(),a=n.drag,i=n.dragPropagation,o=n.onDragStart;if(!a||i||(t.openGlobalLock&&t.openGlobalLock(),t.openGlobalLock=cf(a),t.openGlobalLock)){t.isDragging=!0,t.currentDirection=null,t.resolveConstraints(),t.visualElement.projection&&(t.visualElement.projection.isAnimationBlocked=!0,t.visualElement.projection.target=void 0),Bv((function(e){var r=t.getAxisMotionValue(e).get()||0;if(lp.test(r)){var n=t.visualElement.projection;if(n&&n.layout){var a=n.layout.layoutBox[e];if(a)r=Cv(a)*(parseFloat(r)/100)}}t.originPoint[e]=r})),o&&yf.update((function(){return o(e,r)}),!1,!0);var s=t.visualElement.animationState;s&&s.setActive("whileDrag",!0)}},onMove:function(e,r){var n=t.getProps(),a=n.dragPropagation,i=n.dragDirectionLock,o=n.onDirectionLock,s=n.onDrag;if(a||t.openGlobalLock){var c=r.offset;if(i&&null===t.currentDirection)return t.currentDirection=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=null;Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x");return r}(c),void(null!==t.currentDirection&&o&&o(t.currentDirection));t.updateAxis("x",r.point,c),t.updateAxis("y",r.point,c),t.visualElement.render(),s&&s(e,r)}},onSessionEnd:function(e,r){return t.stop(e,r)}},{transformPagePoint:this.visualElement.getTransformPagePoint()})}}},{key:"stop",value:function(e,t){var r=this.isDragging;if(this.cancel(),r){var n=t.velocity;this.startAnimation(n);var a=this.getProps().onDragEnd;a&&yf.update((function(){return a(e,t)}))}}},{key:"cancel",value:function(){this.isDragging=!1;var e=this.visualElement,t=e.projection,r=e.animationState;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0,!this.getProps().dragPropagation&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}},{key:"updateAxis",value:function(e,t,r){var n=this.getProps().drag;if(r&&ig(e,n,this.currentDirection)){var a=this.getAxisMotionValue(e),i=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(i=function(e,t,r){var n=t.min,a=t.max;return void 0!==n&&e<n?e=r?Ch(n,e,r.min):Math.max(e,n):void 0!==a&&e>a&&(e=r?Ch(a,e,r.max):Math.min(e,a)),e}(i,this.constraints[e],this.elastic[e])),a.set(i)}}},{key:"resolveConstraints",value:function(){var e=this,t=this.getProps(),r=t.dragConstraints,n=t.dragElastic,a=(this.visualElement.projection||{}).layout,i=this.constraints;r&&yd(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!r||!a)&&function(e,t){var r=t.top,n=t.left,a=t.bottom,i=t.right;return{x:Mv(e.x,n,i),y:Mv(e.y,r,a)}}(a.layoutBox,r),this.elastic=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Iv;return!1===e?e=0:!0===e&&(e=Iv),{x:Av(e,"left","right"),y:Av(e,"top","bottom")}}(n),i!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Bv((function(t){e.getAxisMotionValue(t)&&(e.constraints[t]=function(e,t){var r={};return void 0!==t.min&&(r.min=t.min-e.min),void 0!==t.max&&(r.max=t.max-e.min),r}(a.layoutBox[t],e.constraints[t]))}))}},{key:"resolveRefConstraints",value:function(){var e=this.getProps(),t=e.dragConstraints,r=e.onMeasureDragConstraints;if(!t||!yd(t))return!1;var n=t.current;zf(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");var a=this.visualElement.projection;if(!a||!a.layout)return!1;var i=function(e,t,r){var n=rg(e,r),a=t.scroll;return a&&(Jv(n.x,a.offset.x),Jv(n.y,a.offset.y)),n}(n,a.root,this.visualElement.getTransformPagePoint()),o=function(e,t){return{x:jv(e.x,t.x),y:jv(e.y,t.y)}}(a.layout.layoutBox,i);if(r){var s=r(function(e){var t=e.x,r=e.y;return{top:r.min,right:t.max,bottom:r.max,left:t.min}}(o));this.hasMutatedConstraints=!!s,s&&(o=zv(s))}return o}},{key:"startAnimation",value:function(e){var t=this,r=this.getProps(),n=r.drag,a=r.dragMomentum,i=r.dragElastic,o=r.dragTransition,s=r.dragSnapToOrigin,c=r.onDragTransitionEnd,u=this.constraints||{},l=Bv((function(r){if(ig(r,n,t.currentDirection)){var c=u&&u[r]||{};s&&(c={min:0,max:0});var l=i?200:1e6,p=i?40:1e7,f=d(d({type:"inertia",velocity:a?e[r]:0,bounceStiffness:l,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10},o),c);return t.startAxisValueAnimation(r,f)}}));return Promise.all(l).then(c)}},{key:"startAxisValueAnimation",value:function(e,t){var r=this.getAxisMotionValue(e);return r.start(zm(e,r,0,t))}},{key:"stopAnimation",value:function(){var e=this;Bv((function(t){return e.getAxisMotionValue(t).stop()}))}},{key:"getAxisMotionValue",value:function(e){var t="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),n=r[t];return n||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}},{key:"snapToCursor",value:function(e){var t=this;Bv((function(r){if(ig(r,t.getProps().drag,t.currentDirection)){var n=t.visualElement.projection,a=t.getAxisMotionValue(r);if(n&&n.layout){var i=n.layout.layoutBox[r],o=i.min,s=i.max;a.set(e[r]-Ch(o,s,.5))}}}))}},{key:"scalePositionWithinConstraints",value:function(){var e=this;if(this.visualElement.current){var t=this.getProps(),r=t.drag,n=t.dragConstraints,a=this.visualElement.projection;if(yd(n)&&a&&this.constraints){this.stopAnimation();var i={x:0,y:0};Bv((function(t){var r=e.getAxisMotionValue(t);if(r){var n=r.get();i[t]=function(e,t){var r=.5,n=Cv(e),a=Cv(t);return a>n?r=Hh(t.min,t.max-n,e.min):n>a&&(r=Hh(e.min,e.max-a,t.min)),Zd(0,1,r)}({min:n,max:n},e.constraints[t])}}));var o=this.visualElement.getProps().transformTemplate;this.visualElement.current.style.transform=o?o({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),Bv((function(t){if(ig(t,r,null)){var n=e.getAxisMotionValue(t),a=e.constraints[t],o=a.min,s=a.max;n.set(Ch(o,s,i[t]))}}))}}}},{key:"addListeners",value:function(){var e=this;if(this.visualElement.current){ng.set(this.visualElement,this);var t=tf(this.visualElement.current,"pointerdown",(function(t){var r=e.getProps(),n=r.drag,a=r.dragListener;n&&(void 0===a||a)&&e.start(t)})),r=function(){yd(e.getProps().dragConstraints)&&(e.constraints=e.resolveRefConstraints())},n=this.visualElement.projection,a=n.addEventListener("measure",r);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),r();var i=Jp(window,"resize",(function(){return e.scalePositionWithinConstraints()})),o=n.addEventListener("didUpdate",(function(t){var r=t.delta,n=t.hasLayoutChanged;e.isDragging&&n&&(Bv((function(t){var n=e.getAxisMotionValue(t);n&&(e.originPoint[t]+=r[t].translate,n.set(n.get()+r[t].translate))})),e.visualElement.render())}));return function(){i(),t(),a(),o&&o()}}}},{key:"getProps",value:function(){var e=this.visualElement.getProps(),t=e.drag,r=void 0!==t&&t,n=e.dragDirectionLock,a=void 0!==n&&n,i=e.dragPropagation,o=void 0!==i&&i,s=e.dragConstraints,c=void 0!==s&&s,u=e.dragElastic,l=void 0===u?Iv:u,p=e.dragMomentum,f=void 0===p||p;return d(d({},e),{},{drag:r,dragDirectionLock:a,dragPropagation:o,dragConstraints:c,dragElastic:l,dragMomentum:f})}}]),e}();function ig(e,t,r){return(!0===t||t===e)&&(null===r||r===e)}var og=function(e){ti(r,e);var t=ii(r);function r(e){var n;return Za(this,r),(n=t.call(this,e)).removeGroupControls=xf,n.removeListeners=xf,n.controls=new ag(e),n}return Xa(r,[{key:"mount",value:function(){var e=this.node.getProps().dragControls;e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||xf}},{key:"unmount",value:function(){this.removeGroupControls(),this.removeListeners()}}]),r}(lf),sg=function(e){return function(t,r){e&&yf.update((function(){return e(t,r)}))}},cg=function(e){ti(r,e);var t=ii(r);function r(){var e;return Za(this,r),(e=t.apply(this,arguments)).removePointerDownListener=xf,e}return Xa(r,[{key:"onPointerDown",value:function(e){this.session=new yv(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}},{key:"createPanHandlers",value:function(){var e=this,t=this.node.getProps(),r=t.onPanSessionStart,n=t.onPanStart,a=t.onPan,i=t.onPanEnd;return{onSessionStart:sg(r),onStart:sg(n),onMove:a,onEnd:function(t,r){delete e.session,i&&yf.update((function(){return i(t,r)}))}}}},{key:"mount",value:function(){var e=this;this.removePointerDownListener=tf(this.node.current,"pointerdown",(function(t){return e.onPointerDown(t)}))}},{key:"update",value:function(){this.session&&this.session.updateHandlers(this.createPanHandlers())}},{key:"unmount",value:function(){this.removePointerDownListener(),this.session&&this.session.end()}}]),r}(lf);function ug(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}var lg={correct:function(e,t){if(!t.target)return e;if("string"===typeof e){if(!dp.test(e))return e;e=parseFloat(e)}var r=ug(e,t.target.x),n=ug(e,t.target.y);return"".concat(r,"% ").concat(n,"%")}},dg={correct:function(e,t){var r=t.treeScale,n=t.projectionDelta,a=e,i=Bh.parse(e);if(i.length>5)return a;var o=Bh.createTransformer(e),s="number"!==typeof i[0]?1:0,c=n.x.scale*r.x,u=n.y.scale*r.y;i[0+s]/=c,i[1+s]/=u;var l=Ch(c,u,.5);return"number"===typeof i[2+s]&&(i[2+s]/=l),"number"===typeof i[3+s]&&(i[3+s]/=l),o(i)}},pg=function(e){ti(r,e);var t=ii(r);function r(){return Za(this,r),t.apply(this,arguments)}return Xa(r,[{key:"componentDidMount",value:function(){var e,t=this,r=this.props,n=r.visualElement,a=r.layoutGroup,i=r.switchLayoutGroup,o=r.layoutId,s=n.projection;e=hg,Object.assign(Vd,e),s&&(a.group&&a.group.add(s),i&&i.register&&o&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",(function(){t.safeToRemove()})),s.setOptions(d(d({},s.options),{},{onExitComplete:function(){return t.safeToRemove()}}))),Md.hasEverUpdated=!0}},{key:"getSnapshotBeforeUpdate",value:function(e){var t=this,r=this.props,n=r.layoutDependency,a=r.visualElement,i=r.drag,o=r.isPresent,s=a.projection;return s?(s.isPresent=o,i||e.layoutDependency!==n||void 0===n?s.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?s.promote():s.relegate()||yf.postRender((function(){var e=s.getStack();e&&e.members.length||t.safeToRemove()}))),null):null}},{key:"componentDidUpdate",value:function(){var e=this.props.visualElement.projection;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.visualElement,r=e.layoutGroup,n=e.switchLayoutGroup,a=t.projection;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}},{key:"safeToRemove",value:function(){var e=this.props.safeToRemove;e&&e()}},{key:"render",value:function(){return null}}]),r}(h.Component);function fg(e){var t=function(){var e=(0,h.useContext)(dd);if(null===e)return[!0,null];var t=e.isPresent,r=e.onExitComplete,n=e.register,a=(0,h.useId)();return(0,h.useEffect)((function(){return n(a)}),[]),!t&&r?[!1,function(){return r&&r(a)}]:[!0]}(),r=rt(t,2),n=r[0],a=r[1],i=(0,h.useContext)(Id);return h.createElement(pg,d(d({},e),{},{layoutGroup:i,switchLayoutGroup:(0,h.useContext)(Ad),isPresent:n,safeToRemove:a}))}var hg={borderRadius:d(d({},lg),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:lg,borderTopRightRadius:lg,borderBottomLeftRadius:lg,borderBottomRightRadius:lg,boxShadow:dg},mg=["TopLeft","TopRight","BottomLeft","BottomRight"],vg=mg.length,gg=function(e){return"string"===typeof e?parseFloat(e):e},yg=function(e){return"number"===typeof e||dp.test(e)};function bg(e,t){return void 0!==e[t]?e[t]:e.borderRadius}var kg=_g(0,.5,dh),wg=_g(.5,.95,xf);function _g(e,t,r){return function(n){return n<e?0:n>t?1:r(Hh(e,t,n))}}function Sg(e,t){e.min=t.min,e.max=t.max}function xg(e,t){Sg(e.x,t.x),Sg(e.y,t.y)}function Cg(e,t,r,n,a){return e=$v(e-=t,1/r,n),void 0!==a&&(e=$v(e,1/a,n)),e}function Pg(e,t,r,n,a){var i=rt(r,3),o=i[0],s=i[1],c=i[2];!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;if(lp.test(t)&&(t=parseFloat(t),t=Ch(o.min,o.max,t/100)-o.min),"number"===typeof t){var s=Ch(i.min,i.max,n);e===i&&(s-=t),e.min=Cg(e.min,t,r,s,a),e.max=Cg(e.max,t,r,s,a)}}(e,t[o],t[s],t[c],t.scale,n,a)}var Rg=["x","scaleX","originX"],Tg=["y","scaleY","originY"];function Eg(e,t,r,n){Pg(e.x,t,Rg,r?r.x:void 0,n?n.x:void 0),Pg(e.y,t,Tg,r?r.y:void 0,n?n.y:void 0)}function Og(e){return 0===e.translate&&1===e.scale}function Dg(e){return Og(e.x)&&Og(e.y)}function Mg(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function jg(e){return Cv(e.x)/Cv(e.y)}var Ig=function(){function e(){Za(this,e),this.members=[]}return Xa(e,[{key:"add",value:function(e){Wm(this.members,e),e.scheduleRender()}},{key:"remove",value:function(e){if(qm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){var t=this.members[this.members.length-1];t&&this.promote(t)}}},{key:"relegate",value:function(e){var t,r=this.members.findIndex((function(t){return e===t}));if(0===r)return!1;for(var n=r;n>=0;n--){var a=this.members[n];if(!1!==a.isPresent){t=a;break}}return!!t&&(this.promote(t),!0)}},{key:"promote",value:function(e,t){var r=this.lead;e!==r&&(this.prevLead=r,this.lead=e,e.show(),r&&(r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0),!1===e.options.crossfade&&r.hide()))}},{key:"exitAnimationComplete",value:function(){this.members.forEach((function(e){var t=e.options,r=e.resumingFrom;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()}))}},{key:"scheduleRender",value:function(){this.members.forEach((function(e){e.instance&&e.scheduleRender(!1)}))}},{key:"removeLeadSnapshot",value:function(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}]),e}();function Ag(e,t,r){var n="",a=e.x.translate/t.x,i=e.y.translate/t.y;if((a||i)&&(n="translate3d(".concat(a,"px, ").concat(i,"px, 0) ")),1===t.x&&1===t.y||(n+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),r){var o=r.rotate,s=r.rotateX,c=r.rotateY;o&&(n+="rotate(".concat(o,"deg) ")),s&&(n+="rotateX(".concat(s,"deg) ")),c&&(n+="rotateY(".concat(c,"deg) "))}var u=e.x.scale*t.x,l=e.y.scale*t.y;return 1===u&&1===l||(n+="scale(".concat(u,", ").concat(l,")")),n||"none"}var Lg=function(e,t){return e.depth-t.depth},Ng=function(){function e(){Za(this,e),this.children=[],this.isDirty=!1}return Xa(e,[{key:"add",value:function(e){Wm(this.children,e),this.isDirty=!0}},{key:"remove",value:function(e){qm(this.children,e),this.isDirty=!0}},{key:"forEach",value:function(e){this.isDirty&&this.children.sort(Lg),this.isDirty=!1,this.children.forEach(e)}}]),e}();var Fg=["","X","Y","Z"],Bg=0,zg={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Ug(e){var t=e.attachResizeListener,r=e.defaultParent,n=e.measureScroll,a=e.checkIsScrollRoot,i=e.resetTransform;return function(){function e(t){var n=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null===r||void 0===r?void 0:r();Za(this,e),this.id=Bg++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=function(){n.isUpdating&&(n.isUpdating=!1,n.clearAllSnapshots())},this.updateProjection=function(){zg.totalNodes=zg.resolvedTargetDeltas=zg.recalculatedProjection=0,n.nodes.forEach(qg),n.nodes.forEach(Qg),n.nodes.forEach(Jg),n.nodes.forEach(Hg),function(e){window.MotionDebug&&window.MotionDebug.record(e)}(zg)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=t,this.latestValues=a,this.root=i?i.root||i:this,this.path=i?[].concat(pt(i.path),[i]):[],this.parent=i,this.depth=i?i.depth+1:0,t&&this.root.registerPotentialNode(t,this);for(var o=0;o<this.path.length;o++)this.path[o].shouldResetTransform=!0;this.root===this&&(this.nodes=new Ng)}return Xa(e,[{key:"addEventListener",value:function(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Hm),this.eventHandlers.get(e).add(t)}},{key:"notifyListeners",value:function(e){for(var t=this.eventHandlers.get(e),r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];t&&t.notify.apply(t,n)}},{key:"hasListeners",value:function(e){return this.eventHandlers.has(e)}},{key:"registerPotentialNode",value:function(e,t){this.potentialNodes.set(e,t)}},{key:"mount",value:function(e){var r=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.instance){var a;this.isSVG=(a=e)instanceof SVGElement&&"svg"!==a.tagName,this.instance=e;var i=this.options,o=i.layoutId,s=i.layout,c=i.visualElement;if(c&&!c.current&&c.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),n&&(s||o)&&(this.isLayoutDirty=!0),t){var u,l=function(){return r.root.updateBlockedByResize=!1};t(e,(function(){r.root.updateBlockedByResize=!0,u&&u(),u=function(e,t){var r=performance.now(),n=function n(a){var i=a.timestamp-r;i>=t&&(bf(n),e(i-t))};return yf.read(n,!0),function(){return bf(n)}}(l,250),Md.hasAnimatedSinceResize&&(Md.hasAnimatedSinceResize=!1,r.nodes.forEach(Yg))}))}o&&this.root.registerSharedNode(o,this),!1!==this.options.animate&&c&&(o||s)&&this.addEventListener("didUpdate",(function(e){var t=e.delta,n=e.hasLayoutChanged,a=e.hasRelativeTargetChanged,i=e.layout;if(r.isTreeAnimationBlocked())return r.target=void 0,void(r.relativeTarget=void 0);var o=r.options.transition||c.getDefaultTransition()||ny,s=c.getProps(),u=s.onLayoutAnimationStart,l=s.onLayoutAnimationComplete,p=!r.targetLayout||!Mg(r.targetLayout,i)||a,f=!n&&a;if(r.options.layoutRoot||r.resumeFrom&&r.resumeFrom.instance||f||n&&(p||!r.currentAnimation)){r.resumeFrom&&(r.resumingFrom=r.resumeFrom,r.resumingFrom.resumingFrom=void 0),r.setAnimationOrigin(t,f);var h=d(d({},Fm(o,"layout")),{},{onPlay:u,onComplete:l});(c.shouldReduceMotion||r.options.layoutRoot)&&(h.delay=0,h.type=!1),r.startAnimation(h)}else n||0!==r.animationProgress||Yg(r),r.isLead()&&r.options.onExitComplete&&r.options.onExitComplete();r.targetLayout=i}))}}},{key:"unmount",value:function(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);var e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,bf(this.updateProjection)}},{key:"blockUpdate",value:function(){this.updateManuallyBlocked=!0}},{key:"unblockUpdate",value:function(){this.updateManuallyBlocked=!1}},{key:"isUpdateBlocked",value:function(){return this.updateManuallyBlocked||this.updateBlockedByResize}},{key:"isTreeAnimationBlocked",value:function(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}},{key:"startUpdate",value:function(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Xg),this.animationId++)}},{key:"getTransformTemplate",value:function(){var e=this.options.visualElement;return e&&e.getProps().transformTemplate}},{key:"willUpdate",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.isUpdateBlocked())this.options.onExitComplete&&this.options.onExitComplete();else if(!this.root.isUpdating&&this.root.startUpdate(),!this.isLayoutDirty){this.isLayoutDirty=!0;for(var t=0;t<this.path.length;t++){var r=this.path[t];r.shouldResetTransform=!0,r.updateScroll("snapshot"),r.options.layoutRoot&&r.willUpdate(!1)}var n=this.options,a=n.layoutId,i=n.layout;if(void 0!==a||i){var o=this.getTransformTemplate();this.prevTransformTemplateValue=o?o(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}}}},{key:"didUpdate",value:function(){if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(Gg);this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(ay),this.potentialNodes.clear()),this.nodes.forEach(Kg),this.nodes.forEach(Vg),this.nodes.forEach(Wg),this.clearAllSnapshots(),mf.update.process(df),mf.preRender.process(df),mf.render.process(df))}},{key:"clearAllSnapshots",value:function(){this.nodes.forEach($g),this.sharedNodes.forEach(Zg)}},{key:"scheduleUpdateProjection",value:function(){yf.preRender(this.updateProjection,!1,!0)}},{key:"scheduleCheckAfterUnmount",value:function(){var e=this;yf.postRender((function(){e.isLayoutDirty?e.root.didUpdate():e.root.checkUpdateFailed()}))}},{key:"updateSnapshot",value:function(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}},{key:"updateLayout",value:function(){if(this.instance&&(this.updateScroll(),this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty)){if(this.resumeFrom&&!this.resumeFrom.instance)for(var e=0;e<this.path.length;e++){this.path[e].updateScroll()}var t=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Fv(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);var r=this.options.visualElement;r&&r.notify("LayoutMeasure",this.layout.layoutBox,t?t.layoutBox:void 0)}}},{key:"updateScroll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&(this.scroll={animationId:this.root.animationId,phase:e,isRoot:a(this.instance),offset:n(this.instance)})}},{key:"resetTransform",value:function(){if(i){var e=this.isLayoutDirty||this.shouldResetTransform,t=this.projectionDelta&&!Dg(this.projectionDelta),r=this.getTransformTemplate(),n=r?r(this.latestValues,""):void 0,a=n!==this.prevTransformTemplateValue;e&&(t||Wv(this.latestValues)||a)&&(i(this.instance,n),this.shouldResetTransform=!1,this.scheduleRender())}}},{key:"measure",value:function(){var e,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=this.measurePageBox(),n=this.removeElementScroll(r);return t&&(n=this.removeTransform(n)),iy((e=n).x),iy(e.y),{animationId:this.root.animationId,measuredBox:r,layoutBox:n,latestValues:{},source:this.id}}},{key:"measurePageBox",value:function(){var e=this.options.visualElement;if(!e)return Fv();var t=e.measureViewportBox(),r=this.root.scroll;return r&&(Jv(t.x,r.offset.x),Jv(t.y,r.offset.y)),t}},{key:"removeElementScroll",value:function(e){var t=Fv();xg(t,e);for(var r=0;r<this.path.length;r++){var n=this.path[r],a=n.scroll,i=n.options;if(n!==this.root&&a&&i.layoutScroll){if(a.isRoot){xg(t,e);var o=this.root.scroll;o&&(Jv(t.x,-o.offset.x),Jv(t.y,-o.offset.y))}Jv(t.x,a.offset.x),Jv(t.y,a.offset.y)}}return t}},{key:"applyTransform",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=Fv();xg(r,e);for(var n=0;n<this.path.length;n++){var a=this.path[n];!t&&a.options.layoutScroll&&a.scroll&&a!==a.root&&tg(r,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),Wv(a.latestValues)&&tg(r,a.latestValues)}return Wv(this.latestValues)&&tg(r,this.latestValues),r}},{key:"removeTransform",value:function(e){var t=Fv();xg(t,e);for(var r=0;r<this.path.length;r++){var n=this.path[r];if(n.instance&&Wv(n.latestValues)){Vv(n.latestValues)&&n.updateSnapshot();var a=Fv();xg(a,n.measurePageBox()),Eg(t,n.latestValues,n.snapshot?n.snapshot.layoutBox:void 0,a)}}return Wv(this.latestValues)&&Eg(t,this.latestValues),t}},{key:"setTargetDelta",value:function(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}},{key:"setOptions",value:function(e){this.options=d(d(d({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}},{key:"clearMeasurements",value:function(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}},{key:"forceRelativeParentToResolveTarget",value:function(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==df.timestamp&&this.relativeParent.resolveTargetDelta(!0)}},{key:"resolveTargetDelta",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=r.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=r.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=r.isSharedProjectionDirty);var n=Boolean(this.resumingFrom)||this!==r;if(!!(t||n&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty)||this.attemptToResolveRelativeTarget)){var a=this.options,i=a.layout,o=a.layoutId;if(this.layout&&(i||o)){if(this.resolvedRelativeTargetAt=df.timestamp,!this.targetDelta&&!this.relativeTarget){var s=this.getClosestProjectingParent();s&&s.layout?(this.relativeParent=s,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fv(),this.relativeTargetOrigin=Fv(),Dv(this.relativeTargetOrigin,this.layout.layoutBox,s.layout.layoutBox),xg(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var c,u,l;if(this.target||(this.target=Fv(),this.targetWithTransforms=Fv()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),c=this.target,u=this.relativeTarget,l=this.relativeParent.target,Ev(c.x,u.x,l.x),Ev(c.y,u.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):xg(this.target,this.layout.layoutBox),Yv(this.target,this.targetDelta)):xg(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;var d=this.getClosestProjectingParent();d&&Boolean(d.resumingFrom)===Boolean(this.resumingFrom)&&!d.options.layoutScroll&&d.target?(this.relativeParent=d,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fv(),this.relativeTargetOrigin=Fv(),Dv(this.relativeTargetOrigin,this.target,d.target),xg(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}zg.resolvedTargetDeltas++}}}}},{key:"getClosestProjectingParent",value:function(){if(this.parent&&!Vv(this.parent.latestValues)&&!qv(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}},{key:"isProjecting",value:function(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}},{key:"calcProjection",value:function(){var e,t=this.getLead(),r=Boolean(this.resumingFrom)||this!==t,n=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(n=!1),r&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(n=!1),this.resolvedRelativeTargetAt===df.timestamp&&(n=!1),!n){var a=this.options,i=a.layout,o=a.layoutId;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),this.layout&&(i||o)){xg(this.layoutCorrected,this.layout.layoutBox),function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=r.length;if(a){var i,o;t.x=t.y=1;for(var s=0;s<a;s++){o=(i=r[s]).projectionDelta;var c=i.instance;c&&c.style&&"contents"===c.style.display||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&tg(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Yv(e,o)),n&&Wv(i.latestValues)&&tg(e,i.latestValues))}t.x=Qv(t.x),t.y=Qv(t.y)}}(this.layoutCorrected,this.treeScale,this.path,r);var s=t.target;if(s){this.projectionDelta||(this.projectionDelta=Nv(),this.projectionDeltaWithTransform=Nv());var c=this.treeScale.x,u=this.treeScale.y,l=this.projectionTransform;Tv(this.projectionDelta,this.layoutCorrected,s,this.latestValues),this.projectionTransform=Ag(this.projectionDelta,this.treeScale),this.projectionTransform===l&&this.treeScale.x===c&&this.treeScale.y===u||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",s)),zg.recalculatedProjection++}}}}},{key:"hide",value:function(){this.isVisible=!1}},{key:"show",value:function(){this.isVisible=!0}},{key:"scheduleRender",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.options.scheduleRender&&this.options.scheduleRender(),e){var t=this.getStack();t&&t.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}},{key:"setAnimationOrigin",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.snapshot,a=n?n.latestValues:{},i=d({},this.latestValues),o=Nv();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!r;var s,c=Fv(),u=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),p=!l||l.members.length<=1,f=Boolean(u&&!p&&!0===this.options.crossfade&&!this.path.some(ry));this.animationProgress=0,this.mixTargetDelta=function(r){var n=r/1e3;ey(o.x,e.x,n),ey(o.y,e.y,n),t.setTargetDelta(o),t.relativeTarget&&t.relativeTargetOrigin&&t.layout&&t.relativeParent&&t.relativeParent.layout&&(Dv(c,t.layout.layoutBox,t.relativeParent.layout.layoutBox),function(e,t,r,n){ty(e.x,t.x,r.x,n),ty(e.y,t.y,r.y,n)}(t.relativeTarget,t.relativeTargetOrigin,c,n),s&&Mg(t.relativeTarget,s)&&(t.isProjectionDirty=!1),s||(s=Fv()),xg(s,t.relativeTarget)),u&&(t.animationValues=i,function(e,t,r,n,a,i){a?(e.opacity=Ch(0,void 0!==r.opacity?r.opacity:1,kg(n)),e.opacityExit=Ch(void 0!==t.opacity?t.opacity:1,0,wg(n))):i&&(e.opacity=Ch(void 0!==t.opacity?t.opacity:1,void 0!==r.opacity?r.opacity:1,n));for(var o=0;o<vg;o++){var s="border".concat(mg[o],"Radius"),c=bg(t,s),u=bg(r,s);void 0===c&&void 0===u||(c||(c=0),u||(u=0),0===c||0===u||yg(c)===yg(u)?(e[s]=Math.max(Ch(gg(c),gg(u),n),0),(lp.test(u)||lp.test(c))&&(e[s]+="%")):e[s]=u)}(t.rotate||r.rotate)&&(e.rotate=Ch(t.rotate||0,r.rotate||0,n))}(i,a,t.latestValues,n,f,p)),t.root.scheduleUpdateProjection(),t.scheduleRender(),t.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}},{key:"startAnimation",value:function(e){var t=this;this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(bf(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=yf.update((function(){Md.hasAnimatedSinceResize=!0,t.currentAnimation=function(e,t,r){var n=$d(e)?e:Gm(e);return n.start(zm("",n,t,r)),n.animation}(0,1e3,d(d({},e),{},{onUpdate:function(r){t.mixTargetDelta(r),e.onUpdate&&e.onUpdate(r)},onComplete:function(){e.onComplete&&e.onComplete(),t.completeAnimation()}})),t.resumingFrom&&(t.resumingFrom.currentAnimation=t.currentAnimation),t.pendingAnimation=void 0}))}},{key:"completeAnimation",value:function(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);var e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}},{key:"finishAnimation",value:function(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}},{key:"applyTransformsToTarget",value:function(){var e=this.getLead(),t=e.targetWithTransforms,r=e.target,n=e.layout,a=e.latestValues;if(t&&r&&n){if(this!==e&&this.layout&&n&&oy(this.options.animationType,this.layout.layoutBox,n.layoutBox)){r=this.target||Fv();var i=Cv(this.layout.layoutBox.x);r.x.min=e.target.x.min,r.x.max=r.x.min+i;var o=Cv(this.layout.layoutBox.y);r.y.min=e.target.y.min,r.y.max=r.y.min+o}xg(t,r),tg(t,a),Tv(this.projectionDeltaWithTransform,this.layoutCorrected,t,a)}}},{key:"registerSharedNode",value:function(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new Ig),this.sharedNodes.get(e).add(t);var r=t.options.initialPromotionConfig;t.promote({transition:r?r.transition:void 0,preserveFollowOpacity:r&&r.shouldPreserveFollowOpacity?r.shouldPreserveFollowOpacity(t):void 0})}},{key:"isLead",value:function(){var e=this.getStack();return!e||e.lead===this}},{key:"getLead",value:function(){var e;return this.options.layoutId&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}},{key:"getPrevLead",value:function(){var e;return this.options.layoutId?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}},{key:"getStack",value:function(){var e=this.options.layoutId;if(e)return this.root.sharedNodes.get(e)}},{key:"promote",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.needsReset,r=e.transition,n=e.preserveFollowOpacity,a=this.getStack();a&&a.promote(this,n),t&&(this.projectionDelta=void 0,this.needsReset=!0),r&&this.setOptions({transition:r})}},{key:"relegate",value:function(){var e=this.getStack();return!!e&&e.relegate(this)}},{key:"resetRotation",value:function(){var e=this.options.visualElement;if(e){var t=!1,r=e.latestValues;if((r.rotate||r.rotateX||r.rotateY||r.rotateZ)&&(t=!0),t){for(var n={},a=0;a<Fg.length;a++){var i="rotate"+Fg[a];r[i]&&(n[i]=r[i],e.setStaticValue(i,0))}for(var o in e.render(),n)e.setStaticValue(o,n[o]);e.scheduleRender()}}}},{key:"getProjectionStyles",value:function(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={};if(!this.instance||this.isSVG)return n;if(!this.isVisible)return{visibility:"hidden"};n.visibility="";var a=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,n.opacity="",n.pointerEvents=Hp(r.pointerEvents)||"",n.transform=a?a(this.latestValues,""):"none",n;var i=this.getLead();if(!this.projectionDelta||!this.layout||!i.target){var o={};return this.options.layoutId&&(o.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,o.pointerEvents=Hp(r.pointerEvents)||""),this.hasProjected&&!Wv(this.latestValues)&&(o.transform=a?a({},""):"none",this.hasProjected=!1),o}var s=i.animationValues||i.latestValues;this.applyTransformsToTarget(),n.transform=Ag(this.projectionDeltaWithTransform,this.treeScale,s),a&&(n.transform=a(s,n.transform));var c=this.projectionDelta,u=c.x,l=c.y;for(var d in n.transformOrigin="".concat(100*u.origin,"% ").concat(100*l.origin,"% 0"),i.animationValues?n.opacity=i===this?null!==(t=null!==(e=s.opacity)&&void 0!==e?e:this.latestValues.opacity)&&void 0!==t?t:1:this.preserveOpacity?this.latestValues.opacity:s.opacityExit:n.opacity=i===this?void 0!==s.opacity?s.opacity:"":void 0!==s.opacityExit?s.opacityExit:0,Vd)if(void 0!==s[d]){var p=Vd[d],f=p.correct,h=p.applyTo,m="none"===n.transform?s[d]:f(s[d],i);if(h)for(var v=h.length,g=0;g<v;g++)n[h[g]]=m;else n[d]=m}return this.options.layoutId&&(n.pointerEvents=i===this?Hp(r.pointerEvents)||"":"none"),n}},{key:"clearSnapshot",value:function(){this.resumeFrom=this.snapshot=void 0}},{key:"resetTree",value:function(){this.root.nodes.forEach((function(e){var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(Gg),this.root.sharedNodes.clear()}}]),e}()}function Vg(e){e.updateLayout()}function Wg(e){var t,r=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){var n=e.layout,a=n.layoutBox,i=n.measuredBox,o=e.options.animationType,s=r.source!==e.layout.source;"size"===o?Bv((function(e){var t=s?r.measuredBox[e]:r.layoutBox[e],n=Cv(t);t.min=a[e].min,t.max=t.min+n})):oy(o,r.layoutBox,a)&&Bv((function(t){var n=s?r.measuredBox[t]:r.layoutBox[t],i=Cv(a[t]);n.max=n.min+i,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[t].max=e.relativeTarget[t].min+i)}));var c=Nv();Tv(c,a,r.layoutBox);var u=Nv();s?Tv(u,e.applyTransform(i,!0),r.measuredBox):Tv(u,a,r.layoutBox);var l=!Dg(c),d=!1;if(!e.resumeFrom){var p=e.getClosestProjectingParent();if(p&&!p.resumeFrom){var f=p.snapshot,h=p.layout;if(f&&h){var m=Fv();Dv(m,r.layoutBox,f.layoutBox);var v=Fv();Dv(v,a,h.layoutBox),Mg(m,v)||(d=!0),p.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=m,e.relativeParent=p)}}}e.notifyListeners("didUpdate",{layout:a,snapshot:r,delta:u,layoutDelta:c,hasLayoutChanged:l,hasRelativeTargetChanged:d})}else if(e.isLead()){var g=e.options.onExitComplete;g&&g()}e.options.transition=void 0}function qg(e){zg.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Hg(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function $g(e){e.clearSnapshot()}function Gg(e){e.clearMeasurements()}function Kg(e){var t=e.options.visualElement;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Yg(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0}function Qg(e){e.resolveTargetDelta()}function Jg(e){e.calcProjection()}function Xg(e){e.resetRotation()}function Zg(e){e.removeLeadSnapshot()}function ey(e,t,r){e.translate=Ch(t.translate,0,r),e.scale=Ch(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function ty(e,t,r,n){e.min=Ch(t.min,r.min,n),e.max=Ch(t.max,r.max,n)}function ry(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}var ny={duration:.45,ease:[.4,0,.1,1]};function ay(e,t){for(var r=e.root,n=e.path.length-1;n>=0;n--)if(Boolean(e.path[n].instance)){r=e.path[n];break}var a=(r&&r!==e.root?r.instance:document).querySelector('[data-projection-id="'.concat(t,'"]'));a&&e.mount(a,!0)}function iy(e){e.min=Math.round(e.min),e.max=Math.round(e.max)}function oy(e,t,r){return"position"===e||"preserve-aspect"===e&&!Pv(jg(t),jg(r),.2)}var sy=Ug({attachResizeListener:function(e,t){return Jp(e,"resize",t)},measureScroll:function(){return{x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}},checkIsScrollRoot:function(){return!0}}),cy={current:void 0},uy=Ug({measureScroll:function(e){return{x:e.scrollLeft,y:e.scrollTop}},defaultParent:function(){if(!cy.current){var e=new sy(0,{});e.mount(window),e.setOptions({layoutScroll:!0}),cy.current=e}return cy.current},resetTransform:function(e,t){e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:function(e){return Boolean("fixed"===window.getComputedStyle(e).position)}}),ly={pan:{Feature:cg},drag:{Feature:og,ProjectionNode:uy,MeasureLayout:fg}};var dy=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;var py=4;function fy(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;zf(r<=py,'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.'));var n=function(e){var t=dy.exec(e);if(!t)return[,];var r=rt(t,3);return[r[1],r[2]]}(e),a=rt(n,2),i=a[0],o=a[1];if(i){var s=window.getComputedStyle(t).getPropertyValue(i);return s?s.trim():Jd(o)?fy(o,t,r+1):o}}function hy(e,t,r){var n=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(t),t)),a=e.current;if(!(a instanceof Element))return{target:n,transitionEnd:r};for(var i in r&&(r=d({},r)),e.values.forEach((function(e){var t=e.get();if(Jd(t)){var r=fy(t,a);r&&e.set(r)}})),n){var o=n[i];if(Jd(o)){var s=fy(o,a);s&&(n[i]=s,r||(r={}),void 0===r[i]&&(r[i]=o))}}return{target:n,transitionEnd:r}}var my=new Set(["width","height","top","left","right","bottom","x","y"]),vy=function(e){return my.has(e)},gy=function(e){return e===ep||e===dp},yy=function(e,t){return parseFloat(e.split(", ")[t])},by=function(e,t){return function(r,n){var a=n.transform;if("none"===a||!a)return 0;var i=a.match(/^matrix3d\((.+)\)$/);if(i)return yy(i[1],t);var o=a.match(/^matrix\((.+)\)$/);return o?yy(o[1],e):0}},ky=new Set(["x","y","z"]),wy=Wd.filter((function(e){return!ky.has(e)}));var _y={width:function(e,t){var r=e.x,n=t.paddingLeft,a=void 0===n?"0":n,i=t.paddingRight,o=void 0===i?"0":i;return r.max-r.min-parseFloat(a)-parseFloat(o)},height:function(e,t){var r=e.y,n=t.paddingTop,a=void 0===n?"0":n,i=t.paddingBottom,o=void 0===i?"0":i;return r.max-r.min-parseFloat(a)-parseFloat(o)},top:function(e,t){var r=t.top;return parseFloat(r)},left:function(e,t){var r=t.left;return parseFloat(r)},bottom:function(e,t){var r=e.y,n=t.top;return parseFloat(n)+(r.max-r.min)},right:function(e,t){var r=e.x,n=t.left;return parseFloat(n)+(r.max-r.min)},x:by(4,13),y:by(5,14)},Sy=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t=d({},t),n=d({},n);var a=Object.keys(t).filter(vy),i=[],o=!1,s=[];if(a.forEach((function(a){var c=e.getValue(a);if(e.hasValue(a)){var u,l=r[a],d=Qm(l),p=t[a];if(Vp(p)){var f=p.length,h=null===p[0]?1:0;l=p[h],d=Qm(l);for(var m=h;m<f&&null!==p[m];m++)u?zf(Qm(p[m])===u,"All keyframes must be of the same type"):(u=Qm(p[m]),zf(u===d||gy(d)&&gy(u),"Keyframes must be of the same dimension as the current value"))}else u=Qm(p);if(d!==u)if(gy(d)&&gy(u)){var v=c.get();"string"===typeof v&&c.set(parseFloat(v)),"string"===typeof p?t[a]=parseFloat(p):Array.isArray(p)&&u===dp&&(t[a]=p.map(parseFloat))}else(null===d||void 0===d?void 0:d.transform)&&(null===u||void 0===u?void 0:u.transform)&&(0===l||0===p)?0===l?c.set(u.transform(l)):t[a]=d.transform(p):(o||(i=function(e){var t=[];return wy.forEach((function(r){var n=e.getValue(r);void 0!==n&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))})),t.length&&e.render(),t}(e),o=!0),s.push(a),n[a]=void 0!==n[a]?n[a]:t[a],c.jump(p))}})),s.length){var c=s.indexOf("height")>=0?window.pageYOffset:null,u=function(e,t,r){var n=t.measureViewportBox(),a=t.current,i=getComputedStyle(a),o=i.display,s={};"none"===o&&t.setStaticValue("display",e.display||"block"),r.forEach((function(e){s[e]=_y[e](n,i)})),t.render();var c=t.measureViewportBox();return r.forEach((function(r){var n=t.getValue(r);n&&n.jump(s[r]),e[r]=_y[r](c,i)})),e}(t,e,s);return i.length&&i.forEach((function(t){var r=rt(t,2),n=r[0],a=r[1];e.getValue(n).set(a)})),e.render(),md&&null!==c&&window.scrollTo({top:c}),{target:u,transitionEnd:n}}return{target:t,transitionEnd:n}};function xy(e,t,r,n){return function(e){return Object.keys(e).some(vy)}(t)?Sy(e,t,r,n):{target:t,transitionEnd:n}}var Cy={current:null},Py={current:!1};var Ry=new WeakMap,Ty=["willChange"],Ey=["children"],Oy=Object.keys(Td),Dy=Oy.length,My=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],jy=_d.length,Iy=function(){function e(t){var r=this,n=t.parent,a=t.props,i=t.presenceContext,o=t.reducedMotionConfig,s=t.visualState,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Za(this,e),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=function(){return r.notify("Update",r.latestValues)},this.render=function(){r.current&&(r.triggerBuild(),r.renderInstance(r.current,r.renderState,r.props.style,r.projection))},this.scheduleRender=function(){return yf.render(r.render,!1,!0)};var u=s.latestValues,l=s.renderState;this.latestValues=u,this.baseTarget=d({},u),this.initialValues=a.initial?d({},u):{},this.renderState=l,this.parent=n,this.props=a,this.presenceContext=i,this.depth=n?n.depth+1:0,this.reducedMotionConfig=o,this.options=c,this.isControllingVariants=Sd(a),this.isVariantNode=xd(a),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(n&&n.current);var f=this.scrapeMotionValuesFromProps(a,{}),h=f.willChange,m=p(f,Ty);for(var v in m){var g=m[v];void 0!==u[v]&&$d(g)&&(g.set(u[v],!1),Um(h)&&h.add(v))}}return Xa(e,[{key:"scrapeMotionValuesFromProps",value:function(e,t){return{}}},{key:"mount",value:function(e){var t=this;this.current=e,Ry.set(e,this),this.projection&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((function(e,r){return t.bindToMotionValue(r,e)})),Py.current||function(){if(Py.current=!0,md)if(window.matchMedia){var e=window.matchMedia("(prefers-reduced-motion)"),t=function(){return Cy.current=e.matches};e.addListener(t),t()}else Cy.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Cy.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}},{key:"unmount",value:function(){for(var e in Ry.delete(this.current),this.projection&&this.projection.unmount(),bf(this.notifyUpdate),bf(this.render),this.valueSubscriptions.forEach((function(e){return e()})),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this),this.events)this.events[e].clear();for(var t in this.features)this.features[t].unmount();this.current=null}},{key:"bindToMotionValue",value:function(e,t){var r=this,n=qd.has(e),a=t.on("change",(function(t){r.latestValues[e]=t,r.props.onUpdate&&yf.update(r.notifyUpdate,!1,!0),n&&r.projection&&(r.projection.isTransformDirty=!0)})),i=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,(function(){a(),i()}))}},{key:"sortNodePosition",value:function(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}},{key:"loadFeatures",value:function(e,t,r,n,a){for(var i,o,s=this,c=(e.children,p(e,Ey)),u=0;u<Dy;u++){var l=Oy[u],d=Td[l],f=d.isEnabled,h=d.Feature,m=d.ProjectionNode,v=d.MeasureLayout;m&&(i=m),f(c)&&(!this.features[l]&&h&&(this.features[l]=new h(this)),v&&(o=v))}if(!this.projection&&i){this.projection=new i(n,this.latestValues,this.parent&&this.parent.projection);var g=c.layoutId,y=c.layout,b=c.drag,k=c.dragConstraints,w=c.layoutScroll,_=c.layoutRoot;this.projection.setOptions({layoutId:g,layout:y,alwaysMeasureLayout:Boolean(b)||k&&yd(k),visualElement:this,scheduleRender:function(){return s.scheduleRender()},animationType:"string"===typeof y?y:"both",initialPromotionConfig:a,layoutScroll:w,layoutRoot:_})}return o}},{key:"updateFeatures",value:function(){for(var e in this.features){var t=this.features[e];t.isMounted?t.update(this.props,this.prevProps):(t.mount(),t.isMounted=!0)}}},{key:"triggerBuild",value:function(){this.build(this.renderState,this.latestValues,this.options,this.props)}},{key:"measureViewportBox",value:function(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Fv()}},{key:"getStaticValue",value:function(e){return this.latestValues[e]}},{key:"setStaticValue",value:function(e,t){this.latestValues[e]=t}},{key:"makeTargetAnimatable",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.makeTargetAnimatableFromInstance(e,this.props,t)}},{key:"update",value:function(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(var r=0;r<My.length;r++){var n=My[r];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);var a=e["on"+n];a&&(this.propEventSubscriptions[n]=this.on(n,a))}this.prevMotionValues=function(e,t,r){var n=t.willChange;for(var a in t){var i=t[a],o=r[a];if($d(i))e.addValue(a,i),Um(n)&&n.add(a);else if($d(o))e.addValue(a,Gm(i,{owner:e})),Um(n)&&n.remove(a);else if(o!==i)if(e.hasValue(a)){var s=e.getValue(a);!s.hasAnimated&&s.set(i)}else{var c=e.getStaticValue(a);e.addValue(a,Gm(void 0!==c?c:i,{owner:e}))}}for(var u in r)void 0===t[u]&&e.removeValue(u);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}},{key:"getProps",value:function(){return this.props}},{key:"getVariant",value:function(e){return this.props.variants?this.props.variants[e]:void 0}},{key:"getDefaultTransition",value:function(){return this.props.transition}},{key:"getTransformPagePoint",value:function(){return this.props.transformPagePoint}},{key:"getClosestVariantNode",value:function(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}},{key:"getVariantContext",value:function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){var e=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(e.initial=this.props.initial),e}for(var t={},r=0;r<jy;r++){var n=_d[r],a=this.props[n];(bd(a)||!1===a)&&(t[n]=a)}return t}},{key:"addVariantChild",value:function(e){var t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),function(){return t.variantChildren.delete(e)}}},{key:"addValue",value:function(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}},{key:"removeValue",value:function(e){this.values.delete(e);var t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}},{key:"hasValue",value:function(e){return this.values.has(e)}},{key:"getValue",value:function(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];var r=this.values.get(e);return void 0===r&&void 0!==t&&(r=Gm(t,{owner:this}),this.addValue(e,r)),r}},{key:"readValue",value:function(e){return void 0===this.latestValues[e]&&this.current?this.readValueFromInstance(this.current,e,this.options):this.latestValues[e]}},{key:"setBaseTarget",value:function(e,t){this.baseTarget[e]=t}},{key:"getBaseTarget",value:function(e){var t,r=this.props.initial,n="string"===typeof r||"object"===typeof r?null===(t=Up(this.props,r))||void 0===t?void 0:t[e]:void 0;if(r&&void 0!==n)return n;var a=this.getBaseTargetFromProps(this.props,e);return void 0===a||$d(a)?void 0!==this.initialValues[e]&&void 0===n?void 0:this.baseTarget[e]:a}},{key:"on",value:function(e,t){return this.events[e]||(this.events[e]=new Hm),this.events[e].add(t)}},{key:"notify",value:function(e){if(this.events[e]){for(var t,r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];(t=this.events[e]).notify.apply(t,n)}}}]),e}(),Ay=["transition","transitionEnd"],Ly=function(e){ti(r,e);var t=ii(r);function r(){return Za(this,r),t.apply(this,arguments)}return Xa(r,[{key:"sortInstanceNodePosition",value:function(e,t){return 2&e.compareDocumentPosition(t)?1:-1}},{key:"getBaseTargetFromProps",value:function(e,t){return e.style?e.style[t]:void 0}},{key:"removeValueFromRenderState",value:function(e,t){var r=t.vars,n=t.style;delete r[e],delete n[e]}},{key:"makeTargetAnimatableFromInstance",value:function(e,t,r){var n=e.transition,a=e.transitionEnd,i=p(e,Ay),o=t.transformValues,s=function(e,t,r){var n={};for(var a in e){var i=rv(a,t);if(void 0!==i)n[a]=i;else{var o=r.getValue(a);o&&(n[a]=o.get())}}return n}(i,n||{},this);if(o&&(a&&(a=o(a)),i&&(i=o(i)),s&&(s=o(s))),r){!function(e,t,r){var n,a,i=Object.keys(t).filter((function(t){return!e.hasValue(t)})),o=i.length;if(o)for(var s=0;s<o;s++){var c=i[s],u=t[c],l=null;Array.isArray(u)&&(l=u[0]),null===l&&(l=null!==(a=null!==(n=r[c])&&void 0!==n?n:e.readValue(c))&&void 0!==a?a:t[c]),void 0!==l&&null!==l&&("string"===typeof l&&(/^\-?\d*\.?\d+$/.test(l)||Vm(l))?l=parseFloat(l):!Xm(l)&&Bh.test(u)&&(l=Im(c,u)),e.addValue(c,Gm(l,{owner:e})),void 0===r[c]&&(r[c]=l),null!==l&&e.setBaseTarget(c,l))}}(this,i,s);var c=function(e,t,r,n){var a=hy(e,t,n);return xy(e,t=a.target,r,n=a.transitionEnd)}(this,i,s,a);a=c.transitionEnd,i=c.target}return d({transition:n,transitionEnd:a},i)}}]),r}(Iy);var Ny=function(e){ti(r,e);var t=ii(r);function r(){return Za(this,r),t.apply(this,arguments)}return Xa(r,[{key:"readValueFromInstance",value:function(e,t){if(qd.has(t)){var r=jm(t);return r&&r.default||0}var n,a=(n=e,window.getComputedStyle(n)),i=(Qd(t)?a.getPropertyValue(t):a[t])||0;return"string"===typeof i?i.trim():i}},{key:"measureInstanceViewportBox",value:function(e,t){return rg(e,t.transformPagePoint)}},{key:"build",value:function(e,t,r,n){gp(e,t,r,n.transformTemplate)}},{key:"scrapeMotionValuesFromProps",value:function(e,t){return Bp(e,t)}},{key:"handleChildMotionValue",value:function(){var e=this;this.childSubscription&&(this.childSubscription(),delete this.childSubscription);var t=this.props.children;$d(t)&&(this.childSubscription=t.on("change",(function(t){e.current&&(e.current.textContent="".concat(t))})))}},{key:"renderInstance",value:function(e,t,r,n){Lp(e,t,r,n)}}]),r}(Ly);function Fy(){return Fy="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ri(e)););return e}(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(arguments.length<3?e:r):a.value}},Fy.apply(this,arguments)}var By=function(e){ti(r,e);var t=ii(r);function r(){var e;return Za(this,r),(e=t.apply(this,arguments)).isSVGTag=!1,e}return Xa(r,[{key:"getBaseTargetFromProps",value:function(e,t){return e[t]}},{key:"readValueFromInstance",value:function(e,t){if(qd.has(t)){var r=jm(t);return r&&r.default||0}return t=Np.has(t)?t:Ap(t),e.getAttribute(t)}},{key:"measureInstanceViewportBox",value:function(){return Fv()}},{key:"scrapeMotionValuesFromProps",value:function(e,t){return zp(e,t)}},{key:"build",value:function(e,t,r,n){Op(e,t,r,this.isSVGTag,n.transformTemplate)}},{key:"renderInstance",value:function(e,t,r,n){Fp(e,t,0,n)}},{key:"mount",value:function(e){this.isSVGTag=Mp(e.tagName),Fy(ri(r.prototype),"mount",this).call(this,e)}}]),r}(Ly),zy=function(e,t){return Ud(e)?new By(t,{enableHardwareAcceleration:!1}):new Ny(t,{enableHardwareAcceleration:!0})},Uy={layout:{ProjectionNode:uy,MeasureLayout:fg}},Vy=d(d(d(d({},vv),Af),ly),Uy),Wy=Bd((function(e,t){return function(e,t,r,n){var a=t.forwardMotionProps,i=void 0!==a&&a;return d(d({},Ud(e)?Yp:Qp),{},{preloadedFeatures:r,useRender:Ip(i),createVisualElement:n,Component:e})}(e,t,Vy,zy)}));var qy=new Set([].concat(pt(Xr),["textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"])),Hy=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function $y(e){return Hy.has(e)||!qy.has(e)}function Gy(e){var t=Object.assign({},e);for(var r in t)void 0===t[r]&&delete t[r];return t}var Ky=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Yy=_e((function(e){return Ky.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),Qy=function(e){return"theme"!==e},Jy=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?Yy:Qy},Xy=function(e,t,r){var n;if(t){var a=t.shouldForwardProp;n=e.__emotion_forwardProp&&a?function(t){return e.__emotion_forwardProp(t)&&a(t)}:a}return"function"!==typeof n&&r&&(n=e.__emotion_forwardProp),n},Zy=function(e){var t=e.cache,r=e.serialized,n=e.isStringTag;Ue(t,r,n);Ie((function(){return Ve(t,r,n)}));return null},eb=function e(t,r){var n,a,i=t.__emotion_real===t,o=i&&t.__emotion_base||t;void 0!==r&&(n=r.label,a=r.target);var s=Xy(t,r,i),c=s||Jy(o),u=!c("as");return function(){var l=arguments,d=i&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==n&&d.push("label:"+n+";"),null==l[0]||void 0===l[0].raw)d.push.apply(d,l);else{0,d.push(l[0][0]);for(var p=l.length,f=1;f<p;f++)d.push(l[f],l[0][f])}var m=Ne((function(e,t,r){var n=u&&e.as||o,i="",l=[],p=e;if(null==e.theme){for(var f in p={},e)p[f]=e[f];p.theme=(0,h.useContext)(Fe)}"string"===typeof e.className?i=function(e,t,r){var n="";return r.split(" ").forEach((function(r){void 0!==e[r]?t.push(e[r]+";"):n+=r+" "})),n}(t.registered,l,e.className):null!=e.className&&(i=e.className+" ");var m=Me(d.concat(l),t.registered,p);i+=t.key+"-"+m.name,void 0!==a&&(i+=" "+a);var v=u&&void 0===s?Jy(n):c,g={};for(var y in e)u&&"as"===y||v(y)&&(g[y]=e[y]);return g.className=i,g.ref=r,(0,h.createElement)(h.Fragment,null,(0,h.createElement)(Zy,{cache:t,serialized:m,isStringTag:"string"===typeof n}),(0,h.createElement)(n,g))}));return m.displayName=void 0!==n?n:"Styled("+("string"===typeof o?o:o.displayName||o.name||"Component")+")",m.defaultProps=t.defaultProps,m.__emotion_real=m,m.__emotion_base=o,m.__emotion_styles=d,m.__emotion_forwardProp=s,Object.defineProperty(m,"toString",{value:function(){return"."+a}}),m.withComponent=function(t,n){return e(t,ye({},r,n,{shouldForwardProp:Xy(m,n,!0)})).apply(void 0,d)},m}},tb=eb.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){tb[e]=tb(e)}));var rb,nb=tb,ab=["theme","css","__css","sx"],ib=["baseStyle"],ob=null!=(rb=nb.default)?rb:nb,sb=function(e){var t=e.baseStyle;return function(e){e.theme;var r=e.css,n=e.__css,a=e.sx,i=ln(p(e,ab),(function(e,t){return en(t)})),o=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=d({},e),r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];for(var i=0,o=n;i<o.length;i++){var s=o[i];if(null!=s)for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(c in t&&delete t[c],t[c]=s[c])}return t}({},n,pn(t,e),dn(i),a),s=an(o)(e.theme);return r?[s,r]:s}};function cb(e,t){var r=null!=t?t:{},n=r.baseStyle,a=p(r,ib);a.shouldForwardProp||(a.shouldForwardProp=$y);var i=sb({baseStyle:n}),o=ob(e,a)(i),s=h.forwardRef((function(e,t){var r=ut(),n=r.colorMode,a=r.forced;return h.createElement(o,d({ref:t,"data-theme":a?n:void 0},e))}));return s}var ub=function(){var e=new Map;return new Proxy(cb,{apply:function(e,t,r){return cb.apply(void 0,pt(r))},get:function(t,r){return e.has(r)||e.set(r,cb(r)),e.get(r)}})}(),lb={initial:function(e){var t=e.position,r=["top","bottom"].includes(t)?"y":"x",n=["top-right","bottom-right"].includes(t)?1:-1;return"bottom"===t&&(n=1),u({opacity:0},r,24*n)},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},db=(0,h.memo)((function(e){var t=e.id,r=e.message,n=e.onCloseComplete,a=e.onRequestRemove,i=e.requestClose,o=void 0!==i&&i,s=e.position,c=void 0===s?"bottom":s,u=e.duration,l=void 0===u?5e3:u,p=e.containerStyle,f=e.motionVariants,m=void 0===f?lb:f,v=e.toastSpacing,g=void 0===v?"0.5rem":v,y=rt((0,h.useState)(l),2),b=y[0],k=y[1],w=pd();ld((function(){w||null==n||n()}),[w]),ld((function(){k(l)}),[l]);var _=function(){w&&a()};(0,h.useEffect)((function(){w&&o&&a()}),[w,o,a]),ud(_,b);var S=(0,h.useMemo)((function(){return d({pointerEvents:"auto",maxWidth:560,minWidth:300,margin:g},p)}),[p,g]),x=(0,h.useMemo)((function(){return function(e){var t="center";return e.includes("right")&&(t="flex-end"),e.includes("left")&&(t="flex-start"),{display:"flex",flexDirection:"column",alignItems:t}}(c)}),[c]);return(0,Ge.jsx)(Wy.li,{layout:!0,className:"chakra-toast",variants:m,initial:"initial",animate:"animate",exit:"exit",onHoverStart:function(){return k(null)},onHoverEnd:function(){return k(l)},custom:{position:c},style:x,children:(0,Ge.jsx)(ub.div,{role:"status","aria-atomic":"true",className:"chakra-toast__inner",__css:S,children:vt(r,{id:t,onClose:_})})})}));function pb(e){return(0,h.forwardRef)(e)}function fb(){var e=ut(),t=function(){var e=(0,h.useContext)(Fe);if(!e)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return e}();return d(d({},e),{},{theme:t})}db.displayName="ToastComponent";var hb=r(77),mb=["styleConfig"];function vb(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.styleConfig,a=p(r,mb),i=fb(),o=i.theme,s=i.colorMode,c=e?un(o,"components.".concat(e)):void 0,u=n||c,l=wt({theme:o,colorMode:s},null!=(t=null==u?void 0:u.defaultProps)?t:{},dn(function(e,t){var r={};return Object.keys(e).forEach((function(n){t.includes(n)||(r[n]=e[n])})),r}(a,["children"]))),d=(0,h.useRef)({});if(u){var f=function(e){return function(t){var r,n=t.variant,a=t.size,i=sn(t.theme);return wt({},vt(null!=(r=e.baseStyle)?r:{},t),i(e,"sizes",a,t),i(e,"variants",n,t))}}(u),m=f(l);hb(d.current,m)||(d.current=m)}return d.current}function gb(e){return vb(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}function yb(e){return vb(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}var bb=["as","viewBox","color","focusable","children","className","__css"],kb={path:(0,Ge.jsxs)("g",{stroke:"currentColor",strokeWidth:"1.5",children:[(0,Ge.jsx)("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),(0,Ge.jsx)("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),(0,Ge.jsx)("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},wb=pb((function(e,t){var r=e.as,n=e.viewBox,a=e.color,i=void 0===a?"currentColor":a,o=e.focusable,s=void 0!==o&&o,c=e.children,u=e.className,l=e.__css,f=p(e,bb),h=ht("chakra-icon",u),m=gb("Icon",e),v={ref:t,focusable:s,className:h,__css:d(d({w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:i},l),m)},g=null!=n?n:kb.viewBox;if(r&&"string"!==typeof r)return(0,Ge.jsx)(ub.svg,d(d({as:r},v),f));var y=null!=c?c:kb.path;return(0,Ge.jsx)(ub.svg,d(d(d({verticalAlign:"middle",viewBox:g},v),f),{},{children:y}))}));wb.displayName="Icon";function _b(e){return(0,Ge.jsx)(wb,d(d({viewBox:"0 0 24 24"},e),{},{children:(0,Ge.jsx)("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})}))}var Sb=["label","thickness","speed","emptyColor","className"],xb=function(){var e=qe.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),Cb=pb((function(e,t){var r=gb("Spinner",e),n=cn(e),a=n.label,i=void 0===a?"Loading...":a,o=n.thickness,s=void 0===o?"2px":o,c=n.speed,u=void 0===c?"0.45s":c,l=n.emptyColor,f=void 0===l?"transparent":l,h=n.className,m=p(n,Sb),v=ht("chakra-spinner",h),g=d({display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:s,borderBottomColor:f,borderLeftColor:f,animation:"".concat(xb," ").concat(u," linear infinite")},r);return(0,Ge.jsx)(ub.div,d(d({ref:t,__css:g,className:v},m),{},{children:i&&(0,Ge.jsx)(ub.span,{srOnly:!0,children:i})}))}));Cb.displayName="Spinner";var Pb=rt(nt({name:"AlertContext",hookName:"useAlertContext",providerName:"<Alert />"}),2),Rb=Pb[0],Tb=Pb[1],Eb=rt(nt({name:"AlertStylesContext",hookName:"useAlertStyles",providerName:"<Alert />"}),2),Ob=Eb[0],Db=Eb[1],Mb={info:{icon:function(e){return(0,Ge.jsx)(wb,d(d({viewBox:"0 0 24 24"},e),{},{children:(0,Ge.jsx)("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"})}))},colorScheme:"blue"},warning:{icon:_b,colorScheme:"orange"},success:{icon:function(e){return(0,Ge.jsx)(wb,d(d({viewBox:"0 0 24 24"},e),{},{children:(0,Ge.jsx)("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})}))},colorScheme:"green"},error:{icon:_b,colorScheme:"red"},loading:{icon:Cb,colorScheme:"blue"}};var jb=["status","addRole"],Ib=pb((function(e,t){var r,n=cn(e),a=n.status,i=void 0===a?"info":a,o=n.addRole,s=void 0===o||o,c=p(n,jb),u=null!=(r=e.colorScheme)?r:function(e){return Mb[e].colorScheme}(i),l=yb("Alert",d(d({},e),{},{colorScheme:u})),f=d({width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden"},l.container);return(0,Ge.jsx)(Rb,{value:{status:i},children:(0,Ge.jsx)(Ob,{value:l,children:(0,Ge.jsx)(ub.div,d(d({"data-status":i,role:s?"alert":void 0,ref:t},c),{},{className:ht("chakra-alert",e.className),__css:f}))})})}));function Ab(e){var t=Tb().status,r=function(e){return Mb[e].icon}(t),n=Db(),a="loading"===t?n.spinner:n.icon;return(0,Ge.jsx)(ub.span,d(d({display:"inherit","data-status":t},e),{},{className:ht("chakra-alert__icon",e.className),__css:a,children:e.children||(0,Ge.jsx)(r,{h:"100%",w:"100%"})}))}Ib.displayName="Alert",Ab.displayName="AlertIcon";var Lb=pb((function(e,t){var r=Db(),n=Tb().status;return(0,Ge.jsx)(ub.div,d(d({ref:t,"data-status":n},e),{},{className:ht("chakra-alert__title",e.className),__css:r.title}))}));Lb.displayName="AlertTitle";var Nb=pb((function(e,t){var r=Db(),n=Tb().status,a=d({display:"inline"},r.description);return(0,Ge.jsx)(ub.div,d(d({ref:t,"data-status":n},e),{},{className:ht("chakra-alert__desc",e.className),__css:a}))}));Nb.displayName="AlertDescription";var Fb=["children","isDisabled","__css"];function Bb(e){return(0,Ge.jsx)(wb,d(d({focusable:"false","aria-hidden":!0},e),{},{children:(0,Ge.jsx)("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"})}))}var zb=pb((function(e,t){var r=gb("CloseButton",e),n=cn(e),a=n.children,i=n.isDisabled,o=n.__css,s=p(n,Fb);return(0,Ge.jsx)(ub.button,d(d({type:"button","aria-label":"Close",ref:t,disabled:i,__css:d(d(d({},{outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0}),r),o)},s),{},{children:a||(0,Ge.jsx)(Bb,{width:"1em",height:"1em"})}))}));zb.displayName="CloseButton";var Ub=function(e){var t=e,r=new Set,n=function(e){t=e(t),r.forEach((function(e){return e()}))};return{getState:function(){return t},subscribe:function(t){return r.add(t),function(){n((function(){return e})),r.delete(t)}},removeToast:function(e,t){n((function(r){return d(d({},r),{},u({},t,r[t].filter((function(t){return t.id!=e}))))}))},notify:function(e,t){var r=function(e){var t,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Vb+=1;var a=null!=(t=n.id)?t:Vb,i=null!=(r=n.position)?r:"bottom";return{id:a,message:e,position:i,duration:n.duration,onCloseComplete:n.onCloseComplete,onRequestRemove:function(){return Ub.removeToast(String(a),i)},status:n.status,requestClose:!1,containerStyle:n.containerStyle}}(e,t),a=r.position,i=r.id;return n((function(e){var t,n,i=a.includes("top")?[r].concat(pt(null!=(t=e[a])?t:[])):[].concat(pt(null!=(n=e[a])?n:[]),[r]);return d(d({},e),{},u({},a,i))})),i},update:function(e,t){e&&n((function(r){var n=d({},r),a=od(n,e),i=a.position,o=a.index;return i&&-1!==o&&(n[i][o]=d(d(d({},n[i][o]),t),{},{message:qb(t)})),n}))},closeAll:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).positions;n((function(t){return(null!=e?e:["bottom","bottom-right","bottom-left","top","top-left","top-right"]).reduce((function(e,r){return e[r]=t[r].map((function(e){return d(d({},e),{},{requestClose:!0})})),e}),d({},t))}))},close:function(e){n((function(t){var r=sd(t,e);return r?d(d({},t),{},u({},r,t[r].map((function(t){return t.id==e?d(d({},t),{},{requestClose:!0}):t})))):t}))},isActive:function(e){return Boolean(od(Ub.getState(),e).position)}}}({top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]});var Vb=0;var Wb=function(e){var t=e.status,r=e.variant,n=void 0===r?"solid":r,a=e.id,i=e.title,o=e.isClosable,s=e.onClose,c=e.description,u=e.colorScheme,l=e.icon,d=a?{root:"toast-".concat(a),title:"toast-".concat(a,"-title"),description:"toast-".concat(a,"-description")}:void 0;return(0,Ge.jsxs)(Ib,{addRole:!1,status:t,variant:n,id:null==d?void 0:d.root,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto",colorScheme:u,children:[(0,Ge.jsx)(Ab,{children:l}),(0,Ge.jsxs)(ub.div,{flex:"1",maxWidth:"100%",children:[i&&(0,Ge.jsx)(Lb,{id:null==d?void 0:d.title,children:i}),c&&(0,Ge.jsx)(Nb,{id:null==d?void 0:d.description,display:"block",children:c})]}),o&&(0,Ge.jsx)(zb,{size:"sm",onClick:s,position:"absolute",insetEnd:1,top:1})]})};function qb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.render,r=e.toastComponent,n=void 0===r?Wb:r;return function(r){return"function"===typeof t?t(d(d({},r),e)):(0,Ge.jsx)(n,d(d({},r),e))}}function Hb(){var e=(0,h.useRef)(!1);return vd((function(){return e.current=!0,function(){e.current=!1}}),[]),e}var $b=function(e){ti(r,e);var t=ii(r);function r(){return Za(this,r),t.apply(this,arguments)}return Xa(r,[{key:"getSnapshotBeforeUpdate",value:function(e){var t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){var r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft}return null}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){return this.props.children}}]),r}(h.Component);function Gb(e){var t=e.children,r=e.isPresent,n=(0,h.useId)(),a=(0,h.useRef)(null),i=(0,h.useRef)({width:0,height:0,top:0,left:0});return(0,h.useInsertionEffect)((function(){var e=i.current,t=e.width,o=e.height,s=e.top,c=e.left;if(!r&&a.current&&t&&o){a.current.dataset.motionPopId=n;var u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule('\n          [data-motion-pop-id="'.concat(n,'"] {\n            position: absolute !important;\n            width: ').concat(t,"px !important;\n            height: ").concat(o,"px !important;\n            top: ").concat(s,"px !important;\n            left: ").concat(c,"px !important;\n          }\n        ")),function(){document.head.removeChild(u)}}}),[r]),h.createElement($b,{isPresent:r,childRef:a,sizeRef:i},h.cloneElement(t,{ref:a}))}var Kb=function(e){var t=e.children,r=e.initial,n=e.isPresent,a=e.onExitComplete,i=e.custom,o=e.presenceAffectsLayout,s=e.mode,c=Dd(Yb),u=(0,h.useId)(),l=(0,h.useMemo)((function(){return{id:u,initial:r,isPresent:n,custom:i,onExitComplete:function(e){c.set(e,!0);var t,r=lt(c.values());try{for(r.s();!(t=r.n()).done;){if(!t.value)return}}catch(n){r.e(n)}finally{r.f()}a&&a()},register:function(e){return c.set(e,!1),function(){return c.delete(e)}}}}),o?void 0:[n]);return(0,h.useMemo)((function(){c.forEach((function(e,t){return c.set(t,!1)}))}),[n]),h.useEffect((function(){!n&&!c.size&&a&&a()}),[n]),"popLayout"===s&&(t=h.createElement(Gb,{isPresent:n},t)),h.createElement(dd.Provider,{value:l},t)};function Yb(){return new Map}var Qb=function(e){return e.key||""};var Jb=function(e){var t=e.children,r=e.custom,n=e.initial,a=void 0===n||n,i=e.onExitComplete,o=e.exitBeforeEnter,s=e.presenceAffectsLayout,c=void 0===s||s,u=e.mode,l=void 0===u?"sync":u;zf(!o,"Replace exitBeforeEnter with mode='wait'");var d=function(){var e=Hb(),t=rt((0,h.useState)(0),2),r=t[0],n=t[1],a=(0,h.useCallback)((function(){e.current&&n(r+1)}),[r]);return[(0,h.useCallback)((function(){return yf.postRender(a)}),[a]),r]}(),p=rt(d,1)[0],f=(0,h.useContext)(Id).forceRender;f&&(p=f);var m,v=Hb(),g=function(e){var t=[];return h.Children.forEach(e,(function(e){(0,h.isValidElement)(e)&&t.push(e)})),t}(t),y=g,b=new Set,k=(0,h.useRef)(y),w=(0,h.useRef)(new Map).current,_=(0,h.useRef)(!0);if(vd((function(){_.current=!1,function(e,t){e.forEach((function(e){var r=Qb(e);t.set(r,e)}))}(g,w),k.current=y})),m=function(){_.current=!0,w.clear(),b.clear()},(0,h.useEffect)((function(){return function(){return m()}}),[]),_.current)return h.createElement(h.Fragment,null,y.map((function(e){return h.createElement(Kb,{key:Qb(e),isPresent:!0,initial:!!a&&void 0,presenceAffectsLayout:c,mode:l},e)})));y=pt(y);for(var S=k.current.map(Qb),x=g.map(Qb),C=S.length,P=0;P<C;P++){var R=S[P];-1===x.indexOf(R)&&b.add(R)}return"wait"===l&&b.size&&(y=[]),b.forEach((function(e){if(-1===x.indexOf(e)){var t=w.get(e);if(t){var n=S.indexOf(e);y.splice(n,0,h.createElement(Kb,{key:Qb(t),isPresent:!1,onExitComplete:function(){w.delete(e),b.delete(e);var t=k.current.findIndex((function(t){return t.key===e}));if(k.current.splice(t,1),!b.size){if(k.current=g,!1===v.current)return;p(),i&&i()}},custom:r,presenceAffectsLayout:c,mode:l},t))}}})),y=y.map((function(e){var t=e.key;return b.has(t)?e:h.createElement(Kb,{key:Qb(e),isPresent:!0,presenceAffectsLayout:c,mode:l},e)})),h.createElement(h.Fragment,null,b.size?y:y.map((function(e){return(0,h.cloneElement)(e)})))},Xb=r(4164),Zb=["containerRef"],ek=rt(nt({strict:!1,name:"PortalContext"}),2),tk=ek[0],rk=ek[1],nk="chakra-portal",ak=function(e){return(0,Ge.jsx)("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:e.zIndex,top:0,left:0,right:0},children:e.children})},ik=function(e){var t=e.appendToParentPortal,r=e.children,n=rt((0,h.useState)(null),2),a=n[0],i=n[1],o=(0,h.useRef)(null),s=rt((0,h.useState)({}),2)[1];(0,h.useEffect)((function(){return s({})}),[]);var c=rk(),u=ot();Sn((function(){if(a){var e=a.ownerDocument,r=t&&null!=c?c:e.body;if(r){o.current=e.createElement("div"),o.current.className=nk,r.appendChild(o.current),s({});var n=o.current;return function(){r.contains(n)&&r.removeChild(n)}}}}),[a]);var l=(null==u?void 0:u.zIndex)?(0,Ge.jsx)(ak,{zIndex:null==u?void 0:u.zIndex,children:r}):r;return o.current?(0,Xb.createPortal)((0,Ge.jsx)(tk,{value:o.current,children:l}),o.current):(0,Ge.jsx)("span",{ref:function(e){e&&i(e)}})},ok=function(e){var t=e.children,r=e.containerRef,n=e.appendToParentPortal,a=r.current,i=null!=a?a:"undefined"!==typeof window?document.body:void 0,o=(0,h.useMemo)((function(){var e=null==a?void 0:a.ownerDocument.createElement("div");return e&&(e.className=nk),e}),[a]),s=rt((0,h.useState)({}),2)[1];return Sn((function(){return s({})}),[]),Sn((function(){if(o&&i)return i.appendChild(o),function(){i.removeChild(o)}}),[o,i]),i&&o?(0,Xb.createPortal)((0,Ge.jsx)(tk,{value:n?o:null,children:t}),o):null};function sk(e){var t=d({appendToParentPortal:!0},e),r=t.containerRef,n=p(t,Zb);return r?(0,Ge.jsx)(ok,d({containerRef:r},n)):(0,Ge.jsx)(ik,d({},n))}sk.className=nk,sk.selector=".chakra-portal",sk.displayName="Portal";var ck=rt(nt({name:"ToastOptionsContext",strict:!1}),2),uk=ck[0],lk=(ck[1],function(e){var t=(0,h.useSyncExternalStore)(Ub.subscribe,Ub.getState,Ub.getState),r=e.motionVariants,n=e.component,a=void 0===n?db:n,i=e.portalProps,o=Object.keys(t).map((function(e){var n=t[e];return(0,Ge.jsx)("ul",{role:"region","aria-live":"polite",id:"chakra-toast-manager-".concat(e),style:cd(e),children:(0,Ge.jsx)(Jb,{initial:!1,children:n.map((function(e){return(0,Ge.jsx)(a,d({motionVariants:r},e),e.id)}))})},e)}));return(0,Ge.jsx)(sk,d(d({},i),{},{children:o}))}),dk=["children","theme","toastOptions"],pk=function(e){return function(t){var r=t.children,n=t.theme,a=void 0===n?e:n,i=t.toastOptions,o=p(t,dk);return(0,Ge.jsxs)(En,d(d({theme:a},o),{},{children:[(0,Ge.jsx)(uk,{value:null==i?void 0:i.defaultOptions,children:r}),(0,Ge.jsx)(lk,d({},i))]}))}},fk=pk(nd),hk=(pk(ad),["direction","align","justify","wrap","basis","grow","shrink"]),mk=pb((function(e,t){var r=e.direction,n=e.align,a=e.justify,i=e.wrap,o=e.basis,s=e.grow,c=e.shrink,u=p(e,hk),l={display:"flex",flexDirection:r,alignItems:n,justifyContent:a,flexWrap:i,flexBasis:o,flexGrow:s,flexShrink:c};return(0,Ge.jsx)(ub.div,d({ref:t,__css:l},u))}));mk.displayName="Flex";var vk=["size","centerContent"],gk=["size"],yk=ub("div");yk.displayName="Box";var bk=pb((function(e,t){var r=e.size,n=e.centerContent,a=void 0===n||n,i=p(e,vk),o=a?{display:"flex",alignItems:"center",justifyContent:"center"}:{};return(0,Ge.jsx)(yk,d({ref:t,boxSize:r,__css:d(d({},o),{},{flexShrink:0,flexGrow:0})},i))}));bk.displayName="Square";var kk=pb((function(e,t){var r=e.size,n=p(e,gk);return(0,Ge.jsx)(bk,d({size:r,ref:t,borderRadius:"9999px"},n))}));kk.displayName="Circle";var wk=["children","className"],_k=rt(nt({name:"InputGroupStylesContext",errorMessage:"useInputGroupStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<InputGroup />\" "}),2),Sk=_k[0],xk=_k[1],Ck=pb((function(e,t){var r=yb("Input",e),n=cn(e),a=n.children,i=n.className,o=p(n,wk),s=ht("chakra-input__group",i),c={},u=function(e){return h.Children.toArray(e).filter((function(e){return(0,h.isValidElement)(e)}))}(a),l=r.field;u.forEach((function(e){var t,n;r&&(l&&"InputLeftElement"===e.type.id&&(c.paddingStart=null!=(t=l.height)?t:l.h),l&&"InputRightElement"===e.type.id&&(c.paddingEnd=null!=(n=l.height)?n:l.h),"InputRightAddon"===e.type.id&&(c.borderEndRadius=0),"InputLeftAddon"===e.type.id&&(c.borderStartRadius=0))}));var f=u.map((function(t){var r,n,a=Gy({size:(null==(r=t.props)?void 0:r.size)||e.size,variant:(null==(n=t.props)?void 0:n.variant)||e.variant});return"Input"!==t.type.id?(0,h.cloneElement)(t,a):(0,h.cloneElement)(t,Object.assign(a,c,t.props))}));return(0,Ge.jsx)(ub.div,d(d({className:s,ref:t,__css:{width:"100%",display:"flex",position:"relative",isolation:"isolate"},"data-group":!0},o),{},{children:(0,Ge.jsx)(Sk,{value:r,children:f})}))}));function Pk(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){t.forEach((function(t){!function(e,t){if(null!=e)if("function"!==typeof e)try{e.current=t}catch(r){throw new Error("Cannot assign value '".concat(t,"' to ref '").concat(e,"'"))}else e(t)}(t,e)}))}}function Rk(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,h.useMemo)((function(){return Pk.apply(void 0,t)}),t)}Ck.displayName="InputGroup";var Tk=["id","isRequired","isInvalid","isDisabled","isReadOnly"],Ek=["getRootProps","htmlProps"],Ok=rt(nt({name:"FormControlStylesContext",errorMessage:"useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<FormControl />\" "}),2),Dk=Ok[0],Mk=Ok[1],jk=rt(nt({strict:!1,name:"FormControlContext"}),2),Ik=jk[0],Ak=jk[1];var Lk=pb((function(e,t){var r=yb("Form",e),n=function(e){var t=e.id,r=e.isRequired,n=e.isInvalid,a=e.isDisabled,i=e.isReadOnly,o=p(e,Tk),s=(0,h.useId)(),c=t||"field-".concat(s),u="".concat(c,"-label"),l="".concat(c,"-feedback"),f="".concat(c,"-helptext"),m=rt((0,h.useState)(!1),2),v=m[0],g=m[1],y=rt((0,h.useState)(!1),2),b=y[0],k=y[1],w=rt((0,h.useState)(!1),2),_=w[0],S=w[1],x=(0,h.useCallback)((function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return d(d({id:f},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),{},{ref:Pk(e,(function(e){e&&k(!0)}))})}),[f]),C=(0,h.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return d(d({},e),{},{ref:t,"data-focus":yt(_),"data-disabled":yt(a),"data-invalid":yt(n),"data-readonly":yt(i),id:void 0!==e.id?e.id:u,htmlFor:void 0!==e.htmlFor?e.htmlFor:c})}),[c,a,_,n,i,u]),P=(0,h.useCallback)((function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return d(d({id:l},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),{},{ref:Pk(e,(function(e){e&&g(!0)})),"aria-live":"polite"})}),[l]),R=(0,h.useCallback)((function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return d(d(d({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),o),{},{ref:e,role:"group"})}),[o]),T=(0,h.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return d(d({},e),{},{ref:t,role:"presentation","aria-hidden":!0,children:e.children||"*"})}),[]);return{isRequired:!!r,isInvalid:!!n,isReadOnly:!!i,isDisabled:!!a,isFocused:!!_,onFocus:function(){return S(!0)},onBlur:function(){return S(!1)},hasFeedbackText:v,setHasFeedbackText:g,hasHelpText:b,setHasHelpText:k,id:c,labelId:u,feedbackId:l,helpTextId:f,htmlProps:o,getHelpTextProps:x,getErrorMessageProps:P,getRootProps:R,getLabelProps:C,getRequiredIndicatorProps:T}}(cn(e)),a=n.getRootProps,i=(n.htmlProps,p(n,Ek)),o=ht("chakra-form-control",e.className);return(0,Ge.jsx)(Ik,{value:i,children:(0,Ge.jsx)(Dk,{value:r,children:(0,Ge.jsx)(ub.div,d(d({},a({},t)),{},{className:o,__css:r.container}))})})}));Lk.displayName="FormControl";var Nk=pb((function(e,t){var r=Ak(),n=Mk(),a=ht("chakra-form__helper-text",e.className);return(0,Ge.jsx)(ub.div,d(d({},null==r?void 0:r.getHelpTextProps(e,t)),{},{__css:n.helperText,className:a}))}));Nk.displayName="FormHelperText";var Fk=["isDisabled","isInvalid","isReadOnly","isRequired"],Bk=["id","disabled","readOnly","required","isRequired","isInvalid","isReadOnly","isDisabled","onFocus","onBlur"];function zk(e){var t=function(e){var t,r,n,a=Ak(),i=e.id,o=e.disabled,s=e.readOnly,c=e.required,u=e.isRequired,l=e.isInvalid,f=e.isReadOnly,h=e.isDisabled,m=e.onFocus,v=e.onBlur,g=p(e,Bk),y=e["aria-describedby"]?[e["aria-describedby"]]:[];(null==a?void 0:a.hasFeedbackText)&&(null==a?void 0:a.isInvalid)&&y.push(a.feedbackId);(null==a?void 0:a.hasHelpText)&&y.push(a.helpTextId);return d(d({},g),{},{"aria-describedby":y.join(" ")||void 0,id:null!=i?i:null==a?void 0:a.id,isDisabled:null!=(t=null!=o?o:h)?t:null==a?void 0:a.isDisabled,isReadOnly:null!=(r=null!=s?s:f)?r:null==a?void 0:a.isReadOnly,isRequired:null!=(n=null!=c?c:u)?n:null==a?void 0:a.isRequired,isInvalid:null!=l?l:null==a?void 0:a.isInvalid,onFocus:kt(null==a?void 0:a.onFocus,m),onBlur:kt(null==a?void 0:a.onBlur,v)})}(e),r=t.isDisabled,n=t.isInvalid,a=t.isReadOnly,i=t.isRequired;return d(d({},p(t,Fk)),{},{disabled:r,readOnly:a,required:i,"aria-invalid":bt(n),"aria-required":bt(i),"aria-readonly":bt(a)})}var Uk=["htmlSize"],Vk=pb((function(e,t){var r=e.htmlSize,n=p(e,Uk),a=yb("Input",n),i=zk(cn(n)),o=ht("chakra-input",e.className);return(0,Ge.jsx)(ub.input,d(d({size:r},i),{},{__css:a.field,ref:t,className:o}))}));Vk.displayName="Input",Vk.id="Input";var Wk=["placement"],qk=["className"],Hk=["className"],$k=ub("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",zIndex:2}}),Gk=pb((function(e,t){var r,n,a,i=e.placement,o=void 0===i?"left":i,s=p(e,Wk),c=xk(),l=c.field,f=d((u(r={},"left"===o?"insetStart":"insetEnd","0"),u(r,"width",null!=(n=null==l?void 0:l.height)?n:null==l?void 0:l.h),u(r,"height",null!=(a=null==l?void 0:l.height)?a:null==l?void 0:l.h),u(r,"fontSize",null==l?void 0:l.fontSize),r),c.element);return(0,Ge.jsx)($k,d({ref:t,__css:f},s))}));Gk.id="InputElement",Gk.displayName="InputElement";var Kk=pb((function(e,t){var r=e.className,n=p(e,qk),a=ht("chakra-input__left-element",r);return(0,Ge.jsx)(Gk,d({ref:t,placement:"left",className:a},n))}));Kk.id="InputLeftElement",Kk.displayName="InputLeftElement";var Yk=pb((function(e,t){var r=e.className,n=p(e,Hk),a=ht("chakra-input__right-element",r);return(0,Ge.jsx)(Gk,d({ref:t,placement:"right",className:a},n))}));Yk.id="InputRightElement",Yk.displayName="InputRightElement";var Qk=rt(nt({strict:!1,name:"ButtonGroupContext"}),2),Jk=(Qk[0],Qk[1]),Xk=["children","className"];function Zk(e){var t=e.children,r=e.className,n=p(e,Xk),a=(0,h.isValidElement)(t)?(0,h.cloneElement)(t,{"aria-hidden":!0,focusable:!1}):t,i=ht("chakra-button__icon",r);return(0,Ge.jsx)(ub.span,d(d({display:"inline-flex",alignSelf:"center",flexShrink:0},n),{},{className:i,children:a}))}Zk.displayName="ButtonIcon";var ew=["label","placement","spacing","children","className","__css"];function tw(e){var t=e.label,r=e.placement,n=e.spacing,a=void 0===n?"0.5rem":n,i=e.children,o=void 0===i?(0,Ge.jsx)(Cb,{color:"currentColor",width:"1em",height:"1em"}):i,s=e.className,c=e.__css,l=p(e,ew),f=ht("chakra-button__spinner",s),m="start"===r?"marginEnd":"marginStart",v=(0,h.useMemo)((function(){var e;return d((u(e={display:"flex",alignItems:"center",position:t?"relative":"absolute"},m,t?a:0),u(e,"fontSize","1em"),u(e,"lineHeight","normal"),e),c)}),[c,t,m,a]);return(0,Ge.jsx)(ub.div,d(d({className:f},l),{},{__css:v,children:o}))}tw.displayName="ButtonSpinner";var rw=["isDisabled","isLoading","isActive","children","leftIcon","rightIcon","loadingText","iconSpacing","type","spinner","spinnerPlacement","className","as"],nw=pb((function(e,t){var r=Jk(),n=gb("Button",d(d({},r),e)),a=cn(e),i=a.isDisabled,o=void 0===i?null==r?void 0:r.isDisabled:i,s=a.isLoading,c=a.isActive,u=a.children,l=a.leftIcon,f=a.rightIcon,m=a.loadingText,v=a.iconSpacing,g=void 0===v?"0.5rem":v,y=a.type,b=a.spinner,k=a.spinnerPlacement,w=void 0===k?"start":k,_=a.className,S=a.as,x=p(a,rw),C=(0,h.useMemo)((function(){var e=d(d({},null==n?void 0:n._focus),{},{zIndex:1});return d(d({display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none"},n),!!r&&{_focus:e})}),[n,r]),P=function(e){var t=rt((0,h.useState)(!e),2),r=t[0],n=t[1],a=(0,h.useCallback)((function(e){e&&n("BUTTON"===e.tagName)}),[]);return{ref:a,type:r?"button":void 0}}(S),R=P.ref,T=P.type,E={rightIcon:f,leftIcon:l,iconSpacing:g,children:u};return(0,Ge.jsxs)(ub.button,d(d({ref:Rk(t,R),as:S,type:null!=y?y:T,"data-active":yt(c),"data-loading":yt(s),__css:C,className:ht("chakra-button",_)},x),{},{disabled:o||s,children:[s&&"start"===w&&(0,Ge.jsx)(tw,{className:"chakra-button__spinner--start",label:m,placement:"start",spacing:g,children:b}),s?m||(0,Ge.jsx)(ub.span,{opacity:0,children:(0,Ge.jsx)(aw,d({},E))}):(0,Ge.jsx)(aw,d({},E)),s&&"end"===w&&(0,Ge.jsx)(tw,{className:"chakra-button__spinner--end",label:m,placement:"end",spacing:g,children:b})]}))}));function aw(e){var t=e.leftIcon,r=e.rightIcon,n=e.children,a=e.iconSpacing;return(0,Ge.jsxs)(Ge.Fragment,{children:[t&&(0,Ge.jsx)(Zk,{marginEnd:a,children:t}),n,r&&(0,Ge.jsx)(Zk,{marginStart:a,children:r})]})}nw.displayName="Button";var iw=["axis"],ow=ub("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center"}});ow.displayName="Center";var sw={horizontal:{insetStart:"50%",transform:"translateX(-50%)"},vertical:{top:"50%",transform:"translateY(-50%)"},both:{insetStart:"50%",top:"50%",transform:"translate(-50%, -50%)"}};pb((function(e,t){var r=e.axis,n=void 0===r?"both":r,a=p(e,iw);return(0,Ge.jsx)(ub.div,d(d({ref:t,__css:sw[n]},a),{},{position:"absolute"}))}));function cw(e,t,r,n,a,i,o){try{var s=e[i](o),c=s.value}catch(u){return void r(u)}s.done?t(c):Promise.resolve(c).then(n,a)}function uw(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){cw(i,n,a,o,s,"next",e)}function s(e){cw(i,n,a,o,s,"throw",e)}o(void 0)}))}}function lw(){lw=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(E){u=function(e,t,r){return e[t]=r}}function l(e,t,r,a){var i=t&&t.prototype instanceof f?t:f,o=Object.create(i.prototype),s=new P(a||[]);return n(o,"_invoke",{value:_(e,r,s)}),o}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(E){return{type:"throw",arg:E}}}e.wrap=l;var p={};function f(){}function h(){}function m(){}var v={};u(v,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(R([])));y&&y!==t&&r.call(y,i)&&(v=y);var b=m.prototype=f.prototype=Object.create(v);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function a(n,i,o,c){var u=d(e[n],e,i);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==s(p)&&r.call(p,"__await")?t.resolve(p.__await).then((function(e){a("next",e,o,c)}),(function(e){a("throw",e,o,c)})):t.resolve(p).then((function(e){l.value=e,o(l)}),(function(e){return a("throw",e,o,c)}))}c(u.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){a(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function _(e,t,r){var n="suspendedStart";return function(a,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw i;return T()}for(r.method=a,r.arg=i;;){var o=r.delegate;if(o){var s=S(o,r);if(s){if(s===p)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=d(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function S(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var a=d(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,p;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function R(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:T}}function T(){return{value:void 0,done:!0}}return h.prototype=m,n(b,"constructor",{value:m,configurable:!0}),n(m,"constructor",{value:h,configurable:!0}),h.displayName=u(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},k(w.prototype),u(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,a,i){void 0===i&&(i=Promise);var o=new w(l(t,r,n,a),i);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(b),u(b,c,"Generator"),u(b,i,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=R,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return o.type="throw",o.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;C(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:R(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},e}var dw={};try{dw.WeakMap=WeakMap}catch(WeakMap){dw.WeakMap=function(e,t){var r=t.defineProperty,n=t.hasOwnProperty,a=i.prototype;return a.delete=function(e){return this.has(e)&&delete e[this._]},a.get=function(e){return this.has(e)?e[this._]:void 0},a.has=function(e){return n.call(e,this._)},a.set=function(e,t){return r(e,this._,{configurable:!0,value:t}),this},i;function i(t){r(this,"_",{value:"_@ungap/weakmap"+e++}),t&&t.forEach(o,this)}function o(e){this.set(e[0],e[1])}}(Math.random(),Object)}var pw=dw.WeakMap,fw={};try{fw.Event=new Event(".").constructor}catch(Event){try{fw.Event=new CustomEvent(".").constructor}catch(Event){fw.Event=function(e,t){t||(t={});var r=document.createEvent("Event"),n=!!t.bubbles,a=!!t.cancelable;r.initEvent(e,n,a);try{r.bubbles=n,r.cancelable=a}catch(r){}return r}}}var hw=fw.Event,mw={};try{mw.WeakSet=WeakSet}catch(WeakSet){!function(e){var t=new e,r=n.prototype;function n(r){t.set(this,new e),r&&r.forEach(this.add,this)}r.add=function(e){return t.get(this).set(e,1),this},r.delete=function(e){return t.get(this).delete(e)},r.has=function(e){return t.get(this).has(e)},mw.WeakSet=n}(WeakMap)}var vw,gw,yw,bw=mw.WeakSet,kw="-"+Math.random().toFixed(6)+"%",ww=!1;try{vw=document.createElement("template"),yw="tabindex",(gw="content")in vw&&(vw.innerHTML="<p "+yw+'="'+kw+'"></p>',vw[gw].childNodes[0].getAttribute(yw)==kw)||(kw="_dt: "+kw.slice(1,-1)+";",ww=!0)}catch(WD){}var _w="\x3c!--"+kw+"--\x3e",Sw=8,xw=1,Cw=3,Pw=/^(?:plaintext|script|style|textarea|title|xmp)$/i,Rw=/^(?:area|base|br|col|embed|hr|img|input|keygen|link|menuitem|meta|param|source|track|wbr)$/i;function Tw(e){return e.join(_w).replace(Aw,Bw).replace(Iw,Nw)}var Ew=" \\f\\n\\r\\t",Ow="[^"+Ew+"\\/>\"'=]+",Dw="["+Ew+"]+"+Ow,Mw="<([A-Za-z]+[A-Za-z0-9:._-]*)((?:",jw="(?:\\s*=\\s*(?:'[^']*?'|\"[^\"]*?\"|<[^>]*?>|"+Ow.replace("\\/","")+"))?)",Iw=new RegExp(Mw+Dw+jw+"+)(["+Ew+"]*/?>)","g"),Aw=new RegExp(Mw+Dw+jw+"*)(["+Ew+"]*/>)","g"),Lw=new RegExp("("+Dw+"\\s*=\\s*)(['\"]?)"+_w+"\\2","gi");function Nw(e,t,r,n){return"<"+t+r.replace(Lw,Fw)+n}function Fw(e,t,r){return t+(r||'"')+kw+(r||'"')}function Bw(e,t,r){return Rw.test(t)?e:"<"+t+r+"></"+t+">"}var zw=Array.isArray,Uw=[],Vw=Uw.slice,Ww=function(e){return{get:function(t){return e.get(t)},set:function(t,r){return e.set(t,r),r}}},qw=function(e,t){return 111===e.nodeType?1/t<0?t?function(e){var t=e.firstChild,r=e.lastChild,n=document.createRange();return n.setStartAfter(t),n.setEndAfter(r),n.deleteContents(),t}(e):e.lastChild:t?e.valueOf():e.firstChild:e},Hw=function(e){var t=e.childNodes,r=t.length;if(r<2)return r?t[0]:e;var n=Vw.call(t,0);return{ELEMENT_NODE:1,nodeType:111,firstChild:n[0],lastChild:n[r-1],valueOf:function(){if(t.length!==r)for(var a=0;a<r;)e.appendChild(n[a++]);return e}}},$w=function(e){var t="fragment",r="template",n="content"in i(r)?function(e){var t=i(r);return t.innerHTML=e,t.content}:function(e){var n=i(t),o=i(r),s=null;if(/^[^\S]*?<(col(?:group)?|t(?:head|body|foot|r|d|h))/i.test(e)){var c=RegExp.$1;o.innerHTML="<table>"+e+"</table>",s=o.querySelectorAll(c)}else o.innerHTML=e,s=o.childNodes;return a(n,s),n};return function(e,t){return("svg"===t?o:n)(e)};function a(e,t){for(var r=t.length;r--;)e.appendChild(t[0])}function i(r){return r===t?e.createDocumentFragment():e.createElementNS("http://www.w3.org/1999/xhtml",r)}function o(e){var r=i(t),n=i("div");return n.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+e+"</svg>",a(r,n.firstChild.childNodes),r}}(document),Gw=$w,Kw=function(e,t,r,n,a){for(var i=r.length,o=t.length,s=i,c=0,u=0,l=null;c<o||u<s;)if(o===c)for(var d=s<i?u?n(r[u-1],-0).nextSibling:n(r[s-u],0):a;u<s;)e.insertBefore(n(r[u++],1),d);else if(s===u)for(;c<o;)l&&l.has(t[c])||e.removeChild(n(t[c],-1)),c++;else if(t[c]===r[u])c++,u++;else if(t[o-1]===r[s-1])o--,s--;else if(t[c]===r[s-1]&&r[u]===t[o-1]){var p=n(t[--o],-1).nextSibling;e.insertBefore(n(r[u++],1),n(t[c++],-1).nextSibling),e.insertBefore(n(r[--s],1),p),t[o]=r[s]}else{if(!l){l=new Map;for(var f=u;f<s;)l.set(r[f],f++)}if(l.has(t[c])){var h=l.get(t[c]);if(u<h&&h<s){for(var m=c,v=1;++m<o&&m<s&&l.get(t[m])===h+v;)v++;if(v>h-u)for(var g=n(t[c],0);u<h;)e.insertBefore(n(r[u++],1),g);else e.replaceChild(n(r[u++],1),n(t[c++],-1))}else c++}else e.removeChild(n(t[c++],-1))}return r},Yw=function(e,t,r,n,a){var i=a in e,o=e.createDocumentFragment();return o[t](e[n]("g")),o[t](e[n]("")),(i?e[a](o,!0):o[r](!0)).childNodes.length<2?function e(n,a){for(var i=n[r](),o=n.childNodes||[],s=o.length,c=0;a&&c<s;c++)i[t](e(o[c],a));return i}:i?e[a]:function(e,t){return e[r](!!t)}}(document,"appendChild","cloneNode","createTextNode","importNode"),Qw=Yw,Jw="".trim||function(){return String(this).replace(/^\s+|\s+/g,"")},Xw=ww?function(e,t){var r=t.join(" ");return t.slice.call(e,0).sort((function(e,t){return r.indexOf(e.name)<=r.indexOf(t.name)?-1:1}))}:function(e,t){return t.slice.call(e,0)};function Zw(e,t){for(var r=t.length,n=0;n<r;)e=e.childNodes[t[n++]];return e}function e_(e,t,r,n){for(var a=e.childNodes,i=a.length,o=0;o<i;){var s=a[o];switch(s.nodeType){case xw:var c=n.concat(o);t_(s,t,r,c),e_(s,t,r,c);break;case Sw:var u=s.textContent;if(u===kw)r.shift(),t.push(Pw.test(e.nodeName)?a_(e,n):r_(s,n.concat(o)));else switch(u.slice(0,2)){case"/*":if("*/"!==u.slice(-2))break;case"\ud83d\udc7b":e.removeChild(s),o--,i--}break;case Cw:Pw.test(e.nodeName)&&Jw.call(s.textContent)===_w&&(r.shift(),t.push(a_(e,n)))}o++}}function t_(e,t,r,n){for(var a=e.attributes,i=[],o=[],s=Xw(a,r),c=s.length,u=0;u<c;){var l,d=s[u++],p=d.value===kw;if(p||1<(l=d.value.split(_w)).length){var f=d.name;if(i.indexOf(f)<0){i.push(f);var h=r.shift().replace(p?/^(?:|[\S\s]*?\s)(\S+?)\s*=\s*('|")?$/:new RegExp("^(?:|[\\S\\s]*?\\s)("+f+")\\s*=\\s*('|\")[\\S\\s]*","i"),"$1"),m=a[h]||a[h.toLowerCase()];if(p)t.push(n_(m,n,h,null));else{for(var v=l.length-2;v--;)r.shift();t.push(n_(m,n,h,l))}}o.push(d)}}u=0;for(var g=(0<(c=o.length)&&ww&&!("ownerSVGElement"in e));u<c;){var y=o[u++];g&&(y.value=""),e.removeAttribute(y.name)}var b=e.nodeName;if(/^script$/i.test(b)){var k=document.createElement(b);for(c=a.length,u=0;u<c;)k.setAttributeNode(a[u++].cloneNode(!0));k.textContent=e.textContent,e.parentNode.replaceChild(k,e)}}function r_(e,t){return{type:"any",node:e,path:t}}function n_(e,t,r,n){return{type:"attr",node:e,path:t,name:r,sparse:n}}function a_(e,t){return{type:"text",node:e,path:t}}var i_=function(e){var t=s_,r=c_;return function(n){return t!==n&&(r=function(e,t){var r=o_.get(t)||o_.set(t,function(e,t){var r=(e.convert||Tw)(t),n=e.transform;n&&(r=n(r));var a=Gw(r,e.type);c_(a);var i=[];return e_(a,i,t.slice(0),[]),{content:a,updates:function(r){for(var n=[],a=i.length,o=0,s=0;o<a;){var c=i[o++],u=Zw(r,c.path);switch(c.type){case"any":n.push({fn:e.any(u,[]),sparse:!1});break;case"attr":var l=c.sparse,d=e.attribute(u,c.name,c.node);null===l?n.push({fn:d,sparse:!1}):(s+=l.length-2,n.push({fn:d,sparse:!0,values:l}));break;case"text":n.push({fn:e.text(u),sparse:!1}),u.textContent=""}}return a+=s,function(){var e=arguments.length;if(a!==e-1)throw new Error(e-1+" values instead of "+a+"\n"+t.join("${value}"));for(var i=1,o=1;i<e;){var s=n[i-o];if(s.sparse){var c=s.values,u=c[0],l=1,d=c.length;for(o+=d-2;l<d;)u+=arguments[i++]+c[l++];s.fn(u)}else s.fn(arguments[i++])}return r}}}}(e,t));return r.updates(Qw.call(document,r.content,!0))}(e,t=n)),r.apply(null,arguments)}},o_=Ww(new pw);var s_=[];function c_(e){for(var t=e.childNodes,r=t.length;r--;){var n=t[r];1!==n.nodeType&&0===Jw.call(n.textContent).length&&e.removeChild(n)}}var u_=function(){var e=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,t=/([^A-Z])([A-Z]+)/g;return function(e,t){return"ownerSVGElement"in e?function(e,t){var r;t?r=t.cloneNode(!0):(e.setAttribute("style","--hyper:style;"),r=e.getAttributeNode("style"));return r.value="",e.setAttributeNode(r),n(r,!0)}(e,t):n(e.style,!1)};function r(e,t,r){return t+"-"+r.toLowerCase()}function n(n,a){var i,o;return function(s){var c,u,l,d;switch(typeof s){case"object":if(s){if("object"===i){if(!a&&o!==s)for(u in o)u in s||(n[u]="")}else a?n.value="":n.cssText="";for(u in c=a?{}:n,s)l="number"!==typeof(d=s[u])||e.test(u)?d:d+"px",!a&&/^--/.test(u)?c.setProperty(u,l):c[u]=l;i="object",a?n.value=function(e){var n,a=[];for(n in e)a.push(n.replace(t,r),":",e[n],";");return a.join("")}(o=c):o=s;break}default:o!=s&&(i="string",o=s,a?n.value=s||"":n.cssText=s||"")}}}}(),l_=u_,d_=function(e,t){var r,n=!0,a=document.createAttributeNS(null,t);return function(t){r!==t&&(null==(r=t)?n||(e.removeAttributeNode(a),n=!0):(a.value=t,n&&(e.setAttributeNodeNS(a),n=!1)))}},p_=function(e){var t=e.dataset;return function(e){for(var r in e){var n=e[r];null==n?delete t[r]:t[r]=n}}},f_=function(e,t){return"dataset"===t?p_(e):function(r){e[t]=r}},h_=/^(?:form|list)$/i,m_=function(e,t){return e.ownerDocument.createTextNode(t)};function v_(e){return this.type=e,i_(this)}function g_(e){return e(this)}v_.prototype={attribute:function(e,t,r){var n="svg"===this.type;switch(t){case"class":if(n)return d_(e,t);t="className";case"props":return f_(e,t);case"aria":return function(e){return function(t){for(var r in t){var n="role"===r?r:"aria-".concat(r),a=t[r];null==a?e.removeAttribute(n):e.setAttribute(n,a)}}}(e);case"style":return l_(e,r,n);case"ref":return function(e){return function(t){"function"===typeof t?t(e):t.current=e}}(e);case".dataset":return p_(e);default:return"."===t.slice(0,1)?f_(e,t.slice(1)):"?"===t.slice(0,1)?function(e,t,r){return function(n){r!==!!n&&((r=!!n)?e.setAttribute(t,""):e.removeAttribute(t))}}(e,t.slice(1)):"on"===t.slice(0,2)?function(e,t){var r,n=t.slice(2);return!(t in e)&&t.toLowerCase()in e&&(n=n.toLowerCase()),function(t){var a=zw(t)?t:[t,!1];r!==a[0]&&(r&&e.removeEventListener(n,r,a[1]),(r=a[0])&&e.addEventListener(n,r,a[1]))}}(e,t):!(t in e)||n||h_.test(t)?d_(e,t):function(e,t){var r;return function(n){r!==n&&(r=n,e[t]!==n&&(null==n?(e[t]="",e.removeAttribute(t)):e[t]=n))}}(e,t)}},any:function(e,t){var r,n=this.type,a=!1;return function i(o){switch(typeof o){case"string":case"number":case"boolean":a?r!==o&&(r=o,t[0].textContent=o):(a=!0,r=o,t=Kw(e.parentNode,t,[m_(e,o)],qw,e));break;case"function":i(o(e));break;case"object":case"undefined":if(null==o){a=!1,t=Kw(e.parentNode,t,[],qw,e);break}default:if(a=!1,r=o,zw(o))if(0===o.length)t.length&&(t=Kw(e.parentNode,t,[],qw,e));else switch(typeof o[0]){case"string":case"number":case"boolean":i(String(o));break;case"function":i(o.map(g_,e));break;case"object":zw(o[0])&&(o=o.concat.apply([],o));default:t=Kw(e.parentNode,t,o,qw,e)}else"ELEMENT_NODE"in o?t=Kw(e.parentNode,t,11===o.nodeType?Vw.call(o.childNodes):[o],qw,e):"text"in o?i(String(o.text)):"any"in o?i(o.any):"html"in o?t=Kw(e.parentNode,t,Vw.call(Gw([].concat(o.html).join(""),n).childNodes),qw,e):"length"in o&&i(Vw.call(o))}}},text:function(e){var t;return function r(n){if(t!==n){t=n;var a=typeof n;"object"===a&&n?"text"in n?r(String(n.text)):"any"in n?r(n.any):"html"in n?r([].concat(n.html).join("")):"length"in n&&r(Vw.call(n).join("")):"function"===a?r(n(e)):e.textContent=null==n?"":n}}}};var y_=Object.create,b_=Object.freeze,k_=Object.keys,w_=v_.prototype,__=Ww(new pw),S_=function(e){return{html:C_("html",e),svg:C_("svg",e),render:function(t,r){var n="function"===typeof r?r():r,a=__.get(t)||__.set(t,x_()),i=n instanceof T_?P_(e,a,n):n;return i!==a.wire&&(a.wire=i,t.textContent="",t.appendChild(i.valueOf())),t}}},x_=function(){return{stack:[],entry:null,wire:null}},C_=function(e,t){var r=Ww(new pw);return n.for=function(e,a){var i=r.get(e)||r.set(e,y_(null));return i[a]||(i[a]=function(e){return function(){return P_(t,e,n.apply(null,arguments))}}(x_()))},n.node=function(){return P_(t,x_(),n.apply(null,arguments)).valueOf()},n;function n(){return new T_(e,D_.apply(null,arguments))}},P_=function(e,t,r){var n,a=r.type,i=r.template,o=r.values,s=o.length;R_(e,t,o,s);var c=t.entry;if(c&&c.template===i&&c.type===a)(n=c).tag.apply(n,[i].concat(pt(o)));else{var u=new e(a);t.entry=c={type:a,template:i,tag:u,wire:Hw(u.apply(void 0,[i].concat(pt(o))))}}return c.wire},R_=function e(t,r,n,a){for(var i=r.stack,o=0;o<a;o++){var s=n[o];s instanceof E_?n[o]=P_(t,i[o]||(i[o]=x_()),s):zw(s)?e(t,i[o]||(i[o]=x_()),s,s.length):i[o]=null}a<i.length&&i.splice(a)};function T_(e,t){this.type=e,this.template=t.shift(),this.values=t}b_(T_);var E_=T_,O_=S_(v_);O_.render,O_.html,O_.svg;function D_(){for(var e=[],t=0,r=arguments.length;t<r;)e.push(arguments[t++]);return e}var M_="function"===typeof cancelAnimationFrame,j_=M_?cancelAnimationFrame:clearTimeout,I_=M_?requestAnimationFrame:setTimeout;function A_(e){var t,r,n,a,i;return s(),function(e,s,u){return n=e,a=s,i=u,r||(r=I_(o)),--t<0&&c(!0),c};function o(){s(),n.apply(a,i||[])}function s(){t=e||1/0,r=M_?0:null}function c(e){var t=!!r;return t&&(j_(r),e&&o()),t}}var L_=null,N_=function(e){var t=[];return function r(){var n=L_,a=[];L_={hook:r,args:arguments,stack:t,i:0,length:t.length,after:a};try{return e.apply(null,arguments)}finally{L_=n;for(var i=0,o=a.length;i<o;i++)a[i]()}}},F_=Ww(new WeakMap),B_=function(e,t,r){e.apply(t,r)},z_={async:!1,always:!1},U_=function(e,t){return"function"==typeof t?t(e):t},V_=function(e,t,r,n){var a=L_.i++,i=L_,o=i.hook,s=i.args,c=i.stack,u=i.length;a===u&&(L_.length=c.push({}));var l=c[a];if(l.args=s,a===u){var d="function"===typeof r,p=(d?n:r)||n||z_,f=p.async,h=p.always;l.$=d?r(t):U_(void 0,t),l._=f?F_.get(o)||F_.set(o,A_()):B_,l.f=function(t){var r=e(l.$,t);(h||l.$!==r)&&(l.$=r,l._(o,null,l.args))}}return[l.$,l.f]},W_=new WeakMap;function q_(e){return e.hook===this.hook}var H_=new WeakMap,$_=Ww(H_),G_=function(){},K_=function(e){return function(t,r){var n=L_.i++,a=L_,i=a.hook,o=a.after,s=a.stack;if(n<a.length){var c=s[n],u=c.update,l=c.values,d=c.stop;if(!r||r.some(Z_,l)){c.values=r,e&&d(e);var p=c.clean;p&&(c.clean=null,p());var f=function(){c.clean=t()};e?u(f):o.push(f)}}else{var h=e?A_():G_,m={clean:null,update:h,values:r,stop:G_};L_.length=s.push(m),($_.get(i)||$_.set(i,[])).push(m);var v=function(){m.clean=t()};e?m.stop=h(v):o.push(v)}}},Y_=function(e){(H_.get(e)||[]).forEach((function(e){var t=e.clean;(0,e.stop)(),t&&(e.clean=null,t())}))},Q_=(H_.has.bind(H_),K_(!0)),J_=K_(!1),X_=function(e,t){var r=L_.i++,n=L_,a=n.stack;return r===n.length?L_.length=a.push({$:e(),_:t}):t&&!t.some(Z_,a[r]._)||(a[r]={$:e(),_:t}),a[r].$};function Z_(e,t){return e!==this[t]}var eS=null;try{eS=new function(){}}catch(qD){}var tS=function(e){return function(e){ti(r,e);var t=ii(r);function r(){return Za(this,r),t.apply(this,arguments)}return Xa(r)}(e)};if(eS){var rS=Object.getPrototypeOf,nS=Object.setPrototypeOf,aS="object"===typeof Reflect?Reflect:{construct:function(e,t,r){for(var n=[null],a=0;a<t.length;a++)n.push(t[a]);var i=e.bind.apply(e,n);return nS(new i,r.prototype)}},iS=aS.construct;tS=function(e,t){function r(){return iS(t?rS(e):e,arguments,r)}return nS(r.prototype,e.prototype),nS(r,e)}}var oS={map:{},re:null},sS=function(e){return new RegExp("<(/)?(".concat(e.join("|"),")([^A-Za-z0-9:._-])"),"g")},cS=null,uS=function(e,t){var r=cS||t,n=r.map,a=r.re;return e.replace(a,(function(e,t,r,a){var i=n[r],o=i.tagName,s=i.is;return i.element?t?"</".concat(s,">"):"<".concat(s).concat(a):t?"</".concat(o,">"):"<".concat(o,' is="').concat(s,'"').concat(a)}))},lS=function(e){var t=e.tagName,r=e.is;return e.element?r:"".concat(t,'[is="').concat(r,'"]')},dS=function(){return cS},pS=function(e){cS=e},fS={useCallback:function(e,t){return X_((function(){return e}),t)},useContext:function(e){var t=L_,r=t.hook,n=t.args,a=W_.get(e),i={hook:r,args:n};return a.some(q_,i)||a.push(i),e.value},useEffect:Q_,useLayoutEffect:J_,useMemo:X_,useReducer:V_,useRef:function(e){var t=L_.i++,r=L_,n=r.stack;return t===r.length&&(L_.length=n.push({current:e})),n[t]},useState:function(e,t){return V_(U_,e,void 0,t)}},hS=function(e){var t=y_(w_);return k_(e).forEach((function(r){t[r]=e[r](t[r]||("convert"===r?Tw:String))})),r.prototype=t,S_(r);function r(){return v_.apply(this,arguments)}}({transform:function(){return function(e){return uS(e,oS)}}}),mS=hS.render,vS=hS.html,gS=hS.svg,yS="_\ud83d\udd25",bS=Object.defineProperties,kS=new pw,wS=new pw,_S=new pw,SS=new bw,xS=!0,CS="attributeChangedCallback",PS="connectedCallback",RS="dis".concat(PS),TS=function(e,t,r){if(r in e){var n=e[r];t[r]={configurable:xS,value:function(){return zS.call(this),n.apply(this,arguments)}}}else t[r]={configurable:xS,value:zS}},ES=function(e){var t=e.prototype,r=[],n={html:{configurable:xS,get:NS},svg:{configurable:xS,get:FS}};if(n[yS]={value:{events:r,info:null}},"handleEvent"in t||(n.handleEvent={configurable:xS,value:BS}),"render"in t&&t.render.length){var a=t.oninit;bS(t,{oninit:{configurable:xS,value:function(){var e=N_(this.render.bind(this,fS));bS(this,{render:{configurable:xS,value:e}}),this.addEventListener("disconnected",Y_.bind(null,e),!1),a&&a.apply(this,arguments)}}})}"oninit"in t&&(r.push("init"),TS(t,n,"render")),TS(t,n,CS),TS(t,n,PS),TS(t,n,RS),[[CS,"onattributechanged",US],[PS,"onconnected",VS],[RS,"ondisconnected",qS],[PS,"render",WS]].forEach((function(e){var a=rt(e,3),i=a[0],o=a[1],s=a[2];if(!(i in t)&&o in t)if("render"!==o&&r.push(o.slice(2)),i in n){var c=n[i].value;n[i]={configurable:xS,value:function(){return c.apply(this,arguments),s.apply(this,arguments)}}}else n[i]={configurable:xS,value:s}}));var i=e.booleanAttributes||[];i.forEach((function(e){e in t||(n[e]={configurable:xS,get:function(){return this.hasAttribute(e)},set:function(t){t&&"false"!==t?this.setAttribute(e,t):this.removeAttribute(e)}})}));var o=e.observedAttributes||[];o.forEach((function(e){e in t||(n[e]={configurable:xS,get:function(){return this.getAttribute(e)},set:function(t){null==t?this.removeAttribute(e):this.setAttribute(e,t)}})})),(e.mappedAttributes||[]).forEach((function(e){var a=new pw,i="on"+e in t;i&&r.push(e),n[e]={configurable:xS,get:function(){return a.get(this)},set:function(t){if(a.set(this,t),i){var r=OS(e);if(r.detail=t,SS.has(this))this.dispatchEvent(r);else{var n=_S.get(this);n?n.push(r):_S.set(this,[r])}}}}})),bS(t,n);var s=i.concat(o);return s.length?bS(e,{observedAttributes:{configurable:xS,get:function(){return s}}}):e},OS=function(e){return new hw(e)},DS=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return new E_("html",t)};DS.for=vS.for;var MS=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return new E_("svg",t)};MS.for=gS.for;var jS=function(e,t,r){var n=IS(e,t,new pw);return r.set(e,n),n},IS=function(e,t,r){return function(n){for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];var s=r.get(n)||function(e,t,r){var n=r.info,a=n?uS(t.join(yS),n).split(yS):t;return e.set(t,a),a}(r,n,e[yS]);return mS(e,(function(){return t.apply(void 0,[s].concat(i))}))}};function AS(e){this.addEventListener(e,this)}function LS(e){this.dispatchEvent(e)}function NS(){return kS.get(this)||jS(this,DS,kS)}function FS(){return wS.get(this)||jS(this,MS,wS)}function BS(e){this["on".concat(e.type)](e)}function zS(){if(!SS.has(this)){SS.add(this),this[yS].events.forEach(AS,this),this.dispatchEvent(OS("init"));var e=_S.get(this);e&&(_S.delete(this),e.forEach(LS,this))}}function US(e,t,r){var n=OS("attributechanged");n.attributeName=e,n.oldValue=t,n.newValue=r,this.dispatchEvent(n)}function VS(){this.dispatchEvent(OS("connected"))}function WS(){this.render()}function qS(){this.dispatchEvent(OS("disconnected"))}var HS=Object.create,$S=Object.defineProperty,GS=Object.defineProperties,KS=Object.getOwnPropertyNames,YS=Object.getOwnPropertySymbols,QS=Object.getOwnPropertyDescriptor,JS=Object.keys,XS={element:HTMLElement},ZS=new pw,ex=(new pw,new pw),tx=(new pw,function(e,t){return("string"===typeof e?nx(e,t,""):nx(e.name,e,"")).Class}),rx=function(e){var t=HS(null),r=HS(null),n={prototype:r,statics:t};return KS(e).concat(YS(e)).forEach((function(n){var a=QS(e,n);switch(a.enumerable=!1,n){case"extends":n="tagName";case"contains":case"includes":case"name":case"booleanAttributes":case"mappedAttributes":case"observedAttributes":case"style":case"tagName":t[n]=a;break;default:r[n]=a}})),n},nx=function(e,t,r){var n;if(!/^([A-Z][A-Za-z0-9_]*)(<([A-Za-z0-9:._-]+)>|:([A-Za-z0-9:._-]+))?$/.test(e))throw"Invalid name";var a=RegExp.$1,i=RegExp.$3,o=RegExp.$4,s=i||o||t.tagName||t.extends||"element",c="fragment"===s;if(c)s="element";else if(!/^[A-Za-z0-9:._-]+$/.test(s))throw"Invalid tag";var u="",l="";s.indexOf("-")<0?(u=a.replace(/(([A-Z0-9])([A-Z0-9][a-z]))|(([a-z])([A-Z]))/g,"$2$5-$3$6").toLowerCase()+r).indexOf("-")<0&&(l="-heresy"):(u=s+r,s="element");var d=u+l;if(customElements.get(d))throw"Duplicated ".concat(d," definition");var p=tS("object"===typeof t?ex.get(t)||function(e,t){var r=rx(e),n=r.statics,a=r.prototype,i=tS(XS[t]||(XS[t]=document.createElement(t).constructor),!1);return GS(i.prototype,a),GS(i,n),ex.set(e,ES(i)),i}(t,s):ZS.get(t)||function(e){var t=tS(e,!1);return ZS.set(e,ES(t)),t}(t),!0),f="element"===s;if($S(p,"new",{value:f?function(){return document.createElement(d)}:function(){return document.createElement(s,{is:d})}}),$S(p.prototype,"is",{value:d}),""===r){var h=function(e){for(var t=e.length,r=0,n=0;n<t;)r=(r<<5)-r+e.charCodeAt(n++),r&=r;return r.toString(36)}(u.toUpperCase());oS.map[a]=ax(p,s,d,{id:h,i:0}),oS.re=sS(JS(oS.map))}if(c){var m=p.prototype.render;$S(p.prototype,"render",{configurable:!0,value:function(){if(m&&m.apply(this,arguments),this.parentNode){var e=this.firstChild,t=null;if(e){var r=document.createRange();r.setStartBefore(e),r.setEndAfter(this.lastChild),t=r.extractContents(),this.parentNode.replaceChild(t,this)}}}})}var v=[d,p];return f||v.push({extends:s}),(n=customElements).define.apply(n,v),{Class:p,is:d,name:a,tagName:s}},ax=(Math.random(),function e(t,r,n,a){var i=t.prototype,o=function(e,t){return{tagName:e,is:t,element:"element"===e}}(r,n),s=[lS(o)],c=t.includes||t.contains;if(c){var u={};JS(c).forEach((function(t){var r="-".concat(a.id,"-").concat(a.i++),n=nx(t,c[t],r),i=n.Class,o=n.is,l=n.name,d=n.tagName;s.push(lS(u[l]=e(i,d,o,a)))}));var l=sS(JS(u)),d={events:i[yS].events,info:{map:u,re:l}};if($S(i,yS,{value:d}),"render"in i){var p=i.render,f=d.info;$S(i,"render",{configurable:!0,value:function(){var e=dS();pS(f);var t=p.apply(this,arguments);return pS(e),t}})}}return"style"in t&&function(e){if((e||"").length){var t=document.createElement("style");t.type="text/css",t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e));var r=document.head||document.querySelector("head");r.insertBefore(t,r.lastChild)}}(t.style.apply(t,s)),o});function ix(e,t,r,n){return new(r||(r=Promise))((function(a,i){function o(e){try{c(n.next(e))}catch(t){i(t)}}function s(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){e.done?a(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(o,s)}c((n=n.apply(e,t||[])).next())}))}Object.create;Object.create;var ox=!0,sx=!0;function cx(e,t,r){var n=e.match(t);return n&&n.length>=r&&parseInt(n[r],10)}function ux(e,t,r){if(e.RTCPeerConnection){var n=e.RTCPeerConnection.prototype,a=n.addEventListener;n.addEventListener=function(e,n){if(e!==t)return a.apply(this,arguments);var i=function(e){var t=r(e);t&&(n.handleEvent?n.handleEvent(t):n(t))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(n,i),a.apply(this,[e,i])};var i=n.removeEventListener;n.removeEventListener=function(e,r){if(e!==t||!this._eventMap||!this._eventMap[t])return i.apply(this,arguments);if(!this._eventMap[t].has(r))return i.apply(this,arguments);var n=this._eventMap[t].get(r);return this._eventMap[t].delete(r),0===this._eventMap[t].size&&delete this._eventMap[t],0===Object.keys(this._eventMap).length&&delete this._eventMap,i.apply(this,[e,n])},Object.defineProperty(n,"on"+t,{get:function(){return this["_on"+t]},set:function(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}}function lx(e){return"boolean"!==typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(ox=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function dx(e){return"boolean"!==typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(sx=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function px(){if("object"===typeof window){if(ox)return;"undefined"!==typeof console&&"function"===typeof console.log&&console.log.apply(console,arguments)}}function fx(e,t){sx&&console.warn(e+" is deprecated, please use "+t+" instead.")}function hx(e){return"[object Object]"===Object.prototype.toString.call(e)}function mx(e){return hx(e)?Object.keys(e).reduce((function(t,r){var n=hx(e[r]),a=n?mx(e[r]):e[r],i=n&&!Object.keys(a).length;return void 0===a||i?t:Object.assign(t,u({},r,a))}),{}):e}function vx(e,t,r){t&&!r.has(t.id)&&(r.set(t.id,t),Object.keys(t).forEach((function(n){n.endsWith("Id")?vx(e,e.get(t[n]),r):n.endsWith("Ids")&&t[n].forEach((function(t){vx(e,e.get(t),r)}))})))}function gx(e,t,r){var n=r?"outbound-rtp":"inbound-rtp",a=new Map;if(null===t)return a;var i=[];return e.forEach((function(e){"track"===e.type&&e.trackIdentifier===t.id&&i.push(e)})),i.forEach((function(t){e.forEach((function(r){r.type===n&&r.trackId===t.id&&vx(e,r,a)}))})),a}var yx=px;function bx(e,t){var r=e&&e.navigator;if(r.mediaDevices){var n=function(e){if("object"!==typeof e||e.mandatory||e.optional)return e;var t={};return Object.keys(e).forEach((function(r){if("require"!==r&&"advanced"!==r&&"mediaSource"!==r){var n="object"===typeof e[r]?e[r]:{ideal:e[r]};void 0!==n.exact&&"number"===typeof n.exact&&(n.min=n.max=n.exact);var a=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==n.ideal){t.optional=t.optional||[];var i={};"number"===typeof n.ideal?(i[a("min",r)]=n.ideal,t.optional.push(i),(i={})[a("max",r)]=n.ideal,t.optional.push(i)):(i[a("",r)]=n.ideal,t.optional.push(i))}void 0!==n.exact&&"number"!==typeof n.exact?(t.mandatory=t.mandatory||{},t.mandatory[a("",r)]=n.exact):["min","max"].forEach((function(e){void 0!==n[e]&&(t.mandatory=t.mandatory||{},t.mandatory[a(e,r)]=n[e])}))}})),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},a=function(e,a){if(t.version>=61)return a(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"===typeof e.audio){var i=function(e,t,r){t in e&&!(r in e)&&(e[r]=e[t],delete e[t])};i((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),i(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=n(e.audio)}if(e&&"object"===typeof e.video){var o=e.video.facingMode;o=o&&("object"===typeof o?o:{ideal:o});var s,c=t.version<66;if(o&&("user"===o.exact||"environment"===o.exact||"user"===o.ideal||"environment"===o.ideal)&&(!r.mediaDevices.getSupportedConstraints||!r.mediaDevices.getSupportedConstraints().facingMode||c))if(delete e.video.facingMode,"environment"===o.exact||"environment"===o.ideal?s=["back","rear"]:"user"!==o.exact&&"user"!==o.ideal||(s=["front"]),s)return r.mediaDevices.enumerateDevices().then((function(t){var r=(t=t.filter((function(e){return"videoinput"===e.kind}))).find((function(e){return s.some((function(t){return e.label.toLowerCase().includes(t)}))}));return!r&&t.length&&s.includes("back")&&(r=t[t.length-1]),r&&(e.video.deviceId=o.exact?{exact:r.deviceId}:{ideal:r.deviceId}),e.video=n(e.video),yx("chrome: "+JSON.stringify(e)),a(e)}));e.video=n(e.video)}return yx("chrome: "+JSON.stringify(e)),a(e)},i=function(e){return t.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}};if(r.getUserMedia=function(e,t,n){a(e,(function(e){r.webkitGetUserMedia(e,t,(function(e){n&&n(i(e))}))}))}.bind(r),r.mediaDevices.getUserMedia){var o=r.mediaDevices.getUserMedia.bind(r.mediaDevices);r.mediaDevices.getUserMedia=function(e){return a(e,(function(e){return o(e).then((function(t){if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach((function(e){e.stop()})),new DOMException("","NotFoundError");return t}),(function(e){return Promise.reject(i(e))}))}))}}}}function kx(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&("function"===typeof t?e.navigator.mediaDevices.getDisplayMedia=function(r){return t(r).then((function(t){var n=r.video&&r.video.width,a=r.video&&r.video.height,i=r.video&&r.video.frameRate;return r.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:i||3}},n&&(r.video.mandatory.maxWidth=n),a&&(r.video.mandatory.maxHeight=a),e.navigator.mediaDevices.getUserMedia(r)}))}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}function wx(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function _x(e){if("object"===typeof e&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var r=this;return this._ontrackpoly||(this._ontrackpoly=function(t){t.stream.addEventListener("addtrack",(function(n){var a;a=e.RTCPeerConnection.prototype.getReceivers?r.getReceivers().find((function(e){return e.track&&e.track.id===n.track.id})):{track:n.track};var i=new Event("track");i.track=n.track,i.receiver=a,i.transceiver={receiver:a},i.streams=[t.stream],r.dispatchEvent(i)})),t.stream.getTracks().forEach((function(n){var a;a=e.RTCPeerConnection.prototype.getReceivers?r.getReceivers().find((function(e){return e.track&&e.track.id===n.id})):{track:n};var i=new Event("track");i.track=n,i.receiver=a,i.transceiver={receiver:a},i.streams=[t.stream],r.dispatchEvent(i)}))},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else ux(e,"track",(function(e){return e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e}))}function Sx(e){if("object"===typeof e&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){var t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var r=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){var a=r.apply(this,arguments);return a||(a=t(this,e),this._senders.push(a)),a};var n=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){n.apply(this,arguments);var t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}var a=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var r=this;this._senders=this._senders||[],a.apply(this,[e]),e.getTracks().forEach((function(e){r._senders.push(t(r,e))}))};var i=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._senders=this._senders||[],i.apply(this,[e]),e.getTracks().forEach((function(e){var r=t._senders.find((function(t){return t.track===e}));r&&t._senders.splice(t._senders.indexOf(r),1)}))}}else if("object"===typeof e&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){var o=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){var e=this,t=o.apply(this,[]);return t.forEach((function(t){return t._pc=e})),t},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function xx(e){if(e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){var e=this,r=Array.prototype.slice.call(arguments),n=r[0],a=r[1],i=r[2];if(arguments.length>0&&"function"===typeof n)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||"function"!==typeof n))return t.apply(this,[]);var o=function(e){var t={};return e.result().forEach((function(e){var r={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach((function(t){r[t]=e.stat(t)})),t[r.id]=r})),t},s=function(e){return new Map(Object.keys(e).map((function(t){return[t,e[t]]})))};if(arguments.length>=2){return t.apply(this,[function(e){a(s(o(e)))},n])}return new Promise((function(r,n){t.apply(e,[function(e){r(s(o(e)))},n])})).then(a,i)}}}function Cx(e){if("object"===typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver){if(!("getStats"in e.RTCRtpSender.prototype)){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,r=t.apply(this,[]);return r.forEach((function(t){return t._pc=e})),r});var r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=r.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return gx(t,e.track,!0)}))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){var n=e.RTCPeerConnection.prototype.getReceivers;n&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,t=n.apply(this,[]);return t.forEach((function(t){return t._pc=e})),t}),ux(e,"track",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return gx(t,e.track,!1)}))}}if("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype){var a=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){var t,r,n,i=arguments[0];return this.getSenders().forEach((function(e){e.track===i&&(t?n=!0:t=e)})),this.getReceivers().forEach((function(e){return e.track===i&&(r?n=!0:r=e),e.track===i})),n||t&&r?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):t?t.getStats():r?r.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return a.apply(this,arguments)}}}}function Px(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map((function(t){return e._shimmedLocalStreams[t][0]}))};var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,r){if(!r)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var n=t.apply(this,arguments);return this._shimmedLocalStreams[r.id]?-1===this._shimmedLocalStreams[r.id].indexOf(n)&&this._shimmedLocalStreams[r.id].push(n):this._shimmedLocalStreams[r.id]=[r,n],n};var r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var t=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach((function(e){if(t.getSenders().find((function(t){return t.track===e})))throw new DOMException("Track already exists.","InvalidAccessError")}));var n=this.getSenders();r.apply(this,arguments);var a=this.getSenders().filter((function(e){return-1===n.indexOf(e)}));this._shimmedLocalStreams[e.id]=[e].concat(a)};var n=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],n.apply(this,arguments)};var a=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){var t=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach((function(r){var n=t._shimmedLocalStreams[r].indexOf(e);-1!==n&&t._shimmedLocalStreams[r].splice(n,1),1===t._shimmedLocalStreams[r].length&&delete t._shimmedLocalStreams[r]})),a.apply(this,arguments)}}function Rx(e,t){if(e.RTCPeerConnection){if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return Px(e);var r=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this,t=r.apply(this);return this._reverseStreams=this._reverseStreams||{},t.map((function(t){return e._reverseStreams[t.id]}))};var n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){var r=this;if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach((function(e){if(r.getSenders().find((function(t){return t.track===e})))throw new DOMException("Track already exists.","InvalidAccessError")})),!this._reverseStreams[t.id]){var a=new e.MediaStream(t.getTracks());this._streams[t.id]=a,this._reverseStreams[a.id]=t,t=a}n.apply(this,[t])};var a=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},a.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,r){var n=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var a=[].slice.call(arguments,1);if(1!==a.length||!a[0].getTracks().find((function(e){return e===t})))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find((function(e){return e.track===t})))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};var i=this._streams[r.id];if(i)i.addTrack(t),Promise.resolve().then((function(){n.dispatchEvent(new Event("negotiationneeded"))}));else{var o=new e.MediaStream([t]);this._streams[r.id]=o,this._reverseStreams[o.id]=r,this.addStream(o)}return this.getSenders().find((function(e){return e.track===t}))},["createOffer","createAnswer"].forEach((function(t){var r=e.RTCPeerConnection.prototype[t],n=u({},t,(function(){var e=this,t=arguments;return arguments.length&&"function"===typeof arguments[0]?r.apply(this,[function(r){var n=s(e,r);t[0].apply(null,[n])},function(e){t[1]&&t[1].apply(null,e)},arguments[2]]):r.apply(this,arguments).then((function(t){return s(e,t)}))}));e.RTCPeerConnection.prototype[t]=n[t]}));var i=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=function(e,t){var r=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((function(t){var n=e._reverseStreams[t],a=e._streams[n.id];r=r.replace(new RegExp(n.id,"g"),a.id)})),new RTCSessionDescription({type:t.type,sdp:r})}(this,arguments[0]),i.apply(this,arguments)):i.apply(this,arguments)};var o=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get:function(){var e=o.get.apply(this);return""===e.type?e:s(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){var t,r=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(e._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{},Object.keys(this._streams).forEach((function(n){r._streams[n].getTracks().find((function(t){return e.track===t}))&&(t=r._streams[n])})),t&&(1===t.getTracks().length?this.removeStream(this._reverseStreams[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function s(e,t){var r=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((function(t){var n=e._reverseStreams[t],a=e._streams[n.id];r=r.replace(new RegExp(a.id,"g"),n.id)})),new RTCSessionDescription({type:t.type,sdp:r})}}function Tx(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){var r=e.RTCPeerConnection.prototype[t],n=u({},t,(function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}));e.RTCPeerConnection.prototype[t]=n[t]}))}function Ex(e,t){ux(e,"negotiationneeded",(function(e){var r=e.target;if(!(t.version<72||r.getConfiguration&&"plan-b"===r.getConfiguration().sdpSemantics)||"stable"===r.signalingState)return e}))}function Ox(e,t){var r=e&&e.navigator,n=e&&e.MediaStreamTrack;if(r.getUserMedia=function(e,t,n){fx("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),r.mediaDevices.getUserMedia(e).then(t,n)},!(t.version>55&&"autoGainControl"in r.mediaDevices.getSupportedConstraints())){var a=function(e,t,r){t in e&&!(r in e)&&(e[r]=e[t],delete e[t])},i=r.mediaDevices.getUserMedia.bind(r.mediaDevices);if(r.mediaDevices.getUserMedia=function(e){return"object"===typeof e&&"object"===typeof e.audio&&(e=JSON.parse(JSON.stringify(e)),a(e.audio,"autoGainControl","mozAutoGainControl"),a(e.audio,"noiseSuppression","mozNoiseSuppression")),i(e)},n&&n.prototype.getSettings){var o=n.prototype.getSettings;n.prototype.getSettings=function(){var e=o.apply(this,arguments);return a(e,"mozAutoGainControl","autoGainControl"),a(e,"mozNoiseSuppression","noiseSuppression"),e}}if(n&&n.prototype.applyConstraints){var s=n.prototype.applyConstraints;n.prototype.applyConstraints=function(e){return"audio"===this.kind&&"object"===typeof e&&(e=JSON.parse(JSON.stringify(e)),a(e,"autoGainControl","mozAutoGainControl"),a(e,"noiseSuppression","mozNoiseSuppression")),s.apply(this,[e])}}}}function Dx(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(r){if(!r||!r.video){var n=new DOMException("getDisplayMedia without video constraints is undefined");return n.name="NotFoundError",n.code=8,Promise.reject(n)}return!0===r.video?r.video={mediaSource:t}:r.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(r)})}function Mx(e){"object"===typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function jx(e,t){if("object"===typeof e&&(e.RTCPeerConnection||e.mozRTCPeerConnection)){!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){var r=e.RTCPeerConnection.prototype[t],n=u({},t,(function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}));e.RTCPeerConnection.prototype[t]=n[t]}));var r={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},n=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){var e=Array.prototype.slice.call(arguments),a=e[0],i=e[1],o=e[2];return n.apply(this,[a||null]).then((function(e){if(t.version<53&&!i)try{e.forEach((function(e){e.type=r[e.type]||e.type}))}catch(n){if("TypeError"!==n.name)throw n;e.forEach((function(t,n){e.set(n,Object.assign({},t,{type:r[t.type]||t.type}))}))}return e})).then(i,o)}}}function Ix(e){if("object"===typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!("getStats"in e.RTCRtpSender.prototype))){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,r=t.apply(this,[]);return r.forEach((function(t){return t._pc=e})),r});var r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=r.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}}function Ax(e){if("object"===typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!("getStats"in e.RTCRtpReceiver.prototype))){var t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,r=t.apply(this,[]);return r.forEach((function(t){return t._pc=e})),r}),ux(e,"track",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}}function Lx(e){e.RTCPeerConnection&&!("removeStream"in e.RTCPeerConnection.prototype)&&(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;fx("removeStream","removeTrack"),this.getSenders().forEach((function(r){r.track&&e.getTracks().includes(r.track)&&t.removeTrack(r)}))})}function Nx(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function Fx(e){if("object"===typeof e&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];var e=arguments[1]&&arguments[1].sendEncodings;void 0===e&&(e=[]);var r=(e=pt(e)).length>0;r&&e.forEach((function(e){if("rid"in e){if(!/^[a-z0-9]{0,16}$/i.test(e.rid))throw new TypeError("Invalid RID value provided.")}if("scaleResolutionDownBy"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(parseFloat(e.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")}));var n=t.apply(this,arguments);if(r){var a=n.sender,i=a.getParameters();(!("encodings"in i)||1===i.encodings.length&&0===Object.keys(i.encodings[0]).length)&&(i.encodings=e,a.sendEncodings=e,this.setParametersPromises.push(a.setParameters(i).then((function(){delete a.sendEncodings})).catch((function(){delete a.sendEncodings}))))}return n})}}function Bx(e){if("object"===typeof e&&e.RTCRtpSender){var t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){var e=t.apply(this,arguments);return"encodings"in e||(e.encodings=[].concat(this.sendEncodings||[{}])),e})}}function zx(e){if("object"===typeof e&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){var e=arguments,r=this;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((function(){return t.apply(r,e)})).finally((function(){r.setParametersPromises=[]})):t.apply(this,arguments)}}}function Ux(e){if("object"===typeof e&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){var e=arguments,r=this;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((function(){return t.apply(r,e)})).finally((function(){r.setParametersPromises=[]})):t.apply(this,arguments)}}}function Vx(e){if("object"===typeof e&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){var r=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach((function(n){return t.call(r,n,e)})),e.getVideoTracks().forEach((function(n){return t.call(r,n,e)}))},e.RTCPeerConnection.prototype.addTrack=function(e){for(var r=this,n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return a&&a.forEach((function(e){r._localStreams?r._localStreams.includes(e)||r._localStreams.push(e):r._localStreams=[e]})),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._localStreams||(this._localStreams=[]);var r=this._localStreams.indexOf(e);if(-1!==r){this._localStreams.splice(r,1);var n=e.getTracks();this.getSenders().forEach((function(e){n.includes(e.track)&&t.removeTrack(e)}))}})}}function Wx(e){if("object"===typeof e&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(e){var t=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=function(e){e.streams.forEach((function(e){if(t._remoteStreams||(t._remoteStreams=[]),!t._remoteStreams.includes(e)){t._remoteStreams.push(e);var r=new Event("addstream");r.stream=e,t.dispatchEvent(r)}}))})}});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach((function(t){if(e._remoteStreams||(e._remoteStreams=[]),!(e._remoteStreams.indexOf(t)>=0)){e._remoteStreams.push(t);var r=new Event("addstream");r.stream=t,e.dispatchEvent(r)}}))}),t.apply(e,arguments)}}}function qx(e){if("object"===typeof e&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype,r=t.createOffer,n=t.createAnswer,a=t.setLocalDescription,i=t.setRemoteDescription,o=t.addIceCandidate;t.createOffer=function(e,t){var n=arguments.length>=2?arguments[2]:arguments[0],a=r.apply(this,[n]);return t?(a.then(e,t),Promise.resolve()):a},t.createAnswer=function(e,t){var r=arguments.length>=2?arguments[2]:arguments[0],a=n.apply(this,[r]);return t?(a.then(e,t),Promise.resolve()):a};var s=function(e,t,r){var n=a.apply(this,[e]);return r?(n.then(t,r),Promise.resolve()):n};t.setLocalDescription=s,s=function(e,t,r){var n=i.apply(this,[e]);return r?(n.then(t,r),Promise.resolve()):n},t.setRemoteDescription=s,s=function(e,t,r){var n=o.apply(this,[e]);return r?(n.then(t,r),Promise.resolve()):n},t.addIceCandidate=s}}function Hx(e){var t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){var r=t.mediaDevices,n=r.getUserMedia.bind(r);t.mediaDevices.getUserMedia=function(e){return n($x(e))}}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,r,n){t.mediaDevices.getUserMedia(e).then(r,n)}.bind(t))}function $x(e){return e&&void 0!==e.video?Object.assign({},e,{video:mx(e.video)}):e}function Gx(e){if(e.RTCPeerConnection){var t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,r){if(e&&e.iceServers){for(var n=[],a=0;a<e.iceServers.length;a++){var i=e.iceServers[a];void 0===i.urls&&i.url?(fx("RTCIceServer.url","RTCIceServer.urls"),(i=JSON.parse(JSON.stringify(i))).urls=i.url,delete i.url,n.push(i)):n.push(e.iceServers[a])}e.iceServers=n}return new t(e,r)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return t.generateCertificate}})}}function Kx(e){"object"===typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function Yx(e){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){"undefined"!==typeof e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);var r=this.getTransceivers().find((function(e){return"audio"===e.receiver.track.kind}));!1===e.offerToReceiveAudio&&r?"sendrecv"===r.direction?r.setDirection?r.setDirection("sendonly"):r.direction="sendonly":"recvonly"===r.direction&&(r.setDirection?r.setDirection("inactive"):r.direction="inactive"):!0!==e.offerToReceiveAudio||r||this.addTransceiver("audio",{direction:"recvonly"}),"undefined"!==typeof e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);var n=this.getTransceivers().find((function(e){return"video"===e.receiver.track.kind}));!1===e.offerToReceiveVideo&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0!==e.offerToReceiveVideo||n||this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function Qx(e){"object"!==typeof e||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}var Jx=r(7800),Xx=r.n(Jx);function Zx(e){if(!(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)){var t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"===typeof e&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substring(2)),e.candidate&&e.candidate.length){var r=new t(e),n=Xx().parseCandidate(e.candidate);for(var a in n)a in r||Object.defineProperty(r,a,{value:n[a]});return r.toJSON=function(){return{candidate:r.candidate,sdpMid:r.sdpMid,sdpMLineIndex:r.sdpMLineIndex,usernameFragment:r.usernameFragment}},r}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,ux(e,"icecandidate",(function(t){return t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t}))}}function eC(e){!e.RTCIceCandidate||e.RTCIceCandidate&&"relayProtocol"in e.RTCIceCandidate.prototype||ux(e,"icecandidate",(function(e){if(e.candidate){var t=Xx().parseCandidate(e.candidate.candidate);"relay"===t.type&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[t.priority>>24])}return e}))}function tC(e,t){if(e.RTCPeerConnection){"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get:function(){return"undefined"===typeof this._sctp?null:this._sctp}});var r=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){(this._sctp=null,"chrome"===t.browser&&t.version>=76)&&("plan-b"===this.getConfiguration().sdpSemantics&&Object.defineProperty(this,"sctp",{get:function(){return"undefined"===typeof this._sctp?null:this._sctp},enumerable:!0,configurable:!0}));if(function(e){if(!e||!e.sdp)return!1;var t=Xx().splitSections(e.sdp);return t.shift(),t.some((function(e){var t=Xx().parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")}))}(arguments[0])){var e,n=function(e){var t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;var r=parseInt(t[1],10);return r!==r?-1:r}(arguments[0]),a=function(e){var r=65536;return"firefox"===t.browser&&(r=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),r}(n),i=function(e,r){var n=65536;"firefox"===t.browser&&57===t.version&&(n=65535);var a=Xx().matchPrefix(e.sdp,"a=max-message-size:");return a.length>0?n=parseInt(a[0].substring(19),10):"firefox"===t.browser&&-1!==r&&(n=2147483637),n}(arguments[0],n);e=0===a&&0===i?Number.POSITIVE_INFINITY:0===a||0===i?Math.max(a,i):Math.min(a,i);var o={};Object.defineProperty(o,"maxMessageSize",{get:function(){return e}}),this._sctp=o}return r.apply(this,arguments)}}}function rC(e){if(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype){var t=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){var e=t.apply(this,arguments);return r(e,this),e},ux(e,"datachannel",(function(e){return r(e.channel,e.target),e}))}function r(e,t){var r=e.send;e.send=function(){var n=arguments[0],a=n.length||n.size||n.byteLength;if("open"===e.readyState&&t.sctp&&a>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return r.apply(e,arguments)}}}function nC(e){if(e.RTCPeerConnection&&!("connectionState"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get:function(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get:function(){return this._onconnectionstatechange||null},set:function(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach((function(e){var r=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=function(e){var t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;var r=new Event("connectionstatechange",e);t.dispatchEvent(r)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}}))}}function aC(e,t){if(e.RTCPeerConnection&&!("chrome"===t.browser&&t.version>=71)&&!("safari"===t.browser&&t.version>=605)){var r=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(t){if(t&&t.sdp&&-1!==t.sdp.indexOf("\na=extmap-allow-mixed")){var n=t.sdp.split("\n").filter((function(e){return"a=extmap-allow-mixed"!==e.trim()})).join("\n");e.RTCSessionDescription&&t instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:t.type,sdp:n}):t.sdp=n}return r.apply(this,arguments)}}}function iC(e,t){if(e.RTCPeerConnection&&e.RTCPeerConnection.prototype){var r=e.RTCPeerConnection.prototype.addIceCandidate;r&&0!==r.length&&(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===t.browser&&t.version<78||"firefox"===t.browser&&t.version<68||"safari"===t.browser)&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():r.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}}function oC(e,t){if(e.RTCPeerConnection&&e.RTCPeerConnection.prototype){var r=e.RTCPeerConnection.prototype.setLocalDescription;r&&0!==r.length&&(e.RTCPeerConnection.prototype.setLocalDescription=function(){var e=this,t=arguments[0]||{};if("object"!==typeof t||t.type&&t.sdp)return r.apply(this,arguments);if(!(t={type:t.type,sdp:t.sdp}).type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":t.type="offer";break;default:t.type="answer"}return t.sdp||"offer"!==t.type&&"answer"!==t.type?r.apply(this,[t]):("offer"===t.type?this.createOffer:this.createAnswer).apply(this).then((function(t){return r.apply(e,[t])}))})}}var sC=function(){var r=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).window,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimSafari:!0},o=px,s=function(e){var t={browser:null,version:null};if("undefined"===typeof e||!e.navigator)return t.browser="Not a browser.",t;var r=e.navigator;if(r.mozGetUserMedia)t.browser="firefox",t.version=cx(r.userAgent,/Firefox\/(\d+)\./,1);else if(r.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection)t.browser="chrome",t.version=cx(r.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else{if(!e.RTCPeerConnection||!r.userAgent.match(/AppleWebKit\/(\d+)\./))return t.browser="Not a supported browser.",t;t.browser="safari",t.version=cx(r.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype}return t}(r),c={browserDetails:s,commonShim:a,extractVersion:cx,disableLog:lx,disableWarnings:dx,sdp:Jx};switch(s.browser){case"chrome":if(!e||!Tx||!i.shimChrome)return o("Chrome shim is not included in this adapter release."),c;if(null===s.version)return o("Chrome shim can not determine version, not shimming."),c;o("adapter.js shimming chrome."),c.browserShim=e,iC(r,s),oC(r),bx(r,s),wx(r),Tx(r,s),_x(r),Rx(r,s),Sx(r),xx(r),Cx(r),Ex(r,s),Zx(r),eC(r),nC(r),tC(r,s),rC(r),aC(r,s);break;case"firefox":if(!t||!jx||!i.shimFirefox)return o("Firefox shim is not included in this adapter release."),c;o("adapter.js shimming firefox."),c.browserShim=t,iC(r,s),oC(r),Ox(r,s),jx(r,s),Mx(r),Lx(r),Ix(r),Ax(r),Nx(r),Fx(r),Bx(r),zx(r),Ux(r),Zx(r),nC(r),tC(r,s),rC(r);break;case"safari":if(!n||!i.shimSafari)return o("Safari shim is not included in this adapter release."),c;o("adapter.js shimming safari."),c.browserShim=n,iC(r,s),oC(r),Gx(r),Yx(r),qx(r),Vx(r),Wx(r),Kx(r),Hx(r),Qx(r),Zx(r),eC(r),tC(r,s),rC(r),aC(r,s);break;default:o("Unsupported browser!")}return c}({window:"undefined"===typeof window?void 0:window}),cC=sC,uC=Object.create(null);uC.open="0",uC.close="1",uC.ping="2",uC.pong="3",uC.message="4",uC.upgrade="5",uC.noop="6";var lC=Object.create(null);Object.keys(uC).forEach((function(e){lC[uC[e]]=e}));for(var dC={type:"error",data:"parser error"},pC="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),fC="function"===typeof ArrayBuffer,hC=function(e,t){var r=new FileReader;return r.onload=function(){var e=r.result.split(",")[1];t("b"+(e||""))},r.readAsDataURL(e)},mC=function(e,t,r){var n,a=e.type,i=e.data;return pC&&i instanceof Blob?t?r(i):hC(i,r):fC&&(i instanceof ArrayBuffer||(n=i,"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer))?t?r(i):hC(new Blob([i]),r):r(uC[a]+(i||""))},vC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",gC="undefined"===typeof Uint8Array?[]:new Uint8Array(256),yC=0;yC<64;yC++)gC[vC.charCodeAt(yC)]=yC;var bC="function"===typeof ArrayBuffer,kC=function(e,t){if(bC){var r=function(e){var t,r,n,a,i,o=.75*e.length,s=e.length,c=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);var u=new ArrayBuffer(o),l=new Uint8Array(u);for(t=0;t<s;t+=4)r=gC[e.charCodeAt(t)],n=gC[e.charCodeAt(t+1)],a=gC[e.charCodeAt(t+2)],i=gC[e.charCodeAt(t+3)],l[c++]=r<<2|n>>4,l[c++]=(15&n)<<4|a>>2,l[c++]=(3&a)<<6|63&i;return u}(e);return wC(r,t)}return{base64:!0,data:e}},wC=function(e,t){return"blob"===t&&e instanceof ArrayBuffer?new Blob([e]):e},_C=function(e,t){if("string"!==typeof e)return{type:"message",data:wC(e,t)};var r=e.charAt(0);return"b"===r?{type:"message",data:kC(e.substring(1),t)}:lC[r]?e.length>1?{type:lC[r],data:e.substring(1)}:{type:lC[r]}:dC},SC=String.fromCharCode(30);function xC(e){if(e)return function(e){for(var t in xC.prototype)e[t]=xC.prototype[t];return e}(e)}xC.prototype.on=xC.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},xC.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this},xC.prototype.off=xC.prototype.removeListener=xC.prototype.removeAllListeners=xC.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var a=0;a<n.length;a++)if((r=n[a])===t||r.fn===t){n.splice(a,1);break}return 0===n.length&&delete this._callbacks["$"+e],this},xC.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){n=0;for(var a=(r=r.slice(0)).length;n<a;++n)r[n].apply(this,t)}return this},xC.prototype.emitReserved=xC.prototype.emit,xC.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},xC.prototype.hasListeners=function(e){return!!this.listeners(e).length};var CC="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function PC(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r.reduce((function(t,r){return e.hasOwnProperty(r)&&(t[r]=e[r]),t}),{})}var RC=CC.setTimeout,TC=CC.clearTimeout;function EC(e,t){t.useNativeTimers?(e.setTimeoutFn=RC.bind(CC),e.clearTimeoutFn=TC.bind(CC)):(e.setTimeoutFn=CC.setTimeout.bind(CC),e.clearTimeoutFn=CC.clearTimeout.bind(CC))}var OC,DC=function(e){ti(r,e);var t=ii(r);function r(e,n,a){var i;return Za(this,r),(i=t.call(this,e)).description=n,i.context=a,i.type="TransportError",i}return Xa(r)}(si(Error)),MC=function(e){ti(r,e);var t=ii(r);function r(e){var n;return Za(this,r),(n=t.call(this)).writable=!1,EC(ai(n),e),n.opts=e,n.query=e.query,n.socket=e.socket,n}return Xa(r,[{key:"onError",value:function(e,t,n){return Fy(ri(r.prototype),"emitReserved",this).call(this,"error",new DC(e,t,n)),this}},{key:"open",value:function(){return this.readyState="opening",this.doOpen(),this}},{key:"close",value:function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}},{key:"send",value:function(e){"open"===this.readyState&&this.write(e)}},{key:"onOpen",value:function(){this.readyState="open",this.writable=!0,Fy(ri(r.prototype),"emitReserved",this).call(this,"open")}},{key:"onData",value:function(e){var t=_C(e,this.socket.binaryType);this.onPacket(t)}},{key:"onPacket",value:function(e){Fy(ri(r.prototype),"emitReserved",this).call(this,"packet",e)}},{key:"onClose",value:function(e){this.readyState="closed",Fy(ri(r.prototype),"emitReserved",this).call(this,"close",e)}},{key:"pause",value:function(e){}}]),r}(xC),jC="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),IC=64,AC={},LC=0,NC=0;function FC(e){var t="";do{t=jC[e%IC]+t,e=Math.floor(e/IC)}while(e>0);return t}function BC(){var e=FC(+new Date);return e!==OC?(LC=0,OC=e):e+"."+FC(LC++)}for(;NC<IC;NC++)AC[jC[NC]]=NC;function zC(e){var t="";for(var r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}var UC=!1;try{UC="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(HD){}var VC=UC;function WC(e){var t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||VC))return new XMLHttpRequest}catch(r){}if(!t)try{return new(CC[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(r){}}function qC(){}var HC=null!=new WC({xdomain:!1}).responseType,$C=function(e){ti(r,e);var t=ii(r);function r(e){var n;if(Za(this,r),(n=t.call(this,e)).polling=!1,"undefined"!==typeof location){var a="https:"===location.protocol,i=location.port;i||(i=a?"443":"80"),n.xd="undefined"!==typeof location&&e.hostname!==location.hostname||i!==e.port,n.xs=e.secure!==a}var o=e&&e.forceBase64;return n.supportsBinary=HC&&!o,n}return Xa(r,[{key:"name",get:function(){return"polling"}},{key:"doOpen",value:function(){this.poll()}},{key:"pause",value:function(e){var t=this;this.readyState="pausing";var r=function(){t.readyState="paused",e()};if(this.polling||!this.writable){var n=0;this.polling&&(n++,this.once("pollComplete",(function(){--n||r()}))),this.writable||(n++,this.once("drain",(function(){--n||r()})))}else r()}},{key:"poll",value:function(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}},{key:"onData",value:function(e){var t=this;(function(e,t){for(var r=e.split(SC),n=[],a=0;a<r.length;a++){var i=_C(r[a],t);if(n.push(i),"error"===i.type)break}return n})(e,this.socket.binaryType).forEach((function(e){if("opening"===t.readyState&&"open"===e.type&&t.onOpen(),"close"===e.type)return t.onClose({description:"transport closed by the server"}),!1;t.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}},{key:"doClose",value:function(){var e=this,t=function(){e.write([{type:"close"}])};"open"===this.readyState?t():this.once("open",t)}},{key:"write",value:function(e){var t=this;this.writable=!1,function(e,t){var r=e.length,n=new Array(r),a=0;e.forEach((function(e,i){mC(e,!1,(function(e){n[i]=e,++a===r&&t(n.join(SC))}))}))}(e,(function(e){t.doWrite(e,(function(){t.writable=!0,t.emitReserved("drain")}))}))}},{key:"uri",value:function(){var e=this.query||{},t=this.opts.secure?"https":"http",r="";!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=BC()),this.supportsBinary||e.sid||(e.b64=1),this.opts.port&&("https"===t&&443!==Number(this.opts.port)||"http"===t&&80!==Number(this.opts.port))&&(r=":"+this.opts.port);var n=zC(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(n.length?"?"+n:"")}},{key:"request",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new GC(this.uri(),e)}},{key:"doWrite",value:function(e,t){var r=this,n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",(function(e,t){r.onError("xhr post error",e,t)}))}},{key:"doPoll",value:function(){var e=this,t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(function(t,r){e.onError("xhr poll error",t,r)})),this.pollXhr=t}}]),r}(MC),GC=function(e){ti(r,e);var t=ii(r);function r(e,n){var a;return Za(this,r),EC(ai(a=t.call(this)),n),a.opts=n,a.method=n.method||"GET",a.uri=e,a.async=!1!==n.async,a.data=void 0!==n.data?n.data:null,a.create(),a}return Xa(r,[{key:"create",value:function(){var e=this,t=PC(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd,t.xscheme=!!this.opts.xs;var n=this.xhr=new WC(t);try{n.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders)for(var a in n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0),this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(a)&&n.setRequestHeader(a,this.opts.extraHeaders[a])}catch(i){}if("POST"===this.method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(i){}try{n.setRequestHeader("Accept","*/*")}catch(i){}"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=function(){4===n.readyState&&(200===n.status||1223===n.status?e.onLoad():e.setTimeoutFn((function(){e.onError("number"===typeof n.status?n.status:0)}),0))},n.send(this.data)}catch(i){return void this.setTimeoutFn((function(){e.onError(i)}),0)}"undefined"!==typeof document&&(this.index=r.requestsCount++,r.requests[this.index]=this)}},{key:"onError",value:function(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}},{key:"cleanup",value:function(e){if("undefined"!==typeof this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=qC,e)try{this.xhr.abort()}catch(t){}"undefined"!==typeof document&&delete r.requests[this.index],this.xhr=null}}},{key:"onLoad",value:function(){var e=this.xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}},{key:"abort",value:function(){this.cleanup()}}]),r}(xC);if(GC.requestsCount=0,GC.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",KC);else if("function"===typeof addEventListener){addEventListener("onpagehide"in CC?"pagehide":"unload",KC,!1)}function KC(){for(var e in GC.requests)GC.requests.hasOwnProperty(e)&&GC.requests[e].abort()}var YC="function"===typeof Promise&&"function"===typeof Promise.resolve?function(e){return Promise.resolve().then(e)}:function(e,t){return t(e,0)},QC=CC.WebSocket||CC.MozWebSocket,JC="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),XC=function(e){ti(r,e);var t=ii(r);function r(e){var n;return Za(this,r),(n=t.call(this,e)).supportsBinary=!e.forceBase64,n}return Xa(r,[{key:"name",get:function(){return"websocket"}},{key:"doOpen",value:function(){if(this.check()){var e=this.uri(),t=this.opts.protocols,r=JC?{}:PC(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=JC?new QC(e,t,r):t?new QC(e,t):new QC(e)}catch(HD){return this.emitReserved("error",HD)}this.ws.binaryType=this.socket.binaryType||"arraybuffer",this.addEventListeners()}}},{key:"addEventListeners",value:function(){var e=this;this.ws.onopen=function(){e.opts.autoUnref&&e.ws._socket.unref(),e.onOpen()},this.ws.onclose=function(t){return e.onClose({description:"websocket connection closed",context:t})},this.ws.onmessage=function(t){return e.onData(t.data)},this.ws.onerror=function(t){return e.onError("websocket error",t)}}},{key:"write",value:function(e){var t=this;this.writable=!1;for(var r=function(){var r=e[n],a=n===e.length-1;mC(r,t.supportsBinary,(function(e){try{t.ws.send(e)}catch(r){}a&&YC((function(){t.writable=!0,t.emitReserved("drain")}),t.setTimeoutFn)}))},n=0;n<e.length;n++)r()}},{key:"doClose",value:function(){"undefined"!==typeof this.ws&&(this.ws.close(),this.ws=null)}},{key:"uri",value:function(){var e=this.query||{},t=this.opts.secure?"wss":"ws",r="";this.opts.port&&("wss"===t&&443!==Number(this.opts.port)||"ws"===t&&80!==Number(this.opts.port))&&(r=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=BC()),this.supportsBinary||(e.b64=1);var n=zC(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(n.length?"?"+n:"")}},{key:"check",value:function(){return!!QC}}]),r}(MC),ZC={websocket:XC,polling:$C},eP=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,tP=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function rP(e){var t=e,r=e.indexOf("["),n=e.indexOf("]");-1!=r&&-1!=n&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));for(var a=eP.exec(e||""),i={},o=14;o--;)i[tP[o]]=a[o]||"";return-1!=r&&-1!=n&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=function(e,t){var r=/\/{2,9}/g,n=t.replace(r,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||n.splice(0,1);"/"==t.slice(-1)&&n.splice(n.length-1,1);return n}(0,i.path),i.queryKey=function(e,t){var r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,n){t&&(r[t]=n)})),r}(0,i.query),i}var nP=function(e){ti(r,e);var t=ii(r);function r(e){var n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Za(this,r),(n=t.call(this)).writeBuffer=[],e&&"object"===typeof e&&(a=e,e=null),e?(e=rP(e),a.hostname=e.host,a.secure="https"===e.protocol||"wss"===e.protocol,a.port=e.port,e.query&&(a.query=e.query)):a.host&&(a.hostname=rP(a.host).host),EC(ai(n),a),n.secure=null!=a.secure?a.secure:"undefined"!==typeof location&&"https:"===location.protocol,a.hostname&&!a.port&&(a.port=n.secure?"443":"80"),n.hostname=a.hostname||("undefined"!==typeof location?location.hostname:"localhost"),n.port=a.port||("undefined"!==typeof location&&location.port?location.port:n.secure?"443":"80"),n.transports=a.transports||["polling","websocket"],n.writeBuffer=[],n.prevBufferLen=0,n.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},a),n.opts.path=n.opts.path.replace(/\/$/,"")+(n.opts.addTrailingSlash?"/":""),"string"===typeof n.opts.query&&(n.opts.query=function(e){for(var t={},r=e.split("&"),n=0,a=r.length;n<a;n++){var i=r[n].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}(n.opts.query)),n.id=null,n.upgrades=null,n.pingInterval=null,n.pingTimeout=null,n.pingTimeoutTimer=null,"function"===typeof addEventListener&&(n.opts.closeOnBeforeunload&&(n.beforeunloadEventListener=function(){n.transport&&(n.transport.removeAllListeners(),n.transport.close())},addEventListener("beforeunload",n.beforeunloadEventListener,!1)),"localhost"!==n.hostname&&(n.offlineEventListener=function(){n.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",n.offlineEventListener,!1))),n.open(),n}return Xa(r,[{key:"createTransport",value:function(e){var t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);var r=Object.assign({},this.opts.transportOptions[e],this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new ZC[e](r)}},{key:"open",value:function(){var e,t=this;if(this.opts.rememberUpgrade&&r.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((function(){t.emitReserved("error","No transports available")}),0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(n){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}},{key:"setTransport",value:function(e){var t=this;this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(function(e){return t.onClose("transport close",e)}))}},{key:"probe",value:function(e){var t=this,n=this.createTransport(e),a=!1;r.priorWebsocketSuccess=!1;var i=function(){a||(n.send([{type:"ping",data:"probe"}]),n.once("packet",(function(e){if(!a)if("pong"===e.type&&"probe"===e.data){if(t.upgrading=!0,t.emitReserved("upgrading",n),!n)return;r.priorWebsocketSuccess="websocket"===n.name,t.transport.pause((function(){a||"closed"!==t.readyState&&(d(),t.setTransport(n),n.send([{type:"upgrade"}]),t.emitReserved("upgrade",n),n=null,t.upgrading=!1,t.flush())}))}else{var i=new Error("probe error");i.transport=n.name,t.emitReserved("upgradeError",i)}})))};function o(){a||(a=!0,d(),n.close(),n=null)}var s=function(e){var r=new Error("probe error: "+e);r.transport=n.name,o(),t.emitReserved("upgradeError",r)};function c(){s("transport closed")}function u(){s("socket closed")}function l(e){n&&e.name!==n.name&&o()}var d=function(){n.removeListener("open",i),n.removeListener("error",s),n.removeListener("close",c),t.off("close",u),t.off("upgrading",l)};n.once("open",i),n.once("error",s),n.once("close",c),this.once("close",u),this.once("upgrading",l),n.open()}},{key:"onOpen",value:function(){if(this.readyState="open",r.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade)for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},{key:"onPacket",value:function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}},{key:"onHandshake",value:function(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}},{key:"resetPingTimeout",value:function(){var e=this;this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((function(){e.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}},{key:"onDrain",value:function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}},{key:"flush",value:function(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){var e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}},{key:"getWritablePackets",value:function(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;for(var e,t=1,r=0;r<this.writeBuffer.length;r++){var n=this.writeBuffer[r].data;if(n&&(t+="string"===typeof(e=n)?function(e){for(var t=0,r=0,n=0,a=e.length;n<a;n++)(t=e.charCodeAt(n))<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}(e):Math.ceil(1.33*(e.byteLength||e.size))),r>0&&t>this.maxPayload)return this.writeBuffer.slice(0,r);t+=2}return this.writeBuffer}},{key:"write",value:function(e,t,r){return this.sendPacket("message",e,t,r),this}},{key:"send",value:function(e,t,r){return this.sendPacket("message",e,t,r),this}},{key:"sendPacket",value:function(e,t,r,n){if("function"===typeof t&&(n=t,t=void 0),"function"===typeof r&&(n=r,r=null),"closing"!==this.readyState&&"closed"!==this.readyState){(r=r||{}).compress=!1!==r.compress;var a={type:e,data:t,options:r};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),n&&this.once("flush",n),this.flush()}}},{key:"close",value:function(){var e=this,t=function(){e.onClose("forced close"),e.transport.close()},r=function r(){e.off("upgrade",r),e.off("upgradeError",r),t()},n=function(){e.once("upgrade",r),e.once("upgradeError",r)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(function(){e.upgrading?n():t()})):this.upgrading?n():t()),this}},{key:"onError",value:function(e){r.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}},{key:"onClose",value:function(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"===typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}},{key:"filterUpgrades",value:function(e){for(var t=[],r=0,n=e.length;r<n;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}}]),r}(xC);nP.protocol=4;nP.protocol;var aP="function"===typeof ArrayBuffer,iP=function(e){return"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer},oP=Object.prototype.toString,sP="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===oP.call(Blob),cP="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===oP.call(File);function uP(e){return aP&&(e instanceof ArrayBuffer||iP(e))||sP&&e instanceof Blob||cP&&e instanceof File}function lP(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(var r=0,n=e.length;r<n;r++)if(lP(e[r]))return!0;return!1}if(uP(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return lP(e.toJSON(),!0);for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)&&lP(e[a]))return!0;return!1}function dP(e){var t=[],r=e.data,n=e;return n.data=pP(r,t),n.attachments=t.length,{packet:n,buffers:t}}function pP(e,t){if(!e)return e;if(uP(e)){var r={_placeholder:!0,num:t.length};return t.push(e),r}if(Array.isArray(e)){for(var n=new Array(e.length),a=0;a<e.length;a++)n[a]=pP(e[a],t);return n}if("object"===typeof e&&!(e instanceof Date)){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=pP(e[o],t));return i}return e}function fP(e,t){return e.data=hP(e.data,t),delete e.attachments,e}function hP(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(var r=0;r<e.length;r++)e[r]=hP(e[r],t);else if("object"===typeof e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=hP(e[n],t));return e}var mP,vP=5;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(mP||(mP={}));var gP=function(){function e(t){Za(this,e),this.replacer=t}return Xa(e,[{key:"encode",value:function(e){return e.type!==mP.EVENT&&e.type!==mP.ACK||!lP(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===mP.EVENT?mP.BINARY_EVENT:mP.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}},{key:"encodeAsString",value:function(e){var t=""+e.type;return e.type!==mP.BINARY_EVENT&&e.type!==mP.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}},{key:"encodeAsBinary",value:function(e){var t=dP(e),r=this.encodeAsString(t.packet),n=t.buffers;return n.unshift(r),n}}]),e}(),yP=function(e){ti(r,e);var t=ii(r);function r(e){var n;return Za(this,r),(n=t.call(this)).reviver=e,n}return Xa(r,[{key:"add",value:function(e){var t;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");var n=(t=this.decodeString(e)).type===mP.BINARY_EVENT;n||t.type===mP.BINARY_ACK?(t.type=n?mP.EVENT:mP.ACK,this.reconstructor=new bP(t),0===t.attachments&&Fy(ri(r.prototype),"emitReserved",this).call(this,"decoded",t)):Fy(ri(r.prototype),"emitReserved",this).call(this,"decoded",t)}else{if(!uP(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(t=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,Fy(ri(r.prototype),"emitReserved",this).call(this,"decoded",t))}}},{key:"decodeString",value:function(e){var t=0,n={type:Number(e.charAt(0))};if(void 0===mP[n.type])throw new Error("unknown packet type "+n.type);if(n.type===mP.BINARY_EVENT||n.type===mP.BINARY_ACK){for(var a=t+1;"-"!==e.charAt(++t)&&t!=e.length;);var i=e.substring(a,t);if(i!=Number(i)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(i)}if("/"===e.charAt(t+1)){for(var o=t+1;++t;){if(","===e.charAt(t))break;if(t===e.length)break}n.nsp=e.substring(o,t)}else n.nsp="/";var s=e.charAt(t+1);if(""!==s&&Number(s)==s){for(var c=t+1;++t;){var u=e.charAt(t);if(null==u||Number(u)!=u){--t;break}if(t===e.length)break}n.id=Number(e.substring(c,t+1))}if(e.charAt(++t)){var l=this.tryParse(e.substr(t));if(!r.isPayloadValid(n.type,l))throw new Error("invalid payload");n.data=l}return n}},{key:"tryParse",value:function(e){try{return JSON.parse(e,this.reviver)}catch(t){return!1}}},{key:"destroy",value:function(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}],[{key:"isPayloadValid",value:function(e,t){switch(e){case mP.CONNECT:return"object"===typeof t;case mP.DISCONNECT:return void 0===t;case mP.CONNECT_ERROR:return"string"===typeof t||"object"===typeof t;case mP.EVENT:case mP.BINARY_EVENT:return Array.isArray(t)&&t.length>0;case mP.ACK:case mP.BINARY_ACK:return Array.isArray(t)}}}]),r}(xC),bP=function(){function e(t){Za(this,e),this.packet=t,this.buffers=[],this.reconPack=t}return Xa(e,[{key:"takeBinaryData",value:function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=fP(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}},{key:"finishedReconstruction",value:function(){this.reconPack=null,this.buffers=[]}}]),e}();function kP(e,t,r){return e.on(t,r),function(){e.off(t,r)}}var wP=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),_P=function(e){ti(r,e);var t=ii(r);function r(e,n,a){var i;return Za(this,r),(i=t.call(this)).connected=!1,i.recovered=!1,i.receiveBuffer=[],i.sendBuffer=[],i._queue=[],i._queueSeq=0,i.ids=0,i.acks={},i.flags={},i.io=e,i.nsp=n,a&&a.auth&&(i.auth=a.auth),i._opts=Object.assign({},a),i.io._autoConnect&&i.open(),i}return Xa(r,[{key:"disconnected",get:function(){return!this.connected}},{key:"subEvents",value:function(){if(!this.subs){var e=this.io;this.subs=[kP(e,"open",this.onopen.bind(this)),kP(e,"packet",this.onpacket.bind(this)),kP(e,"error",this.onerror.bind(this)),kP(e,"close",this.onclose.bind(this))]}}},{key:"active",get:function(){return!!this.subs}},{key:"connect",value:function(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}},{key:"open",value:function(){return this.connect()}},{key:"send",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.unshift("message"),this.emit.apply(this,t),this}},{key:"emit",value:function(e){if(wP.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(r.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;var a={type:mP.EVENT,data:r,options:{}};if(a.options.compress=!1!==this.flags.compress,"function"===typeof r[r.length-1]){var i=this.ids++,o=r.pop();this._registerAckCallback(i,o),a.id=i}var s=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!s||!this.connected)||(this.connected?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}},{key:"_registerAckCallback",value:function(e,t){var r,n=this,a=null!==(r=this.flags.timeout)&&void 0!==r?r:this._opts.ackTimeout;if(void 0!==a){var i=this.io.setTimeoutFn((function(){delete n.acks[e];for(var r=0;r<n.sendBuffer.length;r++)n.sendBuffer[r].id===e&&n.sendBuffer.splice(r,1);t.call(n,new Error("operation has timed out"))}),a);this.acks[e]=function(){n.io.clearTimeoutFn(i);for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];t.apply(n,[null].concat(r))}}else this.acks[e]=t}},{key:"emitWithAck",value:function(e){for(var t=this,r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];var i=void 0!==this.flags.timeout||void 0!==this._opts.ackTimeout;return new Promise((function(r,a){n.push((function(e,t){return i?e?a(e):r(t):r(e)})),t.emit.apply(t,[e].concat(n))}))}},{key:"_addToQueue",value:function(e){var t,r=this;"function"===typeof e[e.length-1]&&(t=e.pop());var n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((function(e){if(n===r._queue[0]){if(null!==e)n.tryCount>r._opts.retries&&(r._queue.shift(),t&&t(e));else if(r._queue.shift(),t){for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];t.apply(void 0,[null].concat(i))}return n.pending=!1,r._drainQueue()}})),this._queue.push(n),this._drainQueue()}},{key:"_drainQueue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.connected&&0!==this._queue.length){var t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}}},{key:"packet",value:function(e){e.nsp=this.nsp,this.io._packet(e)}},{key:"onopen",value:function(){var e=this;"function"==typeof this.auth?this.auth((function(t){e._sendConnectPacket(t)})):this._sendConnectPacket(this.auth)}},{key:"_sendConnectPacket",value:function(e){this.packet({type:mP.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}},{key:"onerror",value:function(e){this.connected||this.emitReserved("connect_error",e)}},{key:"onclose",value:function(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t)}},{key:"onpacket",value:function(e){if(e.nsp===this.nsp)switch(e.type){case mP.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case mP.EVENT:case mP.BINARY_EVENT:this.onevent(e);break;case mP.ACK:case mP.BINARY_ACK:this.onack(e);break;case mP.DISCONNECT:this.ondisconnect();break;case mP.CONNECT_ERROR:this.destroy();var t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}},{key:"onevent",value:function(e){var t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}},{key:"emitEvent",value:function(e){if(this._anyListeners&&this._anyListeners.length){var t,n=lt(this._anyListeners.slice());try{for(n.s();!(t=n.n()).done;){t.value.apply(this,e)}}catch(HD){n.e(HD)}finally{n.f()}}Fy(ri(r.prototype),"emit",this).apply(this,e),this._pid&&e.length&&"string"===typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}},{key:"ack",value:function(e){var t=this,r=!1;return function(){if(!r){r=!0;for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];t.packet({type:mP.ACK,id:e,data:a})}}}},{key:"onack",value:function(e){var t=this.acks[e.id];"function"===typeof t&&(t.apply(this,e.data),delete this.acks[e.id])}},{key:"onconnect",value:function(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}},{key:"emitBuffered",value:function(){var e=this;this.receiveBuffer.forEach((function(t){return e.emitEvent(t)})),this.receiveBuffer=[],this.sendBuffer.forEach((function(t){e.notifyOutgoingListeners(t),e.packet(t)})),this.sendBuffer=[]}},{key:"ondisconnect",value:function(){this.destroy(),this.onclose("io server disconnect")}},{key:"destroy",value:function(){this.subs&&(this.subs.forEach((function(e){return e()})),this.subs=void 0),this.io._destroy(this)}},{key:"disconnect",value:function(){return this.connected&&this.packet({type:mP.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}},{key:"close",value:function(){return this.disconnect()}},{key:"compress",value:function(e){return this.flags.compress=e,this}},{key:"volatile",get:function(){return this.flags.volatile=!0,this}},{key:"timeout",value:function(e){return this.flags.timeout=e,this}},{key:"onAny",value:function(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}},{key:"prependAny",value:function(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}},{key:"offAny",value:function(e){if(!this._anyListeners)return this;if(e){for(var t=this._anyListeners,r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}},{key:"listenersAny",value:function(){return this._anyListeners||[]}},{key:"onAnyOutgoing",value:function(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}},{key:"prependAnyOutgoing",value:function(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}},{key:"offAnyOutgoing",value:function(e){if(!this._anyOutgoingListeners)return this;if(e){for(var t=this._anyOutgoingListeners,r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}},{key:"listenersAnyOutgoing",value:function(){return this._anyOutgoingListeners||[]}},{key:"notifyOutgoingListeners",value:function(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){var t,r=lt(this._anyOutgoingListeners.slice());try{for(r.s();!(t=r.n()).done;){t.value.apply(this,e.data)}}catch(HD){r.e(HD)}finally{r.f()}}}}]),r}(xC);function SP(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}SP.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-r:e+r}return 0|Math.min(e,this.max)},SP.prototype.reset=function(){this.attempts=0},SP.prototype.setMin=function(e){this.ms=e},SP.prototype.setMax=function(e){this.max=e},SP.prototype.setJitter=function(e){this.jitter=e};var xP=function(e){ti(r,e);var t=ii(r);function r(e,n){var a,o;Za(this,r),(a=t.call(this)).nsps={},a.subs=[],e&&"object"===typeof e&&(n=e,e=void 0),(n=n||{}).path=n.path||"/socket.io",a.opts=n,EC(ai(a),n),a.reconnection(!1!==n.reconnection),a.reconnectionAttempts(n.reconnectionAttempts||1/0),a.reconnectionDelay(n.reconnectionDelay||1e3),a.reconnectionDelayMax(n.reconnectionDelayMax||5e3),a.randomizationFactor(null!==(o=n.randomizationFactor)&&void 0!==o?o:.5),a.backoff=new SP({min:a.reconnectionDelay(),max:a.reconnectionDelayMax(),jitter:a.randomizationFactor()}),a.timeout(null==n.timeout?2e4:n.timeout),a._readyState="closed",a.uri=e;var s=n.parser||i;return a.encoder=new s.Encoder,a.decoder=new s.Decoder,a._autoConnect=!1!==n.autoConnect,a._autoConnect&&a.open(),a}return Xa(r,[{key:"reconnection",value:function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}},{key:"reconnectionAttempts",value:function(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}},{key:"reconnectionDelay",value:function(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}},{key:"randomizationFactor",value:function(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}},{key:"reconnectionDelayMax",value:function(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}},{key:"timeout",value:function(e){return arguments.length?(this._timeout=e,this):this._timeout}},{key:"maybeReconnectOnOpen",value:function(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}},{key:"open",value:function(e){var t=this;if(~this._readyState.indexOf("open"))return this;this.engine=new nP(this.uri,this.opts);var r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;var a=kP(r,"open",(function(){n.onopen(),e&&e()})),i=kP(r,"error",(function(r){n.cleanup(),n._readyState="closed",t.emitReserved("error",r),e?e(r):n.maybeReconnectOnOpen()}));if(!1!==this._timeout){var o=this._timeout;0===o&&a();var s=this.setTimeoutFn((function(){a(),r.close(),r.emit("error",new Error("timeout"))}),o);this.opts.autoUnref&&s.unref(),this.subs.push((function(){clearTimeout(s)}))}return this.subs.push(a),this.subs.push(i),this}},{key:"connect",value:function(e){return this.open(e)}},{key:"onopen",value:function(){this.cleanup(),this._readyState="open",this.emitReserved("open");var e=this.engine;this.subs.push(kP(e,"ping",this.onping.bind(this)),kP(e,"data",this.ondata.bind(this)),kP(e,"error",this.onerror.bind(this)),kP(e,"close",this.onclose.bind(this)),kP(this.decoder,"decoded",this.ondecoded.bind(this)))}},{key:"onping",value:function(){this.emitReserved("ping")}},{key:"ondata",value:function(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}},{key:"ondecoded",value:function(e){var t=this;YC((function(){t.emitReserved("packet",e)}),this.setTimeoutFn)}},{key:"onerror",value:function(e){this.emitReserved("error",e)}},{key:"socket",value:function(e,t){var r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new _P(this,e,t),this.nsps[e]=r),r}},{key:"_destroy",value:function(e){for(var t=0,r=Object.keys(this.nsps);t<r.length;t++){var n=r[t];if(this.nsps[n].active)return}this._close()}},{key:"_packet",value:function(e){for(var t=this.encoder.encode(e),r=0;r<t.length;r++)this.engine.write(t[r],e.options)}},{key:"cleanup",value:function(){this.subs.forEach((function(e){return e()})),this.subs.length=0,this.decoder.destroy()}},{key:"_close",value:function(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}},{key:"disconnect",value:function(){return this._close()}},{key:"onclose",value:function(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}},{key:"reconnect",value:function(){var e=this;if(this._reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{var r=this.backoff.duration();this._reconnecting=!0;var n=this.setTimeoutFn((function(){t.skipReconnect||(e.emitReserved("reconnect_attempt",t.backoff.attempts),t.skipReconnect||t.open((function(r){r?(t._reconnecting=!1,t.reconnect(),e.emitReserved("reconnect_error",r)):t.onreconnect()})))}),r);this.opts.autoUnref&&n.unref(),this.subs.push((function(){clearTimeout(n)}))}}},{key:"onreconnect",value:function(){var e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}]),r}(xC),CP={};function PP(e,t){"object"===typeof e&&(t=e,e=void 0);var r,n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,n=e;r=r||"undefined"!==typeof location&&location,null==e&&(e=r.protocol+"//"+r.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?r.protocol+e:r.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof r?r.protocol+"//"+e:"https://"+e),n=rP(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";var a=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+a+":"+n.port+t,n.href=n.protocol+"://"+a+(r&&r.port===n.port?"":":"+n.port),n}(e,(t=t||{}).path||"/socket.io"),a=n.source,i=n.id,o=n.path,s=CP[i]&&o in CP[i].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||s?r=new xP(a,t):(CP[i]||(CP[i]=new xP(a,t)),r=CP[i]),n.query&&!t.query&&(t.query=n.queryKey),r.socket(n.path,t)}Object.assign(PP,{Manager:xP,Socket:_P,io:PP,connect:PP});var RP,TP=r(8093),EP=r(1947),OP=r(7465),DP={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},MP=new Uint8Array(16);function jP(){if(!RP&&!(RP="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return RP(MP)}for(var IP=[],AP=0;AP<256;++AP)IP.push((AP+256).toString(16).slice(1));function LP(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(IP[e[t+0]]+IP[e[t+1]]+IP[e[t+2]]+IP[e[t+3]]+"-"+IP[e[t+4]]+IP[e[t+5]]+"-"+IP[e[t+6]]+IP[e[t+7]]+"-"+IP[e[t+8]]+IP[e[t+9]]+"-"+IP[e[t+10]]+IP[e[t+11]]+IP[e[t+12]]+IP[e[t+13]]+IP[e[t+14]]+IP[e[t+15]]).toLowerCase()}var NP=function(e,t,r){if(DP.randomUUID&&!t&&!e)return DP.randomUUID();var n=(e=e||{}).random||(e.rng||jP)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var a=0;a<16;++a)t[r+a]=n[a];return t}return LP(n)},FP=r(4218);function BP(e,t){return function(){return e.apply(t,arguments)}}var zP=Object.prototype.toString,UP=Object.getPrototypeOf,VP=function(e){return function(t){var r=zP.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())}}(Object.create(null)),WP=function(e){return e=e.toLowerCase(),function(t){return VP(t)===e}},qP=function(e){return function(t){return typeof t===e}},HP=Array.isArray,$P=qP("undefined");var GP=WP("ArrayBuffer");var KP=qP("string"),YP=qP("function"),QP=qP("number"),JP=function(e){return null!==e&&"object"===typeof e},XP=function(e){if("object"!==VP(e))return!1;var t=UP(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ZP=WP("Date"),eR=WP("File"),tR=WP("Blob"),rR=WP("FileList"),nR=WP("URLSearchParams");function aR(e,t){var r,n,a=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).allOwnKeys,i=void 0!==a&&a;if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),HP(e))for(r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else{var o,s=i?Object.getOwnPropertyNames(e):Object.keys(e),c=s.length;for(r=0;r<c;r++)o=s[r],t.call(null,e[o],o,e)}}function iR(e,t){t=t.toLowerCase();for(var r,n=Object.keys(e),a=n.length;a-- >0;)if(t===(r=n[a]).toLowerCase())return r;return null}var oR="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,sR=function(e){return!$P(e)&&e!==oR};var cR,uR=(cR="undefined"!==typeof Uint8Array&&UP(Uint8Array),function(e){return cR&&e instanceof cR}),lR=WP("HTMLFormElement"),dR=function(e){var t=Object.prototype.hasOwnProperty;return function(e,r){return t.call(e,r)}}(),pR=WP("RegExp"),fR=function(e,t){var r=Object.getOwnPropertyDescriptors(e),n={};aR(r,(function(r,a){!1!==t(r,a,e)&&(n[a]=r)})),Object.defineProperties(e,n)},hR="abcdefghijklmnopqrstuvwxyz",mR="0123456789",vR={DIGIT:mR,ALPHA:hR,ALPHA_DIGIT:hR+hR.toUpperCase()+mR};var gR={isArray:HP,isArrayBuffer:GP,isBuffer:function(e){return null!==e&&!$P(e)&&null!==e.constructor&&!$P(e.constructor)&&YP(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t;return e&&("function"===typeof FormData&&e instanceof FormData||YP(e.append)&&("formdata"===(t=VP(e))||"object"===t&&YP(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&GP(e.buffer)},isString:KP,isNumber:QP,isBoolean:function(e){return!0===e||!1===e},isObject:JP,isPlainObject:XP,isUndefined:$P,isDate:ZP,isFile:eR,isBlob:tR,isRegExp:pR,isFunction:YP,isStream:function(e){return JP(e)&&YP(e.pipe)},isURLSearchParams:nR,isTypedArray:uR,isFileList:rR,forEach:aR,merge:function e(){for(var t=(sR(this)&&this||{}).caseless,r={},n=function(n,a){var i=t&&iR(r,a)||a;XP(r[i])&&XP(n)?r[i]=e(r[i],n):XP(n)?r[i]=e({},n):HP(n)?r[i]=n.slice():r[i]=n},a=0,i=arguments.length;a<i;a++)arguments[a]&&aR(arguments[a],n);return r},extend:function(e,t,r){return aR(t,(function(t,n){r&&YP(t)?e[n]=BP(t,r):e[n]=t}),{allOwnKeys:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).allOwnKeys}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,r,n){e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:function(e,t,r,n){var a,i,o,s={};if(t=t||{},null==e)return t;do{for(i=(a=Object.getOwnPropertyNames(e)).length;i-- >0;)o=a[i],n&&!n(o,e,t)||s[o]||(t[o]=e[o],s[o]=!0);e=!1!==r&&UP(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:VP,kindOfTest:WP,endsWith:function(e,t,r){e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;var n=e.indexOf(t,r);return-1!==n&&n===r},toArray:function(e){if(!e)return null;if(HP(e))return e;var t=e.length;if(!QP(t))return null;for(var r=new Array(t);t-- >0;)r[t]=e[t];return r},forEachEntry:function(e,t){for(var r,n=(e&&e[Symbol.iterator]).call(e);(r=n.next())&&!r.done;){var a=r.value;t.call(e,a[0],a[1])}},matchAll:function(e,t){for(var r,n=[];null!==(r=e.exec(t));)n.push(r);return n},isHTMLForm:lR,hasOwnProperty:dR,hasOwnProp:dR,reduceDescriptors:fR,freezeMethods:function(e){fR(e,(function(t,r){if(YP(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;var n=e[r];YP(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not rewrite read-only method '"+r+"'")}))}))},toObjectSet:function(e,t){var r={},n=function(e){e.forEach((function(e){r[e]=!0}))};return HP(e)?n(e):n(String(e).split(t)),r},toCamelCase:function(e){return e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,r){return t.toUpperCase()+r}))},noop:function(){},toFiniteNumber:function(e,t){return e=+e,Number.isFinite(e)?e:t},findKey:iR,global:oR,isContextDefined:sR,ALPHABET:vR,generateString:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vR.ALPHA_DIGIT,r="",n=t.length;e--;)r+=t[Math.random()*n|0];return r},isSpecCompliantForm:function(e){return!!(e&&YP(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:function(e){var t=new Array(10);return function e(r,n){if(JP(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[n]=r;var a=HP(r)?[]:{};return aR(r,(function(t,r){var i=e(t,n+1);!$P(i)&&(a[r]=i)})),t[n]=void 0,a}}return r}(e,0)}};function yR(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a)}gR.inherits(yR,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:gR.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var bR=yR.prototype,kR={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){kR[e]={value:e}})),Object.defineProperties(yR,kR),Object.defineProperty(bR,"isAxiosError",{value:!0}),yR.from=function(e,t,r,n,a,i){var o=Object.create(bR);return gR.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(function(e){return"isAxiosError"!==e})),yR.call(o,e.message,t,r,n,a),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};var wR=yR,_R=null;function SR(e){return gR.isPlainObject(e)||gR.isArray(e)}function xR(e){return gR.endsWith(e,"[]")?e.slice(0,-2):e}function CR(e,t,r){return e?e.concat(t).map((function(e,t){return e=xR(e),!r&&t?"["+e+"]":e})).join(r?".":""):t}var PR=gR.toFlatObject(gR,{},null,(function(e){return/^is[A-Z]/.test(e)}));var RR=function(e,t,r){if(!gR.isObject(e))throw new TypeError("target must be an object");t=t||new(_R||FormData);var n=(r=gR.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!gR.isUndefined(t[e])}))).metaTokens,a=r.visitor||u,i=r.dots,o=r.indexes,s=(r.Blob||"undefined"!==typeof Blob&&Blob)&&gR.isSpecCompliantForm(t);if(!gR.isFunction(a))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(gR.isDate(e))return e.toISOString();if(!s&&gR.isBlob(e))throw new wR("Blob is not supported. Use a Buffer instead.");return gR.isArrayBuffer(e)||gR.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function u(e,r,a){var s=e;if(e&&!a&&"object"===typeof e)if(gR.endsWith(r,"{}"))r=n?r:r.slice(0,-2),e=JSON.stringify(e);else if(gR.isArray(e)&&function(e){return gR.isArray(e)&&!e.some(SR)}(e)||(gR.isFileList(e)||gR.endsWith(r,"[]"))&&(s=gR.toArray(e)))return r=xR(r),s.forEach((function(e,n){!gR.isUndefined(e)&&null!==e&&t.append(!0===o?CR([r],n,i):null===o?r:r+"[]",c(e))})),!1;return!!SR(e)||(t.append(CR(a,r,i),c(e)),!1)}var l=[],d=Object.assign(PR,{defaultVisitor:u,convertValue:c,isVisitable:SR});if(!gR.isObject(e))throw new TypeError("data must be an object");return function e(r,n){if(!gR.isUndefined(r)){if(-1!==l.indexOf(r))throw Error("Circular reference detected in "+n.join("."));l.push(r),gR.forEach(r,(function(r,i){!0===(!(gR.isUndefined(r)||null===r)&&a.call(t,r,gR.isString(i)?i.trim():i,n,d))&&e(r,n?n.concat(i):[i])})),l.pop()}}(e),t};function TR(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function ER(e,t){this._pairs=[],e&&RR(e,this,t)}var OR=ER.prototype;OR.append=function(e,t){this._pairs.push([e,t])},OR.toString=function(e){var t=e?function(t){return e.call(this,t,TR)}:TR;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var DR=ER;function MR(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function jR(e,t,r){if(!t)return e;var n,a=r&&r.encode||MR,i=r&&r.serialize;if(n=i?i(t,r):gR.isURLSearchParams(t)?t.toString():new DR(t,r).toString(a)){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+n}return e}var IR=function(){function e(){Za(this,e),this.handlers=[]}return Xa(e,[{key:"use",value:function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){gR.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}]),e}(),AR=IR,LR={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},NR={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:DR,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},isStandardBrowserEnv:function(){var e;return("undefined"===typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&("undefined"!==typeof window&&"undefined"!==typeof document)}(),isStandardBrowserWebWorkerEnv:"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,protocols:["http","https","file","blob","url","data"]};var FR=function(e){function t(e,r,n,a){var i=e[a++],o=Number.isFinite(+i),s=a>=e.length;return i=!i&&gR.isArray(n)?n.length:i,s?(gR.hasOwnProp(n,i)?n[i]=[n[i],r]:n[i]=r,!o):(n[i]&&gR.isObject(n[i])||(n[i]=[]),t(e,r,n[i],a)&&gR.isArray(n[i])&&(n[i]=function(e){var t,r,n={},a=Object.keys(e),i=a.length;for(t=0;t<i;t++)n[r=a[t]]=e[r];return n}(n[i])),!o)}if(gR.isFormData(e)&&gR.isFunction(e.entries)){var r={};return gR.forEachEntry(e,(function(e,n){t(function(e){return gR.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),n,r,0)})),r}return null},BR={"Content-Type":void 0};var zR={transitional:LR,adapter:["xhr","http"],transformRequest:[function(e,t){var r,n=t.getContentType()||"",a=n.indexOf("application/json")>-1,i=gR.isObject(e);if(i&&gR.isHTMLForm(e)&&(e=new FormData(e)),gR.isFormData(e))return a&&a?JSON.stringify(FR(e)):e;if(gR.isArrayBuffer(e)||gR.isBuffer(e)||gR.isStream(e)||gR.isFile(e)||gR.isBlob(e))return e;if(gR.isArrayBufferView(e))return e.buffer;if(gR.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return RR(e,new NR.classes.URLSearchParams,Object.assign({visitor:function(e,t,r,n){return NR.isNode&&gR.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((r=gR.isFileList(e))||n.indexOf("multipart/form-data")>-1){var o=this.env&&this.env.FormData;return RR(r?{"files[]":e}:e,o&&new o,this.formSerializer)}}return i||a?(t.setContentType("application/json",!1),function(e,t,r){if(gR.isString(e))try{return(t||JSON.parse)(e),gR.trim(e)}catch(n){if("SyntaxError"!==n.name)throw n}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||zR.transitional,r=t&&t.forcedJSONParsing,n="json"===this.responseType;if(e&&gR.isString(e)&&(r&&!this.responseType||n)){var a=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(i){if(a){if("SyntaxError"===i.name)throw wR.from(i,wR.ERR_BAD_RESPONSE,this,null,this.response);throw i}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:NR.classes.FormData,Blob:NR.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};gR.forEach(["delete","get","head"],(function(e){zR.headers[e]={}})),gR.forEach(["post","put","patch"],(function(e){zR.headers[e]=gR.merge(BR)}));var UR=zR,VR=gR.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),WR=Symbol("internals");function qR(e){return e&&String(e).trim().toLowerCase()}function HR(e){return!1===e||null==e?e:gR.isArray(e)?e.map(HR):String(e)}function $R(e,t,r,n,a){return gR.isFunction(n)?n.call(this,t,r):(a&&(t=r),gR.isString(t)?gR.isString(n)?-1!==t.indexOf(n):gR.isRegExp(n)?n.test(t):void 0:void 0)}var GR=function(e,t){function r(e){Za(this,r),e&&this.set(e)}return Xa(r,[{key:"set",value:function(e,t,r){var n=this;function a(e,t,r){var a=qR(t);if(!a)throw new Error("header name must be a non-empty string");var i=gR.findKey(n,a);(!i||void 0===n[i]||!0===r||void 0===r&&!1!==n[i])&&(n[i||t]=HR(e))}var i=function(e,t){return gR.forEach(e,(function(e,r){return a(e,r,t)}))};return gR.isPlainObject(e)||e instanceof this.constructor?i(e,t):gR.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?i(function(e){var t,r,n,a={};return e&&e.split("\n").forEach((function(e){n=e.indexOf(":"),t=e.substring(0,n).trim().toLowerCase(),r=e.substring(n+1).trim(),!t||a[t]&&VR[t]||("set-cookie"===t?a[t]?a[t].push(r):a[t]=[r]:a[t]=a[t]?a[t]+", "+r:r)})),a}(e),t):null!=e&&a(t,e,r),this}},{key:"get",value:function(e,t){if(e=qR(e)){var r=gR.findKey(this,e);if(r){var n=this[r];if(!t)return n;if(!0===t)return function(e){for(var t,r=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=n.exec(e);)r[t[1]]=t[2];return r}(n);if(gR.isFunction(t))return t.call(this,n,r);if(gR.isRegExp(t))return t.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(e,t){if(e=qR(e)){var r=gR.findKey(this,e);return!(!r||void 0===this[r]||t&&!$R(0,this[r],r,t))}return!1}},{key:"delete",value:function(e,t){var r=this,n=!1;function a(e){if(e=qR(e)){var a=gR.findKey(r,e);!a||t&&!$R(0,r[a],a,t)||(delete r[a],n=!0)}}return gR.isArray(e)?e.forEach(a):a(e),n}},{key:"clear",value:function(e){for(var t=Object.keys(this),r=t.length,n=!1;r--;){var a=t[r];e&&!$R(0,this[a],a,e,!0)||(delete this[a],n=!0)}return n}},{key:"normalize",value:function(e){var t=this,r={};return gR.forEach(this,(function(n,a){var i=gR.findKey(r,a);if(i)return t[i]=HR(n),void delete t[a];var o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(e,t,r){return t.toUpperCase()+r}))}(a):String(a).trim();o!==a&&delete t[a],t[o]=HR(n),r[o]=!0})),this}},{key:"concat",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.constructor).concat.apply(e,[this].concat(r))}},{key:"toJSON",value:function(e){var t=Object.create(null);return gR.forEach(this,(function(r,n){null!=r&&!1!==r&&(t[n]=e&&gR.isArray(r)?r.join(", "):r)})),t}},{key:Symbol.iterator,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map((function(e){var t=rt(e,2);return t[0]+": "+t[1]})).join("\n")}},{key:Symbol.toStringTag,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(e){return e instanceof this?e:new this(e)}},{key:"concat",value:function(e){for(var t=new this(e),r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return n.forEach((function(e){return t.set(e)})),t}},{key:"accessor",value:function(e){var t=(this[WR]=this[WR]={accessors:{}}).accessors,r=this.prototype;function n(e){var n=qR(e);t[n]||(!function(e,t){var r=gR.toCamelCase(" "+t);["get","set","has"].forEach((function(n){Object.defineProperty(e,n+r,{value:function(e,r,a){return this[n].call(this,t,e,r,a)},configurable:!0})}))}(r,e),t[n]=!0)}return gR.isArray(e)?e.forEach(n):n(e),this}}]),r}();GR.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),gR.freezeMethods(GR.prototype),gR.freezeMethods(GR);var KR=GR;function YR(e,t){var r=this||UR,n=t||r,a=KR.from(n.headers),i=n.data;return gR.forEach(e,(function(e){i=e.call(r,i,a.normalize(),t?t.status:void 0)})),a.normalize(),i}function QR(e){return!(!e||!e.__CANCEL__)}function JR(e,t,r){wR.call(this,null==e?"canceled":e,wR.ERR_CANCELED,t,r),this.name="CanceledError"}gR.inherits(JR,wR,{__CANCEL__:!0});var XR=JR;var ZR=NR.isStandardBrowserEnv?{write:function(e,t,r,n,a,i){var o=[];o.push(e+"="+encodeURIComponent(t)),gR.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),gR.isString(n)&&o.push("path="+n),gR.isString(a)&&o.push("domain="+a),!0===i&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function eT(e,t){return e&&!function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var tT=NR.isStandardBrowserEnv?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function n(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=n(window.location.href),function(t){var r=gR.isString(t)?n(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0};var rT=function(e,t){e=e||10;var r,n=new Array(e),a=new Array(e),i=0,o=0;return t=void 0!==t?t:1e3,function(s){var c=Date.now(),u=a[o];r||(r=c),n[i]=s,a[i]=c;for(var l=o,d=0;l!==i;)d+=n[l++],l%=e;if((i=(i+1)%e)===o&&(o=(o+1)%e),!(c-r<t)){var p=u&&c-u;return p?Math.round(1e3*d/p):void 0}}};function nT(e,t){var r=0,n=rT(50,250);return function(a){var i=a.loaded,o=a.lengthComputable?a.total:void 0,s=i-r,c=n(s);r=i;var u={loaded:i,total:o,progress:o?i/o:void 0,bytes:s,rate:c||void 0,estimated:c&&o&&i<=o?(o-i)/c:void 0,event:a};u[t?"download":"upload"]=!0,e(u)}}var aT="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,r){var n,a=e.data,i=KR.from(e.headers).normalize(),o=e.responseType;function s(){e.cancelToken&&e.cancelToken.unsubscribe(n),e.signal&&e.signal.removeEventListener("abort",n)}gR.isFormData(a)&&(NR.isStandardBrowserEnv||NR.isStandardBrowserWebWorkerEnv)&&i.setContentType(!1);var c=new XMLHttpRequest;if(e.auth){var u=e.auth.username||"",l=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.set("Authorization","Basic "+btoa(u+":"+l))}var d=eT(e.baseURL,e.url);function p(){if(c){var n=KR.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders());!function(e,t,r){var n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(new wR("Request failed with status code "+r.status,[wR.ERR_BAD_REQUEST,wR.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}((function(e){t(e),s()}),(function(e){r(e),s()}),{data:o&&"text"!==o&&"json"!==o?c.response:c.responseText,status:c.status,statusText:c.statusText,headers:n,config:e,request:c}),c=null}}if(c.open(e.method.toUpperCase(),jR(d,e.params,e.paramsSerializer),!0),c.timeout=e.timeout,"onloadend"in c?c.onloadend=p:c.onreadystatechange=function(){c&&4===c.readyState&&(0!==c.status||c.responseURL&&0===c.responseURL.indexOf("file:"))&&setTimeout(p)},c.onabort=function(){c&&(r(new wR("Request aborted",wR.ECONNABORTED,e,c)),c=null)},c.onerror=function(){r(new wR("Network Error",wR.ERR_NETWORK,e,c)),c=null},c.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",n=e.transitional||LR;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(new wR(t,n.clarifyTimeoutError?wR.ETIMEDOUT:wR.ECONNABORTED,e,c)),c=null},NR.isStandardBrowserEnv){var f=(e.withCredentials||tT(d))&&e.xsrfCookieName&&ZR.read(e.xsrfCookieName);f&&i.set(e.xsrfHeaderName,f)}void 0===a&&i.setContentType(null),"setRequestHeader"in c&&gR.forEach(i.toJSON(),(function(e,t){c.setRequestHeader(t,e)})),gR.isUndefined(e.withCredentials)||(c.withCredentials=!!e.withCredentials),o&&"json"!==o&&(c.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&c.addEventListener("progress",nT(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&c.upload&&c.upload.addEventListener("progress",nT(e.onUploadProgress)),(e.cancelToken||e.signal)&&(n=function(t){c&&(r(!t||t.type?new XR(null,e,c):t),c.abort(),c=null)},e.cancelToken&&e.cancelToken.subscribe(n),e.signal&&(e.signal.aborted?n():e.signal.addEventListener("abort",n)));var h=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(d);h&&-1===NR.protocols.indexOf(h)?r(new wR("Unsupported protocol "+h+":",wR.ERR_BAD_REQUEST,e)):c.send(a||null)}))},iT={http:_R,xhr:aT};gR.forEach(iT,(function(e,t){if(e){try{Object.defineProperty(e,"name",{value:t})}catch(r){}Object.defineProperty(e,"adapterName",{value:t})}}));var oT=function(e){for(var t,r,n=(e=gR.isArray(e)?e:[e]).length,a=0;a<n&&(t=e[a],!(r=gR.isString(t)?iT[t.toLowerCase()]:t));a++);if(!r){if(!1===r)throw new wR("Adapter ".concat(t," is not supported by the environment"),"ERR_NOT_SUPPORT");throw new Error(gR.hasOwnProp(iT,t)?"Adapter '".concat(t,"' is not available in the build"):"Unknown adapter '".concat(t,"'"))}if(!gR.isFunction(r))throw new TypeError("adapter is not a function");return r};function sT(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new XR(null,e)}function cT(e){return sT(e),e.headers=KR.from(e.headers),e.data=YR.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),oT(e.adapter||UR.adapter)(e).then((function(t){return sT(e),t.data=YR.call(e,e.transformResponse,t),t.headers=KR.from(t.headers),t}),(function(t){return QR(t)||(sT(e),t&&t.response&&(t.response.data=YR.call(e,e.transformResponse,t.response),t.response.headers=KR.from(t.response.headers))),Promise.reject(t)}))}var uT=function(e){return e instanceof KR?e.toJSON():e};function lT(e,t){t=t||{};var r={};function n(e,t,r){return gR.isPlainObject(e)&&gR.isPlainObject(t)?gR.merge.call({caseless:r},e,t):gR.isPlainObject(t)?gR.merge({},t):gR.isArray(t)?t.slice():t}function a(e,t,r){return gR.isUndefined(t)?gR.isUndefined(e)?void 0:n(void 0,e,r):n(e,t,r)}function i(e,t){if(!gR.isUndefined(t))return n(void 0,t)}function o(e,t){return gR.isUndefined(t)?gR.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function s(r,a,i){return i in t?n(r,a):i in e?n(void 0,r):void 0}var c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:function(e,t){return a(uT(e),uT(t),!0)}};return gR.forEach(Object.keys(e).concat(Object.keys(t)),(function(n){var i=c[n]||a,o=i(e[n],t[n],n);gR.isUndefined(o)&&i!==s||(r[n]=o)})),r}var dT="1.3.6",pT={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){pT[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));var fT={};pT.transitional=function(e,t,r){function n(e,t){return"[Axios v1.3.6] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(r,a,i){if(!1===e)throw new wR(n(a," has been removed"+(t?" in "+t:"")),wR.ERR_DEPRECATED);return t&&!fT[a]&&(fT[a]=!0,console.warn(n(a," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,a,i)}};var hT={assertOptions:function(e,t,r){if("object"!==typeof e)throw new wR("options must be an object",wR.ERR_BAD_OPTION_VALUE);for(var n=Object.keys(e),a=n.length;a-- >0;){var i=n[a],o=t[i];if(o){var s=e[i],c=void 0===s||o(s,i,e);if(!0!==c)throw new wR("option "+i+" must be "+c,wR.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new wR("Unknown option "+i,wR.ERR_BAD_OPTION)}},validators:pT},mT=hT.validators,vT=function(){function e(t){Za(this,e),this.defaults=t,this.interceptors={request:new AR,response:new AR}}return Xa(e,[{key:"request",value:function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{};var r,n=t=lT(this.defaults,t),a=n.transitional,i=n.paramsSerializer,o=n.headers;void 0!==a&&hT.assertOptions(a,{silentJSONParsing:mT.transitional(mT.boolean),forcedJSONParsing:mT.transitional(mT.boolean),clarifyTimeoutError:mT.transitional(mT.boolean)},!1),null!=i&&(gR.isFunction(i)?t.paramsSerializer={serialize:i}:hT.assertOptions(i,{encode:mT.function,serialize:mT.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase(),(r=o&&gR.merge(o.common,o[t.method]))&&gR.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete o[e]})),t.headers=KR.concat(r,o);var s=[],c=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(c=c&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));var u,l=[];this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));var d,p=0;if(!c){var f=[cT.bind(this),void 0];for(f.unshift.apply(f,s),f.push.apply(f,l),d=f.length,u=Promise.resolve(t);p<d;)u=u.then(f[p++],f[p++]);return u}d=s.length;var h=t;for(p=0;p<d;){var m=s[p++],v=s[p++];try{h=m(h)}catch(g){v.call(this,g);break}}try{u=cT.call(this,h)}catch(g){return Promise.reject(g)}for(p=0,d=l.length;p<d;)u=u.then(l[p++],l[p++]);return u}},{key:"getUri",value:function(e){return jR(eT((e=lT(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}]),e}();gR.forEach(["delete","get","head","options"],(function(e){vT.prototype[e]=function(t,r){return this.request(lT(r||{},{method:e,url:t,data:(r||{}).data}))}})),gR.forEach(["post","put","patch"],(function(e){function t(t){return function(r,n,a){return this.request(lT(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}vT.prototype[e]=t(),vT.prototype[e+"Form"]=t(!0)}));var gT=vT,yT=function(){function e(t){if(Za(this,e),"function"!==typeof t)throw new TypeError("executor must be a function.");var r;this.promise=new Promise((function(e){r=e}));var n=this;this.promise.then((function(e){if(n._listeners){for(var t=n._listeners.length;t-- >0;)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},t((function(e,t,a){n.reason||(n.reason=new XR(e,t,a),r(n.reason))}))}return Xa(e,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}}],[{key:"source",value:function(){var t;return{token:new e((function(e){t=e})),cancel:t}}}]),e}(),bT=yT;var kT={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(kT).forEach((function(e){var t=rt(e,2),r=t[0],n=t[1];kT[n]=r}));var wT=kT;var _T=function e(t){var r=new gT(t),n=BP(gT.prototype.request,r);return gR.extend(n,gT.prototype,r,{allOwnKeys:!0}),gR.extend(n,r,null,{allOwnKeys:!0}),n.create=function(r){return e(lT(t,r))},n}(UR);_T.Axios=gT,_T.CanceledError=XR,_T.CancelToken=bT,_T.isCancel=QR,_T.VERSION=dT,_T.toFormData=RR,_T.AxiosError=wR,_T.Cancel=_T.CanceledError,_T.all=function(e){return Promise.all(e)},_T.spread=function(e){return function(t){return e.apply(null,t)}},_T.isAxiosError=function(e){return gR.isObject(e)&&!0===e.isAxiosError},_T.mergeConfig=lT,_T.AxiosHeaders=KR,_T.formToJSON=function(e){return FR(gR.isHTMLForm(e)?new FormData(e):e)},_T.HttpStatusCode=wT,_T.default=_T;var ST,xT,CT,PT=_T,RT=["audio","background","cameraaccess","chat","people","embed","emptyRoomInvitation","help","leaveButton","precallReview","screenshare","video","floatSelf","recording","logo","locking","participantCount","settingsButton","pipButton","moreButton","personality","subgridLabels","lowData","breakout"];tx("WherebyEmbed",{oninit:function(){this.iframe=function(e,t){return e?e[t]||(e[t]={current:null}):{current:null}}()},onconnected:function(){window.addEventListener("message",this.onmessage)},ondisconnected:function(){window.removeEventListener("message",this.onmessage)},observedAttributes:["displayName","minimal","room","subdomain","lang","metadata","groups","virtualBackgroundUrl","avatarUrl"].concat(RT).map((function(e){return e.toLowerCase()})),onattributechanged:function(e){var t=e.attributeName,r=e.oldValue;["room","subdomain"].includes(t)&&null==r||this.render()},style:function(e){return"\n    ".concat(e," {\n      display: block;\n    }\n    ").concat(e," iframe {\n      border: none;\n      height: 100%;\n      width: 100%;\n    }\n    ")},_postCommand:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(this.iframe.current){var r=new URL(this.room,"https://".concat(this.subdomain,".whereby.com"));this.iframe.current.contentWindow.postMessage({command:e,args:t},r.origin)}},startRecording:function(){this._postCommand("start_recording")},stopRecording:function(){this._postCommand("stop_recording")},toggleCamera:function(e){this._postCommand("toggle_camera",[e])},toggleMicrophone:function(e){this._postCommand("toggle_microphone",[e])},toggleScreenshare:function(e){this._postCommand("toggle_screenshare",[e])},onmessage:function(e){var t=e.origin,r=e.data;if(t===new URL(this.room,"https://".concat(this.subdomain,".whereby.com")).origin){var n=r.type,a=r.payload;this.dispatchEvent(new CustomEvent(n,{detail:a}))}},render:function(){var e=this,t=this.avatarurl,r=this.displayname,n=this.lang,a=this.metadata,i=this.minimal,o=this.room,s=this.groups,c=this.virtualbackgroundurl;if(!o)return this.html(ST||(ST=f(["Whereby: Missing room attribute."])));var l=/https:\/\/([^.]+)\.whereby.com\/.+/.exec(o),d=l&&l[1]||this.subdomain;if(!d)return this.html(xT||(xT=f(["Whereby: Missing subdomain attr."])));var p=new URL(o,"https://".concat(d,".whereby.com"));return Object.entries(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({jsApi:!0,we:"2.0.0-alpha8",iframeSource:d},r&&{displayName:r}),n&&{lang:n}),a&&{metadata:a}),s&&{groups:s}),c&&{virtualBackgroundUrl:c}),t&&{avatarUrl:t}),null!=i&&{embed:i}),RT.reduce((function(t,r){return null!=e[r.toLowerCase()]?Object.assign(Object.assign({},t),u({},r,e[r.toLowerCase()])):t}),{}))).forEach((function(e){var t=rt(e,2),r=t[0],n=t[1];p.searchParams.has(r)||"string"!==typeof n||p.searchParams.set(r,n)})),this.html(CT||(CT=f(["\n        <iframe\n            ref=","\n            src=",'\n            allow="autoplay; camera; microphone; fullscreen; speaker; display-capture" />\n        '])),this.iframe,p)}});var TT=function(e){var t=e.muted,r=e.stream,n=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["muted","stream"]),a=(0,h.useRef)(null);return(0,h.useEffect)((function(){a.current&&(a.current.srcObject!==r&&(a.current.srcObject=r),a.current.muted!==t&&(a.current.muted=Boolean(t)))}),[t,r,a]),h.createElement("video",Object.assign({ref:a,autoPlay:!0,playsInline:!0},n))},ET=function(e){ti(r,e);var t=ii(r);function r(e){var n;return Za(this,r),(n=t.call(this))._constraints=e,n.stream=new MediaStream,n._rtcManagers=[],navigator.mediaDevices.addEventListener("devicechange",n._updateDeviceList.bind(ai(n))),n}return Xa(r,[{key:"addRtcManager",value:function(e){this._rtcManagers.push(e)}},{key:"removeRtcManager",value:function(e){this._rtcManagers=this._rtcManagers.filter((function(t){return t!==e}))}},{key:"getCameraDeviceId",value:function(){var e;return null===(e=this.stream.getVideoTracks()[0])||void 0===e?void 0:e.getSettings().deviceId}},{key:"getMicrophoneDeviceId",value:function(){var e;return null===(e=this.stream.getAudioTracks()[0])||void 0===e?void 0:e.getSettings().deviceId}},{key:"isCameraEnabled",value:function(){var e;return!!(null===(e=this.stream.getVideoTracks()[0])||void 0===e?void 0:e.enabled)}},{key:"isMicrophoneEnabled",value:function(){var e;return!!(null===(e=this.stream.getAudioTracks()[0])||void 0===e?void 0:e.enabled)}},{key:"toggleCameraEnabled",value:function(e){var t=this.stream.getVideoTracks()[0];if(t){var r=null!==e&&void 0!==e?e:!t.enabled;t.enabled=r,this.dispatchEvent(new CustomEvent("camera_enabled",{detail:{enabled:r}}))}}},{key:"toggleMichrophoneEnabled",value:function(e){var t=this.stream.getAudioTracks()[0];if(t){var r=null!==e&&void 0!==e?e:!t.enabled;t.enabled=r,this.dispatchEvent(new CustomEvent("microphone_enabled",{detail:{enabled:r}}))}}},{key:"setCameraDevice",value:function(e){return ix(this,void 0,void 0,lw().mark((function t(){var r,n,a;return lw().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,navigator.mediaDevices.getUserMedia({video:{deviceId:e}});case 2:r=t.sent,(n=r.getVideoTracks()[0])&&(a=this.stream.getVideoTracks()[0],n.enabled=a.enabled,null===a||void 0===a||a.stop(),this._rtcManagers.forEach((function(e){e.replaceTrack(a,n)})),this.stream.removeTrack(a),this.stream.addTrack(n)),this.dispatchEvent(new CustomEvent("stream_updated",{detail:{stream:this.stream}}));case 6:case"end":return t.stop()}}),t,this)})))}},{key:"setMicrophoneDevice",value:function(e){return ix(this,void 0,void 0,lw().mark((function t(){var r,n,a;return lw().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,navigator.mediaDevices.getUserMedia({audio:{deviceId:e}});case 2:r=t.sent,n=r.getAudioTracks()[0],(a=this.stream.getAudioTracks()[0])&&(n.enabled=a.enabled,a.stop(),this.stream.removeTrack(a)),this._rtcManagers.forEach((function(e){e.replaceTrack(a,n)})),this.stream.addTrack(n),this.dispatchEvent(new CustomEvent("stream_updated",{detail:{stream:this.stream}}));case 9:case"end":return t.stop()}}),t,this)})))}},{key:"_updateDeviceList",value:function(){return ix(this,void 0,void 0,lw().mark((function e(){var t;return lw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.mediaDevices.enumerateDevices();case 3:t=e.sent,this.dispatchEvent(new CustomEvent("device_list_updated",{detail:{cameraDevices:t.filter((function(e){return"videoinput"===e.kind})),microphoneDevices:t.filter((function(e){return"audioinput"===e.kind})),speakerDevices:t.filter((function(e){return"audiooutput"===e.kind}))}})),e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(0),this.dispatchEvent(new CustomEvent("device_list_update_error",{detail:{error:e.t0}})),e.t0;case 11:case"end":return e.stop()}}),e,this,[[0,7]])})))}},{key:"start",value:function(){return ix(this,void 0,void 0,lw().mark((function e(){var t=this;return lw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.getUserMedia(this._constraints);case 2:return e.sent.getTracks().forEach((function(e){return t.stream.addTrack(e)})),this._updateDeviceList(),this.dispatchEvent(new CustomEvent("stream_updated",{detail:{stream:this.stream}})),e.abrupt("return",this.stream);case 7:case"end":return e.stop()}}),e,this)})))}},{key:"stop",value:function(){var e;null===(e=this.stream)||void 0===e||e.getTracks().forEach((function(e){e.stop()}))}}]),r}(EventTarget),OT={cameraDeviceError:null,cameraDevices:[],isSettingCameraDevice:!1,isSettingMicrophoneDevice:!1,isStarting:!1,microphoneDeviceError:null,microphoneDevices:[],speakerDevices:[],startError:null};function DT(e,t){switch(t.type){case"DEVICE_LIST_UPDATED":return Object.assign(Object.assign({},e),t.payload);case"LOCAL_STREAM_UPDATED":return Object.assign(Object.assign({},e),{currentCameraDeviceId:t.payload.currentCameraDeviceId,currentMicrophoneDeviceId:t.payload.currentMicrophoneDeviceId,localStream:t.payload.stream});case"SET_CAMERA_DEVICE":return Object.assign(Object.assign({},e),{cameraDeviceError:null,isSettingCameraDevice:!0});case"SET_CAMERA_DEVICE_COMPLETE":return Object.assign(Object.assign({},e),{isSettingCameraDevice:!1});case"SET_CAMERA_DEVICE_ERROR":return Object.assign(Object.assign({},e),{cameraDeviceError:t.payload,isSettingCameraDevice:!1});case"SET_MICROPHONE_DEVICE":return Object.assign(Object.assign({},e),{isSettingMicrophoneDevice:!0,microphoneDeviceError:null});case"SET_MICROPHONE_DEVICE_COMPLETE":return Object.assign(Object.assign({},e),{isSettingMicrophoneDevice:!1});case"SET_MICROPHONE_DEVICE_ERROR":return Object.assign(Object.assign({},e),{isSettingMicrophoneDevice:!1,microphoneDeviceError:t.payload});case"START":return Object.assign(Object.assign({},e),{isStarting:!0,startError:null});case"START_COMPLETE":return Object.assign(Object.assign({},e),{isStarting:!1});case"START_ERROR":return Object.assign(Object.assign({},e),{isStarting:!1,startError:t.payload});default:return e}}var MT="client_connection_status_changed",jT="stream_added",IT="rtc_manager_created",AT="rtc_manager_destroyed",LT="local_stream_track_added",NT="local_stream_track_removed",FT="connecting",BT="connection_failed",zT="connection_successful",UT="connection_disconnected",VT="fetch_mediaserver_config",WT="start_screenshare",qT="stop_screenshare",HT="mediaserver_config",$T="room_joined",GT="ice_candidate",KT="ice_endofcandidates",YT="ready_to_receive_offer",QT="sdp_answer",JT="sdp_offer",XT=function(){function e(t,r){var n=this;Za(this,e),r&&!r.transports&&(r.transports=["websocket"]),this._socket=PP(t,r),this._socket.io.on("reconnect",(function(){n._socket.sendBuffer=[]})),this._socket.io.on("reconnect_attempt",(function(){n._wasConnectedUsingWebsocket?(n._socket.io.opts.transports=["websocket"],"safari"!==cC.browserDetails.browser&&delete n._wasConnectedUsingWebsocket):n._socket.io.opts.transports=["polling","websocket"]})),this._socket.on("connect",(function(){"websocket"===n.getTransport()&&(n._wasConnectedUsingWebsocket=!0)}))}return Xa(e,[{key:"connect",value:function(){this.isConnected()||this.isConnecting()||this._socket.open()}},{key:"disconnect",value:function(){this._socket.disconnect()}},{key:"disconnectOnConnect",value:function(){var e=this;this._socket.once("connect",(function(){e._socket.disconnect()}))}},{key:"emit",value:function(){this._socket.emit.apply(this._socket,arguments)}},{key:"emitIfConnected",value:function(e,t){this.isConnected()&&this.emit(e,t)}},{key:"getTransport",value:function(){return this._socket&&this._socket.io&&this._socket.io.engine&&this._socket.io.engine.transport&&this._socket.io.engine.transport.name}},{key:"getManager",value:function(){return this._socket.io}},{key:"isConnecting",value:function(){return this._socket&&this._socket.connecting}},{key:"isConnected",value:function(){return this._socket&&this._socket.connected}},{key:"on",value:function(e,t){var r=this;return this._socket.on(e,t),function(){r._socket.off(e,t)}}},{key:"once",value:function(e,t){this._socket.once(e,t)}},{key:"off",value:function(e,t){this._socket.off(e,t)}}]),e}(),ZT="connection_blocked_by_network",eE="dominant_speaker",tE=cC.browserDetails.browser,rE=cC.browserDetails.version;function nE(e,t){var r=e.match(/a=ssrc-group:FID (\d+) (\d+)\r\n/),n=t.match(/a=ssrc-group:FID (\d+) (\d+)\r\n/);r||(r=e.match(/a=ssrc:(\d+) cname:(.*)\r\n/g)[1].match(/a=ssrc:(\d+)/),n=t.match(/a=ssrc:(\d+) cname:(.*)\r\n/g)[1].match(/a=ssrc:(\d+)/));for(var a=1;a<r.length;a++)t=t.replace(new RegExp(n[a],"g"),r[a]);return t}function aE(e){return"firefox"!==tE?e:Jx.splitLines(e.trim()).map((function(e){return e.startsWith("a=msid-semantic:")?"a=msid-semantic: WMS *":e})).join("\r\n")+"\r\n"}var iE=console;function oE(e,t){var r=e.getSenders().find((function(e){return e.track&&"video"===e.track.kind}));if(!r)return Promise.resolve();var n=r.getParameters();return n.encodings&&0===n.encodings.length?Promise.resolve():(n.encodings||(n.encodings=[{}]),0===t?delete n.encodings[0].maxBitrate:n.encodings[0].maxBitrate=1e3*t,r.setParameters(n).catch((function(e){iE.error("setParameters err: ",e)})))}var sE=console,cE=function(){function e(t){var r=this,n=t.peerConnectionId,a=t.bandwidth,i=t.maximumTurnBandwidth,o=t.deprioritizeH264Encoding;Za(this,e),this.peerConnectionId=n,this.relayCandidateSeen=!1,this.pc=null,this.wasEverConnected=!1,this.connectionStatus=null,this.stats={totalSent:0,totalRecv:0},this.bandwidth=a||0,this.maximumTurnBandwidth=i,this.pending=[],this.isOperationPending=!1,this.streamIds=[],this.streams=[],this.earlyIceCandidates=[],this.afterConnected=new Promise((function(e){r.registerConnected=e})),this.offerOptions={offerToReceiveAudio:!0,offerToReceiveVideo:!0},this._deprioritizeH264Encoding=o}return Xa(e,[{key:"setAndGetPeerConnection",value:function(e){var t=this,r=e.clientId,n=e.constraints,a=e.peerConnectionConfig,i=e.shouldAddLocalVideo;return this.peerConnectionConfig=a,this.shouldAddLocalVideo=i,this.clientId=r,this.pc=new RTCPeerConnection(a,n),this.signalingState=this.pc.signalingState,this.pc.addEventListener("signalingstatechange",(function(){if(t.signalingState!==t.pc.signalingState&&(t.signalingState=t.pc.signalingState,"stable"===t.pc.signalingState)){t.isOperationPending=!1;var e=t.pending.shift();e&&e.apply()}})),this.pc}},{key:"addStream",value:function(e){var t=this;this.streamIds.push(e.id),this.streams.push(e),RTCPeerConnection.prototype.addTrack?(e.getAudioTracks().forEach((function(r){t.pc.addTrack(r,e)})),e.getVideoTracks().forEach((function(r){t.pc.addTrack(r,e)}))):this.pc.addStream(e)}},{key:"addTrack",value:function(e,t){t||(t=this.streams[0]),t.addTrack(e),this.pc.addTrack(e,t)}},{key:"removeTrack",value:function(e){this.streams[0].removeTrack(e);var t=this.pc.getSenders().find((function(t){return t.track===e}));t&&this.pc.removeTrack(t)}},{key:"removeStream",value:function(e){for(var t=this,r=0;r<this.streamIds.length;r++)this.streamIds[r]===e.id&&(this.streamIds.splice(r,1),this.streams.splice(r,1));this.pc&&(this.pc.removeTrack?e.getTracks().forEach((function(e){var r=t.pc.getSenders().find((function(t){return t.track===e}));r&&t.pc.removeTrack(r)})):this.pc.removeStream&&this.pc.removeStream(e))}},{key:"_setRemoteDescription",value:function(e){var t,r=this;return this._deprioritizeH264Encoding&&(e.sdp=(t=e.sdp,Jx.splitSections(t).map((function(e){if("video"!==Jx.getKind(e))return e;var t=Jx.matchPrefix(e,"a=rtpmap:").map((function(e){return Jx.parseRtpMap(e)})).filter((function(e){return/h264/i.test(e.name)})).map((function(e){return""+e.payloadType}));if(!t.length)return e;var r=Jx.matchPrefix(e,"m=video")[0],n=/(\s\d+)+$/i.exec(r)[0],a=n.split(" ").filter((function(e){return e&&!t.includes(e)})),i=[].concat(pt(a),pt(t)).join(" "),o=r.replace(n," "+i);return e.replace(r,o)})).join(""))),this.srdComplete=this.pc.setRemoteDescription(e),this.srdComplete.then((function(){r.earlyIceCandidates.forEach((function(e){return r.pc.addIceCandidate(e)})),r.earlyIceCandidates=[]}))}},{key:"handleOffer",value:function(e){var t=this;if(!this.canModifyPeerConnection())return new Promise((function(r){t.pending.push((function(){return t.handleOffer(e).then(r)}))}));this.isOperationPending=!0;var r=e.sdp;r=function(e){return"safari"!==tE&&("firefox"!==tE||rE>=63||60===rE)?e:Jx.splitLines(e.trim()).filter((function(e){return!e.startsWith("a=extmap:")||"urn:ietf:params:rtp-hdrext:sdes:mid"!==Jx.parseExtmap(e).uri})).join("\r\n")+"\r\n"}(r),r=aE(r);var n,a={type:e.type,sdp:r};return this._setRemoteDescription(a).then((function(){return t.pc.createAnswer()})).then((function(e){return n=e,t.pc.setLocalDescription(e)})).then((function(){return oE(t.pc,t.bandwidth)})).then((function(){return n}))}},{key:"handleAnswer",value:function(e){var t=this;if(this.pendingOffer){var r=this.pendingOffer;return delete this.pendingOffer,this.pc.setLocalDescription(r).then((function(){return t.handleAnswer(e)}))}var n=e.sdp;n=aE(n);var a={type:e.type,sdp:n};return this._setRemoteDescription(a).then((function(){return oE(t.pc,t.bandwidth)}),(function(e){sE.warn("Could not set remote description from remote answer: ",e)}))}},{key:"addIceCandidate",value:function(e){var t=this;this.srdComplete?this.srdComplete.then((function(){"closed"!==t.pc.signalingState&&("safari"===cC.browserDetails.browser&&e&&""===e.candidate||t.pc.addIceCandidate(e).catch((function(t){sE.warn("Failed to add ICE candidate ('%s'): %s",e?e.candidate:null,t)})))})):this.earlyIceCandidates.push(e)}},{key:"canModifyPeerConnection",value:function(){return"stable"===this.pc.signalingState&&!this.isOperationPending}},{key:"close",value:function(){var e=this.pc;if(e){e.oniceconnectionstatechange=null,e.onicecandidate=null,e.ontrack=null;try{e.close()}catch(t){console.warn("failures during close of session",t)}}}},{key:"hasConnectedPeerConnection",value:function(){return this.pc&&"connected"===this.pc.connectionState}},{key:"replaceTrack",value:function(e,t){var r=this,n=this.pc;if(!n)return!1;var a=n.getSenders();function i(r){var n=function(e){return e&&"id:".concat(e.id,",kind:").concat(e.kind,",state:").concat(e.readyState)};sE.warn("".concat(r,". newTrack:").concat(n(t),", oldTrack:").concat(n(e),", sender tracks: ").concat(JSON.stringify(a.map((function(e){return"s ".concat(n(e.track))}))),", sender first codecs: ").concat(JSON.stringify(a.map((function(e){return(e.getParameters().codecs||[])[0]})))))}if(a.length||i("No senders!"),e||(e=(a.find((function(e){return e.track&&e.track.kind===t.kind}))||{}).track)||i("No sender with same kind! Add new track then."),window.RTCRtpSender&&window.RTCRtpSender.prototype.replaceTrack){if(e){var o=function(){for(var r=0;r<a.length;r++){var n=a[r],o=n.track;if(n||o||i("One of the tracks is null!"),o.id===t.id)return Promise.resolve(t);if(o.id===e.id)return a[r].replaceTrack(t)}return null},s=o();if(s)return s;var c=null,u=null;s=new Promise((function(e,t){c=e,u=t}));var l=0,d=setInterval(uw(lw().mark((function e(){var t,r;return lw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o()){e.next=4;break}return 3<++l&&(clearInterval(d),d=null,i("No sender track to replace"),u("No sender track to replace")),e.abrupt("return");case 4:return clearInterval(d),d=null,e.next=8,t;case 8:r=e.sent,c(r);case 10:case"end":return e.stop()}}),e)}))),1e3);return s}var p=this.streams.find((function(e){return e.getTracks().find((function(e){return e.id===t.id}))}))||this.streams[0];return p?n.addTrack(t,p):(i("No stream?"),Promise.reject(new Error("replaceTrack: No stream?")))}if(this.canModifyPeerConnection()){this.isOperationPending=!0;var f=n.onnegotiationneeded;return n.onnegotiationneeded=null,this.removeTrack(e),this.addTrack(t),setTimeout((function(){n.onnegotiationneeded=f}),0),"offer"===n.localDescription.type?n.createOffer().then((function(e){return e.sdp=nE(n.localDescription.sdp,e.sdp),n.setLocalDescription(e)})).then((function(){return r._setRemoteDescription(n.remoteDescription)})):this._setRemoteDescription(n.remoteDescription).then((function(){return n.createAnswer()})).then((function(e){return e.sdp=nE(n.localDescription.sdp,e.sdp),n.setLocalDescription(e)}))}this.pending.push((function(){r.replaceTrack(e,t)}))}},{key:"maybeRestrictRelayBandwidth",value:function(){var e,t=this;this.pc.getStats&&(e=this.pc,e.getStats(null).then((function(e){var t,r;return e.forEach((function(n){if("transport"===n.type&&n.selectedCandidatePairId){var a=e.get(n.selectedCandidatePairId);if(!a)return;return t=e.get(a.localCandidateId).candidateType,void(r=e.get(a.remoteCandidateId).candidateType)}"candidate-pair"===n.type&&n.selected&&(t=e.get(n.localCandidateId).candidateType,r=e.get(n.remoteCandidateId).candidateType)})),"relay"===t||"relayed"===t||"relay"===r||"relayed"===r}))).then((function(e){e&&0===t.bandwidth&&t.changeBandwidth(t.maximumTurnBandwidth)}))}},{key:"changeBandwidth",value:function(e){var t=this;e!==this.bandwidth&&(this.canModifyPeerConnection()?(this.bandwidth=e,this.pc.localDescription&&""!==this.pc.localDescription.type&&oE(this.pc,this.bandwidth)):this.pending.push((function(){return t.changeBandwidth(e)})))}}]),e}(),uE="0",lE=console,dE=cC.browserDetails.browser,pE=cC.browserDetails.version,fE=function(){function e(t){var r=t.selfId,n=t.room,a=t.emitter,i=t.serverSocket,o=t.webrtcProvider,s=t.features;Za(this,e),TP.ok(r,"selfId is required"),TP.ok(n,"room is required"),TP.ok(a&&a.emit,"emitter is required"),TP.ok(i instanceof XT,"serverSocket is required"),TP.ok(o,"webrtcProvider is required");var c=n.name,u=n.session,l=n.iceServers,d=n.sfuServer,p=n.mediaserverConfigTtlSeconds;this._selfId=r,this._roomName=c,this._roomSessionId=u&&u.id,this.peerConnections={},this.localStreams={},this.enabledLocalStreamIds=[],this._socketListenerDeregisterFunctions=[],this._emitter=a,this._serverSocket=i,this._webrtcProvider=o,this._features=s||{},this.offerOptions={offerToReceiveAudio:!0,offerToReceiveVideo:!0},this._pendingActionsForConnectedPeerConnections=[],this._updateAndScheduleMediaServersRefresh({sfuServer:d,iceServers:l.iceServers||[],mediaserverConfigTtlSeconds:p})}return Xa(e,[{key:"numberOfPeerconnections",value:function(){return Object.keys(this.peerConnections).length}},{key:"numberOfRemotePeers",value:function(){var e=this;return Object.values(this.peerConnections).filter((function(t){return t.clientId!==e._selfId})).length}},{key:"_setConnectionStatus",value:function(e,t,r){var n=this,a=e.connectionStatus;a!==t&&e.peerConnectionId!==this._selfId&&(a===UT&&t===FT||(e.connectionStatus=t,setTimeout((function(){n._emit(MT,{streamIds:e.streamIds,clientId:r,status:t,previous:a})}),0)))}},{key:"_emitServerEvent",value:function(e,t,r){this._serverSocket.emit(e,t,r)}},{key:"_emit",value:function(e,t){this._emitter.emit(e,t)}},{key:"isInitializedWith",value:function(e){var t=e.selfId,r=e.roomName,n=e.isSfu;return this._selfId===t&&this._roomName===r&&n===!!this._sfuServer}},{key:"supportsScreenShareAudio",value:function(){return!0}},{key:"_addEnabledLocalStreamId",value:function(e){this.enabledLocalStreamIds.push(e)}},{key:"_deleteEnabledLocalStreamId",value:function(e){var t=this.enabledLocalStreamIds.indexOf(e);-1!==t&&this.enabledLocalStreamIds.splice(t,1)}},{key:"_getSession",value:function(e){return e in this.peerConnections?this.peerConnections[e]:null}},{key:"_getOrCreateSession",value:function(e,t){var r=this.peerConnections[e];if(void 0===r){var n="safari"===dE&&pE>=14&&this._features.deprioritizeH264OnSafari;this.peerConnections[e]=r=new cE({peerConnectionId:e,bandwidth:t,maximumTurnBandwidth:this._features.restrictBandwidthWhenUsingRelay?512:768,deprioritizeH264Encoding:n})}return r}},{key:"_getLocalCameraStream",value:function(){return this.localStreams[uE]}},{key:"_getNonLocalCameraStreamIds",value:function(){return Object.keys(this.localStreams).filter((function(e){return e!==uE}))}},{key:"_isScreensharingLocally",value:function(){return this._getNonLocalCameraStreamIds().length>0}},{key:"_getFirstLocalNonCameraStream",value:function(){var e=this._getNonLocalCameraStreamIds();return 0===e.length?null:this.localStreams[e[0]]}},{key:"_transformIncomingSdp",value:function(e){return{type:e.type,sdp:e.sdpU}}},{key:"_transformOutgoingSdp",value:function(e){return{type:e.type,sdpU:e.sdp}}},{key:"_createSession",value:function(e){var t=this,r=e.clientId,n=e.initialBandwidth,a=e.isOfferer,i=e.peerConnectionId,o=e.shouldAddLocalVideo;if(!i)throw new Error("peerConnectionId is missing");if(!r)throw new Error("clientId is missing");var s=this._getOrCreateSession(i,n),c={optional:[]};"chrome"===dE&&c.optional.push({googCpuOveruseDetection:!0});var u={iceServers:this._iceServers};if(this._features.turnServerOverrideHost){var l=this._features.turnServerOverrideHost,d=l.indexOf(":")>0?"":":443",p=":"+l+d;u.iceServers=u.iceServers.map((function(e){var t=Object.assign({},e);return t.url&&(t.url=t.url.replace(/:[^?]*/,p)),t.urls&&(t.urls=t.urls.map((function(e){return e.replace(/:[^?]*/,p)}))),t}))}if(this._features.useOnlyTURN){u.iceTransportPolicy="relay";var f={onlyudp:/^turn:.*transport=udp$/,onlytcp:/^turn:.*transport=tcp$/,onlytls:/^turns:.*transport=tcp$/}[this._features.useOnlyTURN];f&&(u.iceServers=u.iceServers.filter((function(e){return e.url&&e.url.match(f)})))}"chrome"===dE&&(u.sdpSemantics="unified-plan");var h=s.setAndGetPeerConnection({constraints:c,peerConnectionConfig:u,shouldAddLocalVideo:o,clientId:r});h.ontrack=function(e){var n=e.streams[0];"default"===n.id&&0===n.getAudioTracks().length||-1===s.streamIds.indexOf(n.id)&&(s.streamIds.push(n.id),t._emit(jT,{clientId:r,stream:n}),s.connectionStatus===zT&&setTimeout((function(){t._emit(MT,{streamIds:s.streamIds,clientId:r,status:s.connectionStatus,previous:FT})}),0))},h.oniceconnectionstatechange=function(){var e,n=s.connectionStatus;switch(h.iceConnectionState){case"checking":e=FT;break;case"connected":case"completed":e=zT,s.wasEverConnected||(t._pendingActionsForConnectedPeerConnections.forEach((function(e){"function"===typeof e&&e()})),t._pendingActionsForConnectedPeerConnections=[]),!s.wasEverConnected&&(h.iceConnectionState.match(/connected|completed/)||"chrome"===dE&&h.localDescription&&"answer"===h.localDescription.type)&&(s.wasEverConnected=!0,"false"!==t._features.bandwidth&&t.maybeRestrictRelayBandwidth(s)),s.registerConnected();break;case"disconnected":e=UT,setTimeout((function(){"disconnected"===h.iceConnectionState&&t._maybeRestartIce(r,s)}),2e3);break;case"failed":n!==(e=BT)&&t._maybeRestartIce(r,s),null!==s.relayCandidateSeen||s.wasEverConnected||t._emit(ZT);break;default:return}t._setConnectionStatus(s,e,r)},h.onconnectionstate=function(){switch(h.connectionState){case"connected":s.registerConnected();break;case"failed":var e=BT;null!==s.relayCandidateSeen||s.wasEverConnected||t._emit(ZT),t._setConnectionStatus(s,e,r)}};var m=this.localStreams[uE];return o&&m&&s.addStream(m),o&&Object.keys(this.localStreams).forEach((function(e){if(e!==uE){var r=t.localStreams[e];a?s.addStream(r):s.afterConnected.then((function(){t._emitServerEvent(WT,{receiverId:s.clientId,streamId:r.id,hasAudioTrack:!!r.getAudioTracks().length}),t._withForcedRenegotiation(s,(function(){return s.addStream(r)}))}))}})),s}},{key:"_cleanup",value:function(e){var t=this._getSession(e);t?(t.close(),delete this.peerConnections[e]):lE.warn("No RTCPeerConnection in RTCManager.disconnect()",e)}},{key:"_forEachPeerConnection",value:function(e){var t=this;Object.keys(this.peerConnections).forEach((function(r){var n=t.peerConnections[r];e(n)}))}},{key:"_addStreamToPeerConnections",value:function(e){var t=this;this._forEachPeerConnection((function(r){t._withForcedRenegotiation(r,(function(){return r.addStream(e)}))}))}},{key:"_addTrackToPeerConnections",value:function(e,t){var r=this;this._forEachPeerConnection((function(n){r._withForcedRenegotiation(n,(function(){return n.addTrack(e,t)}))}))}},{key:"_replaceTrackToPeerConnections",value:function(e,t){var r=this,n=[];return this._forEachPeerConnection((function(a){if(a.hasConnectedPeerConnection()){var i=a.replaceTrack(e,t);i?n.push(i):lE.error("replaceTrack returned false!")}else{lE.log("Session doesn't have a connected PeerConnection, adding pending action!");var o=r._pendingActionsForConnectedPeerConnections;if(!o)return void lE.warn("No pending action is created to repalce track, because the pending actions array is null");var s=new Promise((function(r,n){o.push((function(){var i=a.replaceTrack(e,t);if(!i)return lE.error("replaceTrack returned false!"),void n("ReplaceTrack returned false");i.then((function(e){return r(e)})).catch((function(e){return n(e)}))}))}));n.push(s)}})),Promise.all(n)}},{key:"_removeStreamFromPeerConnections",value:function(e){var t=this;this._forEachPeerConnection((function(r){t._withForcedRenegotiation(r,(function(){return r.removeStream(e)}))}))}},{key:"_removeTrackFromPeerConnections",value:function(e){var t=this;this._forEachPeerConnection((function(r){t._withForcedRenegotiation(r,(function(){return r.removeTrack(e)}))}))}},{key:"_addLocalStream",value:function(e,t){this._addEnabledLocalStreamId(e),this.localStreams[e]=t}},{key:"_removeLocalStream",value:function(e){delete this.localStreams[e],this._deleteEnabledLocalStreamId(e)}},{key:"maybeRestrictRelayBandwidth",value:function(e){e.maybeRestrictRelayBandwidth()}},{key:"addNewStream",value:function(e,t){t!==this.localStreams[e]&&(this._addLocalStream(e,t),e!==uE?this._shareScreen(e,t):this._addStreamToPeerConnections(t))}},{key:"removeStream",value:function(e,t){this._removeLocalStream(e,t)}},{key:"replaceTrack",value:function(e,t){return this._replaceTrackToPeerConnections(e,t)}},{key:"accept",value:function(e){var t=e.clientId,r=e.shouldAddLocalVideo;return this.acceptNewStream({streamId:t,clientId:t,shouldAddLocalVideo:r})}},{key:"disconnectAll",value:function(){var e=this;Object.keys(this.peerConnections).forEach((function(t){e.disconnect(t)})),this.peerConnections={},this._socketListenerDeregisterFunctions.forEach((function(e){e()})),this._socketListenerDeregisterFunctions=[]}},{key:"stopOrResumeAudio",value:function(){}},{key:"stopOrResumeVideo",value:function(){}},{key:"fixChromeAudio",value:function(e){var t=this;if("chrome"===dE){var r=this._getLocalCameraStream(),n=r.getAudioTracks()[0];if(n&&"ended"===n.readyState)return navigator.mediaDevices.getUserMedia({audio:e}).then((function(e){var a=e.getAudioTracks()[0];return a.enabled=n.enabled,r.removeTrack(n),r.addTrack(a),t.replaceTrack(n,a)}))}}},{key:"_updateAndScheduleMediaServersRefresh",value:function(e){var t=this,r=e.iceServers,n=e.sfuServer,a=e.mediaserverConfigTtlSeconds;this._iceServers=r,this._sfuServer=n,this._mediaserverConfigTtlSeconds=a,this._clearMediaServersRefresh(),a&&(this._fetchMediaServersTimer=setTimeout((function(){return t._emitServerEvent(VT)}),1e3*a))}},{key:"_clearMediaServersRefresh",value:function(){this._fetchMediaServersTimer&&(clearTimeout(this._fetchMediaServersTimer),this._fetchMediaServersTimer=null)}},{key:"setupSocketListeners",value:function(){var e=this;this._socketListenerDeregisterFunctions=[function(){return e._clearMediaServersRefresh()},this._serverSocket.on(HT,(function(t){t.error?lE.warn("FETCH_MEDIASERVER_CONFIG failed:",t.error):e._updateAndScheduleMediaServersRefresh(t)})),this._serverSocket.on(YT,(function(t){e._connect(t.clientId)})),this._serverSocket.on(GT,(function(t){var r=e._getSession(t.clientId);r?r.addIceCandidate(t.message):lE.warn("No RTCPeerConnection on ICE_CANDIDATE",t)})),this._serverSocket.on(KT,(function(t){var r=e._getSession(t.clientId);r?r.addIceCandidate(null):lE.warn("No RTCPeerConnection on ICE_END_OF_CANDIDATES",t)})),this._serverSocket.on(JT,(function(t){var r=e._getSession(t.clientId);if(r){var n=e._transformIncomingSdp(t.message,r.pc);r.handleOffer(n).then((function(r){e._emitServerEvent(QT,{receiverId:t.clientId,message:e._transformOutgoingSdp(r)})}))}else lE.warn("No RTCPeerConnection on SDP_OFFER",t)})),this._serverSocket.on(QT,(function(t){var r=e._getSession(t.clientId);if(r){var n=e._transformIncomingSdp(t.message,r.pc);r.handleAnswer(n)}else lE.warn("No RTCPeerConnection on SDP_ANSWER",t)}))]}},{key:"setRoomSessionId",value:function(e){this._roomSessionId=e}}]),e}(),hE=console,mE=cC.browserDetails.browser,vE=function(e){ti(r,e);var t=ii(r);function r(){return Za(this,r),t.apply(this,arguments)}return Xa(r,[{key:"_connect",value:function(e){var t=this._getSession(e),r=t&&t.bandwidth||0;return t?(hE.warn("Replacing peer session",e),this._cleanup(e)):r=this._changeBandwidthForAllClients(!0),t=this._createP2pSession(e,r,!0,!0),this._negotiatePeerConnection(e,t),Promise.resolve(t)}},{key:"_maybeRestartIce",value:function(e,t){var r=t.pc;"disconnected"!==r.iceConnectionState&&"failed"!==r.iceConnectionState||"offer"===r.localDescription.type&&(t.wasEverConnected=!1,t.relayCandidateSeen=!1,this._negotiatePeerConnection(e,t,Object.assign({},this.offerOptions,{iceRestart:!0})))}},{key:"_negotiatePeerConnection",value:function(e,t,r){var n=this;if(t){var a=t.pc;t.canModifyPeerConnection()?(t.isOperationPending=!0,a.createOffer(r||this.offerOptions).then((function(r){n._emitServerEvent(JT,{receiverId:e,message:n._transformOutgoingSdp(r)}),"chrome"===mE&&a.getSenders().filter((function(e){return e.track&&"video"===e.track.kind})).length>=2?t.pendingOffer=r:a.setLocalDescription(r).catch((function(e){hE.warn("RTCPeerConnection.setLocalDescription() failed with local offer",e)}))})).catch((function(e){hE.warn("RTCPeerConnection.createOffer() failed to create local offer",e)}))):t.pending.push((function(){n._negotiatePeerConnection(e,t,r)}))}else hE.warn("No RTCPeerConnection in negotiatePeerConnection()",e)}},{key:"_withForcedRenegotiation",value:function(e,t){var r=e.pc,n=r.onnegotationneeded;r.onnegotiationneeded=null,t(),this._negotiatePeerConnection(e.clientId,e),setTimeout((function(){return r.onnegotiationneeded=n}),0)}},{key:"_changeBandwidthForAllClients",value:function(e){var t=this.numberOfPeerconnections();if(e&&(t+=1),0===t)return 0;t>7&&(t=7);var r=this._features.bandwidth?parseInt(this._features.bandwidth,10):{1:0,2:this._features.highP2PBandwidth?768:384,3:this._features.highP2PBandwidth?512:256,4:192,5:128,6:128,7:64}[t];return void 0===r?0:(this._forEachPeerConnection((function(e){e.changeBandwidth(r)})),r)}},{key:"_createP2pSession",value:function(e,t,r,n){var a=this,i=this._createSession({peerConnectionId:e,clientId:e,initialBandwidth:t,shouldAddLocalVideo:r,isOfferer:n}),o=i.pc,s=this.localStreams[uE];return r&&s&&!s.getVideoTracks().length&&this._stoppedVideoTrack&&o.addTrack(this._stoppedVideoTrack,s),o.onicecandidate=function(t){t.candidate?(i.relayCandidateSeen=i.relayCandidateSeen||"relay"===t.candidate.type,a._emitServerEvent(GT,{receiverId:e,message:t.candidate})):a._emitServerEvent(KT,{receiverId:e})},o.onnegotiationneeded=function(){"new"!==o.iceConnectionState&&i.connectionStatus&&a._negotiatePeerConnection(e,i)},i}},{key:"acceptNewStream",value:function(e){var t=e.streamId,r=e.clientId,n=e.shouldAddLocalVideo,a=this._getSession(r);if(a&&t!==r)return a;var i=a&&a.bandwidth||0;return a?(hE.warn("Replacing peer session",r),this._cleanup(r)):i=this._changeBandwidthForAllClients(!0),a=this._createP2pSession(r,i,n),this._emitServerEvent(YT,{receiverId:r}),a}},{key:"disconnect",value:function(e){var t=this;this._cleanup(e),this._changeBandwidthForAllClients(!1),0===this.numberOfPeerconnections()&&setTimeout((function(){t.numberOfPeerconnections()}),6e4)}},{key:"updateStreamResolution",value:function(){}},{key:"stopOrResumeAudio",value:function(){}},{key:"stopOrResumeVideo",value:function(e,t){var r=this;if("chrome"===mE)if(!1===t)setTimeout((function(){e.getVideoTracks().forEach((function(t){!1===t.enabled&&(t.stop(),e.removeTrack(t),r._emit(NT,{stream:e,track:t}),r._stoppedVideoTrack=t)}))}),5e3);else if(this._features.simplifiedVegaClientOn){var n,a=null===(n=e.getVideoTracks())||void 0===n?void 0:n[0];this._stoppedVideoTrack?(this._replaceTrackToPeerConnections(this._stoppedVideoTrack,a),delete this._stoppedVideoTrack,this._emit(LT,{streamId:e.id,tracks:[a],screenShare:!1})):a||this._addTrackToPeerConnections(a)}else if(0===e.getVideoTracks().length){var i=this._webrtcProvider.getMediaConstraints().video;if(!i)return;navigator.mediaDevices.getUserMedia({video:i}).then((function(t){var n=t.getVideoTracks()[0];e.addTrack(n),r._emit(LT,{streamId:e.id,tracks:[n],screenShare:!1}),r._stoppedVideoTrack?(r._replaceTrackToPeerConnections(r._stoppedVideoTrack,n),delete r._stoppedVideoTrack):r._addTrackToPeerConnections(n)}))}}},{key:"_shareScreen",value:function(e,t){this._emitServerEvent(WT,{streamId:e,hasAudioTrack:!!t.getAudioTracks().length}),this._addStreamToPeerConnections(t)}},{key:"removeStream",value:function(e,t,n){Fy(ri(r.prototype),"removeStream",this).call(this,e,t),this._removeStreamFromPeerConnections(t),this._emitServerEvent(qT,{streamId:e,requestedByClientId:n})}}]),r}(fE),gE=function(){function e(){Za(this,e)}return Xa(e,null,[{key:"parse",value:function(t){var r;try{r=JSON.parse(t)}catch(n){return}if("object"===typeof r&&!Array.isArray(r))return r.request?e._handleRequest(r):r.response?e._handleResponse(r):r.message?e._handleMessage(r):void 0}},{key:"_handleRequest",value:function(e){var t={request:!0};if("string"===typeof e.method&&"number"===typeof e.id)return t.id=e.id,t.method=e.method,t.data=e.data||{},t}},{key:"_handleResponse",value:function(e){var t={response:!0};if("number"===typeof e.id)return t.id=e.id,e.ok?(t.ok=!0,t.data=e.data||{}):(t.ok=!1,t.errorCode=e.errorCode,t.errorReason=e.errorReason),t}},{key:"_handleMessage",value:function(e){var t={message:!0};if("string"===typeof e.method)return t.method=e.method,t.data=e.data||{},t}},{key:"createRequest",value:function(e,t){return{request:!0,id:Math.round(1e7*Math.random()),method:e,data:t||{}}}},{key:"createSuccessResponse",value:function(e,t){return{response:!0,id:e.id,ok:!0,data:t||{}}}},{key:"createErrorResponse",value:function(e,t,r){return{response:!0,id:e.id,errorCode:t,errorReason:r}}},{key:"createMessage",value:function(e,t){return{message:!0,method:e,data:t||{}}}}]),e}(),yE=function(e){ti(r,e);var t=ii(r);function r(e,n){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"whereby-sfu#v4";return Za(this,r),(a=t.call(this)).wsUrl=e,a.protocol=i,a.logger=n,a.sents=new Map,a._setupSocket(),a}return Xa(r,[{key:"_setupSocket",value:function(){this.socket=new WebSocket(this.wsUrl,this.protocol),this.socket.onopen=this._onOpen.bind(this),this.socket.onmessage=this._onMessage.bind(this),this.socket.onclose=this._onClose.bind(this),this.socket.onerror=this._onError.bind(this)}},{key:"_tearDown",value:function(){this.socket.onopen=null,this.socket.onmessage=null,this.socket.onclose=null,this.socket.onerror=null,this.socket=null,this.sents.forEach((function(e){return e.close()})),this.emit("close")}},{key:"close",value:function(){this.socket&&this.socket.close()}},{key:"_onOpen",value:function(){this.logger.log("VegaConnectionManager: Connected"),this.emit("open")}},{key:"_onMessage",value:function(e){var t=gE.parse(e.data);if(!t)return this.logger.log("VegaConnectionManager: Received invalid message",e.data);this.logger.log("VegaConnectionManager: Received message",t),t.response?this._handleResponse(t):t.message&&this.emit("message",t)}},{key:"_onClose",value:function(){this.logger.log("VegaConnectionManager: Disconnected"),this._tearDown()}},{key:"_onError",value:function(e){this.logger.log("VegaConnectionManager: Error",e)}},{key:"_handleResponse",value:function(e){var t=this.sents.get(e.id);if(e.ok)t.resolve(e.data);else{var r=new Error(e.errorReason);t.reject(r)}}},{key:"send",value:function(e){try{this.socket.send(JSON.stringify(e))}catch(t){}}},{key:"message",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=gE.createMessage(e,t);this.send(r)}},{key:"request",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1500*(15+.1*this.sents.size),a=gE.createRequest(e,r);return this.send(a),new Promise((function(e,r){var i={id:a.id,method:a.method,resolve:function(r){t.sents.delete(a.id)&&(clearTimeout(i.timer),e(r))},reject:function(e){t.sents.delete(a.id)&&(clearTimeout(i.timer),r(e))},timer:setTimeout((function(){t.sents.delete(a.id)&&r(new Error("request timeout"))}),n),close:function(){clearTimeout(i.timer),r(new Error("transport closed"))}};t.sents.set(a.id,i)}))}}]),r}(OP.EventEmitter),bE={codecOptions:{opusDtx:!0,opusFec:!0},encodings:[{dtx:!0,networkPriority:"high"}]},kE={codecOptions:{videoGoogleStartBitrate:500},encodings:[{scaleResolutionDownBy:4,maxBitrate:15e4,networkPriority:"high"},{scaleResolutionDownBy:2,maxBitrate:5e5},{scaleResolutionDownBy:1,maxBitrate:1e6}]},wE={codecOptions:{videoGoogleStartBitrate:500},encodings:[{scaleResolutionDownBy:2,maxBitrate:15e4,networkPriority:"high"},{scaleResolutionDownBy:1,maxBitrate:5e5}]},_E={codecOptions:{videoGoogleStartBitrate:500},encodings:[{scalabilityMode:"L3T2_KEY",networkPriority:"high"}]},SE={encodings:[{networkPriority:"medium"}]},xE={encodings:[{scaleResolutionDownBy:2,dtx:!0,maxBitrate:5e5},{scaleResolutionDownBy:1,dtx:!0,maxBitrate:15e5}]},CE={encodings:[{scalabilityMode:"L1T1",dtx:!0,networkPriority:"high"}]},PE=function(e,t,r){var n=r.lowDataModeEnabled,a=r.simulcastScreenshareOn,i=r.vp9On;return"audio"===e?bE:t?i?CE:a?xE:SE:i?_E:n?wE:kE},RE=function(e,t){var r=t.vp9On,n=t.h264On;if(r){var a=e.codecs.find((function(e){return"video/vp9"===e.mimeType.toLowerCase()})).preferredPayloadType,i=e.codecs.find((function(e){return"video/rtx"===e.mimeType.toLowerCase()&&e.parameters.apt===a})).preferredPayloadType;e.codecs=e.codecs.filter((function(e){return"audio"===e.kind||e.preferredPayloadType===a||e.preferredPayloadType===i}))}else if(n){var o=e.codecs.find((function(e){return"video/h264"===e.mimeType.toLowerCase()})).preferredPayloadType,s=e.codecs.find((function(e){return"video/rtx"===e.mimeType.toLowerCase()&&e.parameters.apt===o})).preferredPayloadType;e.codecs=e.codecs.filter((function(e){return"audio"===e.kind||e.preferredPayloadType===o||e.preferredPayloadType===s}))}},TE=function(){var e=(0,EP.detectDevice)()||(/applecoremedia|applewebkit|safari/i.test(navigator.userAgent)?"Safari12":void 0);return/iphone|ipad/i.test(navigator.userAgent)&&(e="Safari12"),e},EE=function(e,t){if(t.useOnlyTURN&&!["off","false","0"].includes(t.useOnlyTURN)){e.iceTransportPolicy="relay";var r={onlyudp:/^turn:.*transport=udp$/,onlytcp:/^turn:.*transport=tcp$/,onlytls:/^turns:.*transport=tcp$/}[t.useOnlyTURN];r&&(e.iceServers=e.iceServers.filter((function(e){return e.url&&e.url.match(r)})))}},OE=console,DE=NP(),ME=NP(),jE=function(){function e(t){var r=t.selfId,n=t.room,a=t.emitter,i=t.serverSocket,o=t.webrtcProvider,s=t.features,c=t.eventClaim;Za(this,e),TP.ok(r,"selfId is required"),TP.ok(n,"room is required"),TP.ok(a&&a.emit,"emitter is required"),TP.ok(o,"webrtcProvider is required");var u=n.session,l=n.iceServers,d=n.sfuServer,p=n.mediaserverConfigTtlSeconds;this._selfId=r,this._room=n,this._roomSessionId=null===u||void 0===u?void 0:u.id,this._emitter=a,this._serverSocket=i,this._webrtcProvider=o,this._features=s||{},this._eventClaim=c,this._vegaConnection=null,this._mediasoupDevice=new EP.Device({handlerName:TE()}),this._routerRtpCapabilities=null,this._sendTransport=null,this._receiveTransport=null,this._clientStates=new Map,this._streamIdToVideoConsumerId=new Map,this._consumers=new Map,this._micTrack=null,this._webcamTrack=null,this._screenVideoTrack=null,this._screenAudioTrack=null,this._micProducer=null,this._micProducerPromise=null,this._micPaused=!1,this._webcamProducer=null,this._webcamProducerPromise=null,this._webcamPaused=!1,this._screenVideoProducer=null,this._screenVideoProducerPromise=null,this._screenAudioProducer=null,this._screenAudioProducerPromise=null,this._sndTransportIceRestartPromise=null,this._rcvTransportIceRestartPromise=null,this._stopCameraTimeout=null,this._updateAndScheduleMediaServersRefresh({sfuServer:d,iceServers:l.iceServers||[],mediaserverConfigTtlSeconds:p}),this._socketListenerDeregisterFunctions=[]}return Xa(e,[{key:"_updateAndScheduleMediaServersRefresh",value:function(e){var t,r,n=this,a=e.iceServers,i=e.sfuServer,o=e.mediaserverConfigTtlSeconds;this._iceServers=a,this._sfuServer=i,this._mediaserverConfigTtlSeconds=o,null===(t=this._sendTransport)||void 0===t||t.updateIceServers({iceServers:this._iceServers}),null===(r=this._receiveTransport)||void 0===r||r.updateIceServers({iceServers:this._iceServers}),this._clearMediaServersRefresh(),o&&(this._fetchMediaServersTimer=setTimeout((function(){return n._emitToSignal(VT)}),1e3*o))}},{key:"_clearMediaServersRefresh",value:function(){this._fetchMediaServersTimer&&(clearTimeout(this._fetchMediaServersTimer),this._fetchMediaServersTimer=null)}},{key:"setupSocketListeners",value:function(){var e=this;this._socketListenerDeregisterFunctions.push((function(){return e._clearMediaServersRefresh()}),this._serverSocket.on(HT,(function(t){t.error?OE.warn("FETCH_MEDIASERVER_CONFIG failed:",t.error):e._updateAndScheduleMediaServersRefresh(t)})),this._serverSocket.on($T,(function(){e._screenVideoTrack&&e._emitScreenshareStarted()}))),this._connect()}},{key:"_emitScreenshareStarted",value:function(){this._emitToSignal(WT,{streamId:ME,hasAudioTrack:Boolean(this._screenAudioTrack)})}},{key:"_connect",value:function(){var e=this,t=this._features.sfuServerOverrideHost||[this._sfuServer.url],r=new URLSearchParams({clientId:this._selfId,organizationId:this._room.organizationId,roomName:this._room.name,eventClaim:this._room.isClaimed?this._eventClaim:null,lowBw:!0}).toString(),n="wss://".concat(t,"?").concat(r);this._vegaConnection=new yE(n,OE),this._vegaConnection.on("open",(function(){return e._join()})),this._vegaConnection.on("close",(function(){return e._onClose()})),this._vegaConnection.on("message",(function(t){return e._onMessage(t)}))}},{key:"_onClose",value:function(){var e,t,r=this;OE.debug("_onClose()"),null===(e=this._sendTransport)||void 0===e||e.close(),null===(t=this._receiveTransport)||void 0===t||t.close(),this._sendTransport=null,this._receiveTransport=null,this._streamIdToVideoConsumerId.clear(),setTimeout((function(){return r._connect()}),1e3)}},{key:"_join",value:function(){var e=uw(lw().mark((function e(){var t,r,n;return lw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return OE.debug("join()"),e.prev=1,e.next=4,this._vegaConnection.request("getCapabilities");case 4:if(t=e.sent,r=t.routerRtpCapabilities,this._routerRtpCapabilities){e.next=11;break}return RE(r,this._features),this._routerRtpCapabilities=r,e.next=11,this._mediasoupDevice.load({routerRtpCapabilities:r});case 11:return this._vegaConnection.message("setCapabilities",{rtpCapabilities:this._mediasoupDevice.rtpCapabilities}),e.next=14,Promise.all([this._createTransport(!0),this._createTransport(!1)]);case 14:return n=[],!this._micTrack||this._micProducer||this._micProducerPromise||n.push(this._internalSendMic()),!this._webcamTrack||this._webcamProducer||this._webcamProducerPromise||n.push(this._internalSendWebcam()),!this._screenVideoTrack||this._screenVideoProducer||this._screenVideoProducerPromise||n.push(this._internalSendScreenVideo()),!this._screenAudioTrack||this._screenAudioProducer||this._screenAudioProducerPromise||n.push(this._internalSendScreenAudio()),e.next=21,Promise.all(n);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(1),OE.error("_join() [error:%o]",e.t0),this._onClose();case 27:case"end":return e.stop()}}),e,this,[[1,23]])})));return function(){return e.apply(this,arguments)}}()},{key:"_createTransport",value:function(){var e=uw(lw().mark((function e(t){var r,n,a,i,o=this;return lw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t?"createSendTransport":"createRecvTransport",e.next=3,this._vegaConnection.request("createTransport",{producing:t,consuming:!t,enableTcp:!0,enableUdp:!0,preferUdp:!0,sctpParameters:{enableSctp:!0,numSctpStreams:{OS:1024,MIS:1024},maxSctpMessageSize:262144,sctpSendBufferSize:262144}});case 3:(n=e.sent).iceServers=this._iceServers,EE(n,this._features),a=this._mediasoupDevice[r](n),i=function(){var e=uw(lw().mark((function e(r){return lw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(OE.debug("Transport ConnectionStateChanged ".concat(r)),"disconnected"===r||"failed"===r){e.next=3;break}return e.abrupt("return");case 3:if(!t){e.next=9;break}if(!o._sndTransportIceRestartPromise){e.next=6;break}return e.abrupt("return");case 6:o._sndTransportIceRestartPromise=o._restartIce(a).finally((function(){o._sndTransportIceRestartPromise=null})),e.next=12;break;case 9:if(!o._rcvTransportIceRestartPromise){e.next=11;break}return e.abrupt("return");case 11:o._rcvTransportIceRestartPromise=o._restartIce(a).finally((function(){o._rcvTransportIceRestartPromise=null}));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.on("connect",(function(e,t){var r,n=e.dtlsParameters;null===(r=o._vegaConnection)||void 0===r||r.message("connectTransport",{transportId:a.id,dtlsParameters:n}),t()})).on("connectionstatechange",i),a.observer.once("close",(function(){a.removeListener(i)})),t?(a.on("produce",function(){var e=uw(lw().mark((function e(t,r,n){var i,s,c,u,l,d,p;return lw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.kind,s=t.rtpParameters,c=t.appData,e.prev=1,l=c.paused,e.next=5,null===(u=o._vegaConnection)||void 0===u?void 0:u.request("produce",{transportId:a.id,kind:i,rtpParameters:s,paused:l,appData:c});case 5:d=e.sent,p=d.id,r({id:p}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),n(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,r,n){return e.apply(this,arguments)}}()),a.on("producedata",function(){var e=uw(lw().mark((function e(t,r,n){var i,s,c,u,l;return lw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.appData,s=t.sctpStreamParameters,e.prev=1,e.next=4,null===(c=o._vegaConnection)||void 0===c?void 0:c.request("produceData",{transportId:a.id,sctpStreamParameters:s,appData:i});case 4:u=e.sent,l=u.id,r({id:l}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),n(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,r,n){return e.apply(this,arguments)}}()),this._sendTransport=a):this._receiveTransport=a;case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_restartIce",value:function(){var e=uw(lw().mark((function e(t){var r,n,a,i,o,s,c=arguments;return lw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.length>1&&void 0!==c[1]?c[1]:0,t&&"closed"in t&&"connectionState"in t){e.next=4;break}return OE.debug("_restartIce: No transport or property closed or connectionState!"),e.abrupt("return");case 4:if(!t.closed){e.next=7;break}return OE.debug("_restartIce: Transport is closed!"),e.abrupt("return");case 7:if("disconnected"===t.connectionState||"failed"===t.connectionState){e.next=10;break}return OE.debug("_restartIce: Connection is healthy ICE restart no loneger needed!"),e.abrupt("return");case 10:if(n=t.appData.iceRestartStarted,a=Date.now(),!(Number.isFinite(n)&&a-n<3500)){e.next=14;break}return e.abrupt("return");case 14:if(t.appData.iceRestartStarted=a,!(5<=r)){e.next=18;break}return OE.debug("_restartIce: Reached restart ICE  maximum retry count!"),e.abrupt("return");case 18:if(this._vegaConnection){e.next=21;break}return OE.debug("_restartIce: Connection is undefined"),e.abrupt("return");case 21:return e.next=23,this._vegaConnection.request("restartIce",{transportId:t.id});case 23:return i=e.sent,o=i.iceParameters,OE.debug("_restartIce: ICE restart iceParameters received from SFU: ",o),e.next=28,t.restartIce({iceParameters:o}).then((function(){return null})).catch((function(e){return e}));case 28:if(!(s=e.sent)){e.next=41;break}OE.error("_restartIce: ICE restart failed: ".concat(s)),e.t0=s.message,e.next="missing transportId"===e.t0||"no such transport"===e.t0?34:35;break;case 34:case 39:return e.abrupt("break",40);case 35:return e.next=37,new Promise((function(e){setTimeout((function(){e()}),Math.min(3500*Math.pow(2,r),6e4))}));case 37:return e.next=39,this._restartIce(t,r+1);case 40:case 46:return e.abrupt("return");case 41:return e.next=43,new Promise((function(e){setTimeout((function(){e()}),6e4*Math.min(8,r+1))}));case 43:if("failed"!==t.connectionState&&"disconnected"!==t.connectionState){e.next=47;break}return e.next=46,this._restartIce(t,r+1);case 47:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_internalSendMic",value:function(){var e=uw(lw().mark((function e(){var t=this;return lw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:OE.debug("_internalSendMic()"),this._micProducerPromise=uw(lw().mark((function e(){var r,n;return lw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t._micTrack&&t._sendTransport&&!t._micProducer){e.next=4;break}return t._micProducerPromise=null,e.abrupt("return");case 4:return r=t._micPaused,e.next=7,t._sendTransport.produce(d(d({track:t._micTrack,disableTrackOnPause:!1,stopTracks:!1},PE("audio",!1,t._features)),{},{appData:{streamId:DE,sourceClientId:t._selfId,screenShare:!1,source:"mic",paused:r}}));case 7:if(n=e.sent,r?n.pause():n.resume(),t._micProducer=n,n.observer.once("close",(function(){var e;OE.debug('micProducer "close" event'),n.appData.localClosed&&(null===(e=t._vegaConnection)||void 0===e||e.message("closeProducers",{producerIds:[n.id]})),t._micProducer=null,t._micProducerPromise=null})),t._micTrack===t._micProducer.track){e.next=14;break}return e.next=14,t._replaceMicTrack();case 14:t._micPaused!==t._micProducer.paused&&t._pauseResumeMic(),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),OE.error("micProducer failed:%o",e.t0);case 20:return e.prev=20,t._micProducerPromise=null,t._micTrack||(t._stopProducer(t._micProducer),t._micProducer=null),e.finish(20);case 24:case"end":return e.stop()}}),e,null,[[0,17,20,24]])})))();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_replaceMicTrack",value:function(){var e=uw(lw().mark((function e(){return lw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(OE.debug("_replaceMicTrack()"),this._micTrack&&this._micProducer&&!this._micProducer.closed){e.next=3;break}return e.abrupt("return");case 3:if(this._micProducer.track===this._micTrack){e.next=8;break}return e.next=6,this._micProducer.replaceTrack({track:this._micTrack});case 6:return e.next=8,this._replaceMicTrack();case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_pauseResumeMic",value:function(){if(OE.debug("_pauseResumeMic()"),this._micProducer&&!this._micProducer.closed&&this._micPaused!==this._micProducer.paused){var e,t;if(this._micPaused)this._micProducer.pause(),null===(e=this._vegaConnection)||void 0===e||e.message("pauseProducers",{producerIds:[this._micProducer.id]});else this._micProducer.resume(),null===(t=this._vegaConnection)||void 0===t||t.message("resumeProducers",{producerIds:[this._micProducer.id]});this._pauseResumeMic()}}},{key:"_sendMic",value:function(){var e=uw(lw().mark((function e(t){return lw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(OE.debug("_sendMic() [track:%o]",t),this._micTrack=t,!this._micProducer){e.next=8;break}return e.next=5,this._replaceMicTrack();case 5:case 13:return e.abrupt("return",e.sent);case 8:if(!this._micProducerPromise){e.next=10;break}return e.abrupt("return");case 10:if(!this._sendTransport){e.next=14;break}return e.next=13,this._internalSendMic();case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_internalSendWebcam",value:function(){var e=uw(lw().mark((function e(){var t=this;return lw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:OE.debug("_internalSendWebcam()"),this._webcamProducerPromise=uw(lw().mark((function e(){var r,n;return lw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t._webcamTrack&&t._sendTransport&&!t._webcamProducer){e.next=4;break}return t._webcamProducerPromise=null,e.abrupt("return");case 4:return r=t._webcamPaused,e.next=7,t._sendTransport.produce(d(d({track:t._webcamTrack,disableTrackOnPause:!1,stopTracks:!1},PE("video",!1,t._features)),{},{appData:{streamId:DE,sourceClientId:t._selfId,screenShare:!1,source:"webcam",paused:r}}));case 7:if(n=e.sent,r?n.pause():n.resume(),t._webcamProducer=n,n.observer.once("close",(function(){var e;OE.debug('webcamProducer "close" event'),n.appData.localClosed&&(null===(e=t._vegaConnection)||void 0===e||e.message("closeProducers",{producerIds:[n.id]})),t._webcamProducer=null,t._webcamProducerPromise=null})),t._webcamTrack===t._webcamProducer.track){e.next=14;break}return e.next=14,t._replaceWebcamTrack();case 14:t._webcamPaused!==t._webcamProducer.paused&&t._pauseResumeWebcam(),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),OE.error("webcamProducer failed:%o",e.t0);case 20:if(e.prev=20,t._webcamProducerPromise=null,t._webcamTrack){e.next=26;break}return e.next=25,t._stopProducer(t._webcamProducer);case 25:t._webcamProducer=null;case 26:return e.finish(20);case 27:case"end":return e.stop()}}),e,null,[[0,17,20,27]])})))();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_replaceWebcamTrack",value:function(){var e=uw(lw().mark((function e(){return lw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(OE.debug("_replaceWebcamTrack()"),this._webcamTrack&&this._webcamProducer&&!this._webcamProducer.closed){e.next=3;break}return e.abrupt("return");case 3:if(this._webcamProducer.track===this._webcamTrack){e.next=8;break}return e.next=6,this._webcamProducer.replaceTrack({track:this._webcamTrack});case 6:return e.next=8,this._replaceWebcamTrack();case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_pauseResumeWebcam",value:function(){if(OE.debug("_pauseResumeWebcam()"),this._webcamProducer&&!this._webcamProducer.closed&&this._webcamPaused!==this._webcamProducer.paused){var e,t;if(this._webcamPaused)this._webcamProducer.pause(),null===(e=this._vegaConnection)||void 0===e||e.message("pauseProducers",{producerIds:[this._webcamProducer.id]});else this._webcamProducer.resume(),null===(t=this._vegaConnection)||void 0===t||t.message("resumeProducers",{producerIds:[this._webcamProducer.id]});this._pauseResumeWebcam()}}},{key:"_sendWebcam",value:function(){var e=uw(lw().mark((function e(t){return lw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(OE.debug("_sendWebcam() [track:%o]",t),this._webcamTrack=t,!this._webcamProducer){e.next=8;break}return e.next=5,this._replaceWebcamTrack();case 5:case 13:return e.abrupt("return",e.sent);case 8:if(!this._webcamProducerPromise){e.next=10;break}return e.abrupt("return");case 10:if(!this._sendTransport){e.next=14;break}return e.next=13,this._internalSendWebcam();case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_internalSendScreenVideo",value:function(){var e=uw(lw().mark((function e(){var t=this;return lw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:OE.debug("_internalSendScreenVideo()"),this._screenVideoProducerPromise=uw(lw().mark((function e(){var r;return lw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t._screenVideoTrack&&t._sendTransport&&!t._screenVideoProducer){e.next=4;break}return t._screenVideoProducerPromise=null,e.abrupt("return");case 4:return e.next=6,t._sendTransport.produce(d(d({track:t._screenVideoTrack,disableTrackOnPause:!1,stopTracks:!1},PE("video",!0,t._features)),{},{appData:{streamId:ME,sourceClientId:t._selfId,screenShare:!0,source:"screenvideo",paused:!1}}));case 6:if(r=e.sent,t._screenVideoProducer=r,r.observer.once("close",(function(){var e;OE.debug('screenVideoProducer "close" event'),r.appData.localClosed&&(null===(e=t._vegaConnection)||void 0===e||e.message("closeProducers",{producerIds:[r.id]})),t._screenVideoProducer=null,t._screenVideoProducerPromise=null})),t._screenVideoTrack===t._screenVideoProducer.track){e.next=12;break}return e.next=12,t._replaceScreenVideoTrack();case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),OE.error("screenVideoProducer failed:%o",e.t0);case 17:if(e.prev=17,t._screenVideoProducerPromise=null,t._screenVideoTrack){e.next=23;break}return e.next=22,t._stopProducer(t._screenVideoProducer);case 22:t._screenVideoProducer=null;case 23:return e.finish(17);case 24:case"end":return e.stop()}}),e,null,[[0,14,17,24]])})))();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_replaceScreenVideoTrack",value:function(){var e=uw(lw().mark((function e(){return lw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(OE.debug("_replaceScreenVideoTrack()"),this._screenVideoTrack&&this._screenVideoProducer&&!this._screenVideoProducer.closed){e.next=3;break}return e.abrupt("return");case 3:if(this._screenVideoProducer.track===this._screenVideoTrack){e.next=8;break}return e.next=6,this._screenVideoProducer.replaceTrack({track:this._screenVideoTrack});case 6:return e.next=8,this._replaceScreenVideoTrack();case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_sendScreenVideo",value:function(){var e=uw(lw().mark((function e(t){return lw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(OE.debug("_sendScreenVideo() [track:%o]",t),this._screenVideoTrack=t,!this._screenVideoProducer){e.next=8;break}return e.next=5,this._replaceScreenVideoTrack();case 5:case 13:return e.abrupt("return",e.sent);case 8:if(!this._screenVideoProducerPromise){e.next=10;break}return e.abrupt("return");case 10:if(!this._sendTransport){e.next=14;break}return e.next=13,this._internalSendScreenVideo();case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_internalSendScreenAudio",value:function(){var e=uw(lw().mark((function e(){var t=this;return lw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:OE.debug("_internalSendScreenAudio()"),this._screenAudioProducerPromise=uw(lw().mark((function e(){var r;return lw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t._screenAudioTrack&&t._sendTransport&&!t._screenAudioProducer){e.next=4;break}return t._screenAudioProducerPromise=null,e.abrupt("return");case 4:return e.next=6,t._sendTransport.produce(d(d({track:t._screenAudioTrack,disableTrackOnPause:!1,stopTracks:!1},PE("video",!0,t._features)),{},{appData:{streamId:ME,sourceClientId:t._selfId,screenShare:!0,source:"screenaudio",paused:!1}}));case 6:if(r=e.sent,t._screenAudioProducer=r,r.observer.once("close",(function(){var e;OE.debug('screenAudioProducer "close" event'),r.appData.localClosed&&(null===(e=t._vegaConnection)||void 0===e||e.message("closeProducers",{producerIds:[r.id]})),t._screenAudioProducer=null,t._screenAudioProducerPromise=null})),t._screenAudioTrack===t._screenAudioProducer.track){e.next=12;break}return e.next=12,t._replaceScreenAudioTrack();case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),OE.error("screenAudioProducer failed:%o",e.t0);case 17:if(e.prev=17,t._screenAudioProducerPromise=null,t._screenAudioTrack){e.next=23;break}return e.next=22,t._stopProducer(t._screenAudioProducer);case 22:t._screenAudioProducer=null;case 23:return e.finish(17);case 24:case"end":return e.stop()}}),e,null,[[0,14,17,24]])})))();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_replaceScreenAudioTrack",value:function(){var e=uw(lw().mark((function e(){return lw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(OE.debug("_replaceScreenAudioTrack()"),this._screenAudioTrack&&this._screenAudioProducer&&!this._screenAudioProducer.closed){e.next=3;break}return e.abrupt("return");case 3:if(this._screenAudioProducer.track===this._screenAudioTrack){e.next=8;break}return e.next=6,this._screenAudioProducer.replaceTrack({track:this._screenAudioTrack});case 6:return e.next=8,this._replaceScreenAudioTrack();case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_sendScreenAudio",value:function(){var e=uw(lw().mark((function e(t){return lw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(OE.debug("_sendScreenAudio() [track:%o]",t),this._screenAudioTrack=t,!this._screenAudioProducer){e.next=8;break}return e.next=5,this._replaceScreenAudioTrack();case 5:case 13:return e.abrupt("return",e.sent);case 8:if(!this._screenAudioProducerPromise){e.next=10;break}return e.abrupt("return");case 10:if(!this._sendTransport){e.next=14;break}return e.next=13,this._internalSendScreenAudio();case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_stopProducer",value:function(e){OE.debug("_stopProducer()"),e&&!e.closed&&(e.appData.localClosed=!0,e.close())}},{key:"isInitializedWith",value:function(e){var t=e.selfId,r=e.roomName,n=e.isSfu;return this._selfId===t&&this._room.name===r&&Boolean(n)}},{key:"setEventClaim",value:function(e){var t;this._eventClaim=e,null===(t=this._vegaConnection)||void 0===t||t.message("eventClaim",{eventClaim:e})}},{key:"setRoomSessionId",value:function(e){this._roomSessionId=e}},{key:"disconnect",value:function(e,t,r){if(OE.debug("disconnect() [clientIdOrStreamId:%s, eventClaim:%s]",e,r),this._clientStates.has(e)){var n=this._clientStates.get(e);n.hasAcceptedWebcamStream=!1,n.hasAcceptedScreenStream=!1,this._syncIncomingStreamsWithPWA(e)}var a;r&&(this._eventClaim=r,null===(a=this._vegaConnection)||void 0===a||a.message("eventClaim",{eventClaim:r}))}},{key:"replaceTrack",value:function(e,t){"audio"===t.kind&&(this._micTrack=t,this._replaceMicTrack()),"video"===t.kind&&(this._webcamTrack=t,this._replaceWebcamTrack())}},{key:"removeStream",value:function(e,t,r){OE.debug("removeStream() [streamId:%s, requestedByClientId:%s]",e,r),this._emitToSignal(qT,{streamId:ME,requestedByClientId:r}),this._stopProducer(this._screenVideoProducer),this._screenVideoProducer=null,this._screenVideoTrack=null,this._stopProducer(this._screenAudioProducer),this._screenAudioProducer=null,this._screenAudioTrack=null}},{key:"addNewStream",value:function(e,t,r,n){if("0"===e){this._micPaused=r,this._webcamPaused=n;var a=t.getVideoTracks()[0],i=t.getAudioTracks()[0];a&&this._sendWebcam(a),i&&this._sendMic(i)}else{var o=t.getVideoTracks()[0],s=t.getAudioTracks()[0];o&&this._sendScreenVideo(o),s&&this._sendScreenAudio(s),this._emitScreenshareStarted()}}},{key:"stopOrResumeAudio",value:function(e,t){OE.debug("stopOrResumeAudio() [enabled:%s]",t),this._micPaused=!t,this._pauseResumeMic()}},{key:"stopOrResumeVideo",value:function(e,t){var r=this;if(OE.debug("stopOrResumeVideo() [enable:%s]",t),this._webcamPaused=!t,this._pauseResumeWebcam(),"chrome"===browserName)if(t){if(0===e.getVideoTracks().length){var n=this._webrtcProvider.getMediaConstraints().video;navigator.mediaDevices.getUserMedia({video:n}).then((function(t){var n=t.getVideoTracks()[0];e.addTrack(n),r._emitToPWA(LT,{streamId:e.id,tracks:[n],screenShare:!1}),r._sendWebcam(n)}))}}else clearTimeout(this._stopCameraTimeout),this._stopCameraTimeout=setTimeout((function(){e.getVideoTracks().forEach((function(t){!1===t.enabled&&(t.stop(),e.removeTrack(t),r._emitToPWA(NT,{stream:e,track:t}),r._webcamProducer&&!r._webcamProducer.closed&&r._webcamProducer.track===t&&(r._stopProducer(r._webcamProducer),r._webcamProducer=null,r._webcamTrack=null))}))}),5e3)}},{key:"supportsScreenShareAudio",value:function(){return!0}},{key:"acceptNewStream",value:function(e){var t=e.streamId,r=e.clientId;OE.debug("acceptNewStream()",{streamId:t,clientId:r});var n=this._getOrCreateClientState(r);t!==r?(n.hasAcceptedScreenStream=!0,n.hasEmittedScreenStream=!1):(n.hasAcceptedWebcamStream=!0,n.hasEmittedWebcamStream=!1),this._syncIncomingStreamsWithPWA(r)}},{key:"updateStreamResolution",value:function(e,t,r){var n=r.width,a=r.height;OE.debug("updateStreamResolution()",{streamId:e,width:n,height:a});var i=this._streamIdToVideoConsumerId.get(e),o=this._consumers.get(i);if(o){var s,c=Math.max(n,a),u=c>=480?c>=960?2:1:0;if(o.appData.spatialLayer!==u)o.appData.spatialLayer=u,null===(s=this._vegaConnection)||void 0===s||s.message("setConsumersPreferredLayers",{consumerIds:[i],spatialLayer:u,temporalLayer:u})}}},{key:"disconnectAll",value:function(){var e,t,r,n;this._socketListenerDeregisterFunctions.forEach((function(e){e()})),this._socketListenerDeregisterFunctions=[],null===(e=this._vegaConnection)||void 0===e||e.removeAllListeners(),null===(t=this._vegaConnection)||void 0===t||t.close(),null===(r=this._sendTransport)||void 0===r||r.close(),null===(n=this._receiveTransport)||void 0===n||n.close(),this._micTrack=null,this._webcamTrack=null,this._screenVideoTrack=null,this._screenAudioTrack=null,this._streamIdToVideoConsumerId.clear(),this._mediasoupDevice=null}},{key:"_onMessage",value:function(){var e=uw(lw().mark((function e(t){var r,n,a=this;return lw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.method,n=t.data,e.abrupt("return",Promise.resolve().then((function(){switch(r){case"consumerReady":return a._onConsumerReady(n);case"consumerClosed":return a._onConsumerClosed(n);case"consumerPaused":return a._onConsumerPaused(n);case"consumerResumed":return a._onConsumerResumed(n);case"dominantSpeaker":return a._onDominantSpeaker(n);default:return void OE.debug('unknown message method "'.concat(r,'"'))}})).catch((function(e){console.error('"message" failed [error:%o]',e)})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"_onConsumerReady",value:function(){var e=uw(lw().mark((function e(t){var r,n,a,i,o,s,c,u=this;return lw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return OE.debug("_onConsumerReady()",{id:t.id,producerId:t.producerId}),e.next=3,this._receiveTransport.consume(t);case 3:(r=e.sent).pause(),r.appData.localPaused=!0,r.appData.spatialLayer=2,this._consumers.set(r.id,r),r.observer.once("close",(function(){u._consumers.delete(r.id),u._consumerClosedCleanup(r)})),n=r.appData,a=n.sourceClientId,i=n.screenShare,o=n.streamId,s=this._getOrCreateClientState(a),i?(s.hasEmittedScreenStream=!1,s.screenShareStreamId=o):(s.hasEmittedWebcamStream=!1,s.camStreamId=o),(c=i?s.screenStream:s.webcamStream)&&c.inboundId===o||((c=new MediaStream).inboundId=o,i?s.screenStream=c:s.webcamStream=c),"video"===r.kind&&this._streamIdToVideoConsumerId.set(c.id,r.id),c.addTrack(r.track),this._syncIncomingStreamsWithPWA(a);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_onConsumerClosed",value:function(){var e=uw(lw().mark((function e(t){var r,n,a;return lw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.consumerId,a=t.reason,OE.debug("_onConsumerClosed()",{consumerId:n,reason:a}),null===(r=this._consumers.get(n))||void 0===r||r.close();case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_onConsumerPaused",value:function(e){var t=e.consumerId;OE.debug("_onConsumerPaused()",{consumerId:t});var r=this._consumers.get(t);r&&(r.appData.remotePaused=!0,r.pause())}},{key:"_onConsumerResumed",value:function(e){var t=e.consumerId;OE.debug("_onConsumerResumed()",{consumerId:t});var r=this._consumers.get(t);r&&(r.appData.remotePaused=!1,r.appData.localPaused||r.resume())}},{key:"_onDominantSpeaker",value:function(e){var t=e.consumerId,r=this._consumers.get(t);if(r){var n=r.appData.sourceClientId;this._emitToPWA(eE,{clientId:n})}}},{key:"_consumerClosedCleanup",value:function(e){var t=e.appData,r=t.sourceClientId,n=t.screenShare,a=this._getOrCreateClientState(r),i=n?a.screenStream:a.webcamStream;i&&(i.removeTrack(e.track),0===i.getTracks().length&&(this._streamIdToVideoConsumerId.delete(i.id),n?(a.screenStream=null,a.hasEmittedScreenStream=!1,a.screenShareStreamId=null):(a.hasEmittedWebcamStream=!1,a.camStreamId=null)))}},{key:"_syncIncomingStreamsWithPWA",value:function(e){var t,r,n=this._getOrCreateClientState(e),a=n.webcamStream,i=n.screenStream,o=n.hasEmittedWebcamStream,s=n.hasEmittedScreenStream,c=n.hasAcceptedWebcamStream,u=n.hasAcceptedScreenStream,l=n.screenShareStreamId,d=n.camStreamId,p=[],f=[];(this._consumers.forEach((function(t){if(t.appData.sourceClientId===e){var r=t.appData.screenShare?u:c;!t.appData.localPaused!==r&&(r?(t.appData.remotePaused||t.resume(),t.appData.localPaused=!1,f.push(t.id)):(t.pause(),t.appData.localPaused=!0,p.push(t.id)))}})),p.length>0)&&(null===(t=this._vegaConnection)||void 0===t||t.message("pauseConsumers",{consumerIds:p}));f.length>0&&(null===(r=this._vegaConnection)||void 0===r||r.message("resumeConsumers",{consumerIds:f}));a&&!o&&c&&(this._emitToPWA(jT,{clientId:e,stream:a,streamId:d}),n.hasEmittedWebcamStream=!0),i&&!s&&u&&(this._emitToPWA(jT,{clientId:e,stream:i,streamId:l}),n.hasEmittedScreenStream=!0)}},{key:"_getOrCreateClientState",value:function(e){var t=this._clientStates.get(e);return t||(t={hasAcceptedWebcamStream:!1,hasAcceptedScreenStream:!1,hasEmittedWebcamStream:!1,hasEmittedScreenStream:!1,webcamStream:null,screenStream:null,screenShareStreamId:null,camStreamId:null},this._clientStates.set(e,t)),t}},{key:"_emitToPWA",value:function(e,t){this._emitter.emit(e,t)}},{key:"_emitToSignal",value:function(e,t,r){this._serverSocket.emit(e,t,r)}},{key:"shouldAcceptStreamsFromBothSides",value:function(){return!0}}]),e}(),IE=Xa((function e(t){var r=this,n=t.emitter,a=t.serverSocket,i=t.webrtcProvider,o=t.features;Za(this,e),this.emitter=n,this.currentManager=null,a.on($T,(function(e){var t=e.room,s=e.selfId,c=e.error,u=e.eventClaim;if(!c){var l={selfId:s,room:t,emitter:n,serverSocket:a,webrtcProvider:i,features:o,eventClaim:u},d=!!t.sfuServer;if(r.currentManager){if(r.currentManager.isInitializedWith({selfId:s,roomName:t.name,isSfu:d}))return void(r.currentManager.setEventClaim&&u&&r.currentManager.setEventClaim(u));r.currentManager.disconnectAll(),n.emit(AT)}var p=null;(p=d?new jE(l):new vE(l)).setupSocketListeners(),n.emit(IT,{rtcManager:p}),r.currentManager=p}}))})),AE=[{pattern:/^(?:([^.]+)[.])?(server:?\d*)/,separator:"."},{pattern:/^(?:([^.]+)[.])?(localhost:?\d*)/,separator:"."},{pattern:/^(?:([^.]+)[.])?((\d+[.]){3}:?\d*)$/,separator:"."},{pattern:/^(?:([^.]+)-)?(ip-[^.]*[.](?:hereby[.]dev|rfc1918[.]disappear[.]at)(?::\d+|))$/,separator:"-"},{pattern:/^(?:([^.]+)[.])?((:?[^.]+[.]){1,}[^.]+)$/,separator:"."}];function LE(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.host,r=void 0===t?"whereby.com":t,n=e.protocol,a=void 0===n?"https:":n,i="",o=r,s=".",c=0,u=AE;c<u.length;c++){var l=u[c],d=l.separator,p=l.pattern.exec(r);if(p){i=p[1]||"",o=p[2],s=d;break}}var f=i?"".concat(i).concat(s).concat(o):o;return{domain:o,domainWithSeparator:"".concat(s).concat(o),organizationDomain:f,organization:"".concat(a,"//").concat(f),service:"".concat(a,"//").concat(o),subdomain:i}}LE(window&&window.location);var NE=Xa((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Za(this,e),this.data=void 0===t.data?{}:t.data,this.headers=t.headers||{},this.status=t.status||200,this.statusText=t.statusText||"OK",this.url=t.url||null}));function FE(e,t){return TP.ok(e,"".concat(t," is required")),e}function BE(e,t){return TP.ok("boolean"===typeof e,"".concat(t,"<boolean> is required")),e}function zE(e,t){return TP.ok("number"===typeof e,"".concat(t,"<number> is required")),e}function UE(e,t){return TP.ok("string"===typeof e,"".concat(t,"<string> is required")),e}function VE(e,t,r){var n=r||t.name[0].toLowerCase()+t.name.substring(1);return TP.ok(e instanceof t,"".concat(n,"<").concat(t.name,"> is required")),e}function WE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"roomName";return UE(e,t),TP.equal("string"===typeof e&&e[0],"/","".concat(t," must begin with a '/'")),e}function qE(e,t){return TP.ok(Array.isArray(e),"".concat(t,"<array> is required")),e}function HE(e,t){if(null===e||void 0===e||"object"!==typeof e||Array.isArray(e))throw new Error("".concat(t," must be a record. ").concat(JSON.stringify(e)));return e}function $E(e,t,r){UE(t,"name"),function(e,t,r,n){UE(r,"name");var a=n||"".concat(r," must be null or of type ").concat(t);TP.ok(null===e||typeof e===t,a)}(e,"string",t,r)}function GE(e){var t=e.baseUrl,r=e.url;return TP.ok("string"===typeof r,"url<String> is required"),t?t+r:r}var KE,YE=function(){function e(t){var r=t.baseUrl;Za(this,e),UE(r,"baseUrl"),this._baseUrl=r}return Xa(e,[{key:"_requestAxios",value:function(e,t){var r=Object.assign({},t,{url:e,baseURL:this._baseUrl});return PT.request(r)}},{key:"request",value:function(e,t){return UE(e,"url"),TP.equal(e[0],"/",'url<String> only accepts relative URLs beginning with "/".'),TP.ok(t,"options are required"),this._requestAxios(e,t).then((function(e){var t=e.data,r=e.headers,n=e.status,a=e.statusText,i=e.config,o=i&&i.url?GE({baseUrl:i.baseURL,url:i.url}):null;return new NE({data:t,headers:r,status:n,statusText:a,url:o})})).catch((function(e){var t=e.response;if(!t)throw new Error("Could not make the request.");var r=t.data,n=t.headers,a=t.status,i=t.statusText,o=t.config,s=o&&o.url?GE({baseUrl:o.baseURL,url:o.url}):null;return Promise.reject(new NE({data:r,headers:n,status:a,statusText:i,url:s}))}))}}]),e}(),QE=function(){function e(t){var r=t.httpClient;Za(this,e),TP.ok(r,"httpClient is required"),this._httpClient=r}return Xa(e,[{key:"request",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign(r.headers||{},{"Content-Type":void 0});return this._httpClient.request(t,Object.assign(r,{headers:n,transformRequest:e.dataToFormData}))}}],[{key:"dataToFormData",value:function(e){TP.ok(e,"data is required");var t=new FormData;return Object.keys(e).forEach((function(r){var n=e[r];t.append(r,n)})),t}}]),e}();KE="object"===typeof window?window.btoa||FP:"object"===typeof global&&global.btoa||FP;var JE=function(){return Promise.resolve(null)},XE=function(){function e(t){var r=t.httpClient,n=t.fetchDeviceCredentials;Za(this,e),this._httpClient=r,this._fetchDeviceCredentials=n}return Xa(e,[{key:"request",value:function(e,t){var r=this;return this._fetchDeviceCredentials().then((function(n){var a=Object.assign({},t.headers,function(e){if(e&&e.credentials){var t="".concat(e.credentials.uuid,":").concat(e.hmac);return{Authorization:"Basic ".concat(KE(t))}}return{}}(n),{"X-Appearin-Device-Platform":"web"}),i=Object.assign({},t,{headers:a});return r._httpClient.request(e,i)}))}}]),e}(),ZE=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.baseUrl,n=void 0===r?"https://api.appearin.net":r,a=t.fetchDeviceCredentials,i=void 0===a?JE:a;Za(this,e),UE(n,"baseUrl"),TP.ok("function"===typeof i,"fetchDeviceCredentials<Function> is required"),this.authenticatedHttpClient=new XE({httpClient:new YE({baseUrl:n}),fetchDeviceCredentials:i}),this.authenticatedFormDataHttpClient=new QE({httpClient:this.authenticatedHttpClient})}return Xa(e,[{key:"request",value:function(e,t){return UE(e,"url"),TP.equal(e[0],"/",'url<String> only accepts relative URLs beginning with "/".'),TP.ok(t,"options are required"),this.authenticatedHttpClient.request(e,t)}},{key:"requestMultipart",value:function(e,t){return UE(e,"url"),TP.equal(e[0],"/",'url<String> only accepts relative URLs beginning with "/".'),TP.ok(t,"options are required"),this.authenticatedFormDataHttpClient.request(e,t)}}]),e}();function eO(e,t){return UE(HE(e,"data")[t],t)}var tO,rO=(tO=eO,function(e,t){var r=HE(e,"data")[t];return null===r||void 0===r?null:tO(e,t)});function nO(e,t){var r=eO(e,t),n=new Date(r);if(isNaN(n.getTime()))throw new Error("Invalid date for ".concat(r));return n}function aO(e,t,r){return function(e,t){return qE(HE(e,"data")[t],t)}(e,t).map((function(e){return r(e)}))}var iO,oO=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;Za(this,e),this.credentials={uuid:t},this.hmac=r,this.userId=n}return Xa(e,[{key:"toJson",value:function(){return Object.assign({credentials:this.credentials,hmac:this.hmac},this.userId&&{userId:this.userId})}}],[{key:"fromJson",value:function(t){return new e(eO(function(e,t){var r=HE(e,"data")[t];return void 0===r?null:r}(t,"credentials"),"uuid"),eO(t,"hmac"),rO(t,"userId")||void 0)}}]),e}(),sO=function(){function e(t){var r=t.apiClient;Za(this,e),this._apiClient=VE(r,ZE)}return Xa(e,[{key:"getCredentials",value:function(){return this._apiClient.request("/devices",{method:"post"}).then((function(e){var t=e.data;return oO.fromJson(t)})).catch((function(e){if(e.response&&404===e.response.status)return null;throw e}))}}]),e}(),cO=function(){function e(t,r){Za(this,e),this._key=t,this._chromeStorage=r}return Xa(e,[{key:"loadOrDefault",value:function(e){var t=this;return new Promise((function(r){t._chromeStorage.get(t._key,(function(n){r(n[t._key]||e)}))}))}},{key:"save",value:function(e){var t=this;return new Promise((function(r){t._chromeStorage.set(u({},t._key,e),(function(){r()}))}))}}]),e}(),uO=function(){function e(t,r){Za(this,e),FE(r,"localStorage"),this._key=UE(t,"key"),this._localStorage=r}return Xa(e,[{key:"loadOrDefault",value:function(e){try{var t=this._localStorage.getItem(this._key);if(t)try{return Promise.resolve(JSON.parse(t))}catch(r){}return Promise.resolve(e)}catch(r){return console.warn("Error getting access to storage. Are cookies blocked?",r),Promise.resolve(e)}}},{key:"save",value:function(e){try{return this._localStorage.setItem(this._key,JSON.stringify(e)),Promise.resolve()}catch(t){return console.warn("Error getting access to storage. Are cookies blocked?",t),Promise.reject(t)}}}]),e}();try{iO=self.localStorage}catch($D){iO={getItem:function(){},key:function(){},setItem:function(){},removeItem:function(){},hasOwnProperty:function(){},length:0}}var lO=iO,dO="credentials_saved",pO=function(e){ti(r,e);var t=ii(r);function r(e){var n,a=e.deviceService,i=e.credentialsStore;return Za(this,r),(n=t.call(this))._deviceService=VE(a,sO),n._credentialsStore=i,n}return Xa(r,[{key:"_fetchNewCredentialsFromApi",value:function(){var e=this,t=this._credentialsStore;return new Promise((function(r){!function n(){e._deviceService.getCredentials().then((function(e){return t.save(e?e.toJson():null).then((function(){return r(e)}))})).catch((function(){setTimeout(n,2e3)}))}()}))}},{key:"getCurrentCredentials",value:function(){return this._credentialsStore.loadOrDefault(null).then((function(e){return e?oO.fromJson(e):null}))}},{key:"getCredentials",value:function(){var e=this;return this.credentialsPromise||(this.credentialsPromise=this.getCurrentCredentials().then((function(t){return t||e._fetchNewCredentialsFromApi()}))),this.credentialsPromise}},{key:"saveCredentials",value:function(e){var t=this;return this.credentialsPromise=void 0,this._credentialsStore.save(e.toJson()).then((function(){return t.emit(dO,e),e}))}},{key:"setUserId",value:function(e){var t=this;return this.getCurrentCredentials().then((function(r){if(r||console.error("Illegal state: no credentials to set user id for."),null===r||r.userId!==e)return t._credentialsStore.save(Object.assign({},null===r||void 0===r?void 0:r.toJson(),{userId:e}))})).then((function(){}))}}],[{key:"create",value:function(e){var t=e.baseUrl,n=e.storeName,a=void 0===n?"CredentialsStorage":n,i=e.storeType,o=void 0===i?"localStorage":i,s=new sO({apiClient:new ZE({baseUrl:t})}),c=null;if("localStorage"===o)c=new uO(a,lO);else{if("chromeStorage"!==o)throw new Error("Unknown store type: ".concat(o));c=new cO(a,window.chrome.storage.local)}return new r({deviceService:s,credentialsStore:c})}}]),r}(OP),fO=function(){return Promise.resolve(void 0)},hO=function(){function e(t){var r=t.apiClient,n=t.fetchOrganization,a=void 0===n?fO:n;Za(this,e),this._apiClient=VE(r,ZE),TP.ok("function"===typeof a,"fetchOrganization<Function> is required"),this._fetchOrganization=a,this._apiClient=r}return Xa(e,[{key:"_callRequestMethod",value:function(e,t,r){var n=this;return UE(t,"url"),TP.equal(t[0],"/",'url<String> only accepts relative URLs beginning with "/".'),TP.ok(r,"options are required"),this._fetchOrganization().then((function(a){if(!a)return n._apiClient[e](t,r);var i=a.organizationId;return n._apiClient[e]("/organizations/".concat(encodeURIComponent(i)).concat(t),r)}))}},{key:"request",value:function(e,t){return this._callRequestMethod("request",e,t)}},{key:"requestMultipart",value:function(e,t){return this._callRequestMethod("requestMultipart",e,t)}}]),e}(),mO=function(){function e(t){var r=t.isExhausted,n=t.renewsAt,a=t.totalMinutesLimit,i=t.totalMinutesUsed;Za(this,e),this.isExhausted=r,this.renewsAt=n,this.totalMinutesLimit=a,this.totalMinutesUsed=i}return Xa(e,null,[{key:"fromJson",value:function(t){return new e({isExhausted:BE(t.isExhausted,"isExhausted"),renewsAt:new Date(UE(t.renewsAt,"renewsAt")),totalMinutesLimit:zE(t.totalMinutesLimit,"totalMinutesLimit"),totalMinutesUsed:zE(t.totalMinutesUsed,"totalMinutesUsed")})}}]),e}(),vO=function(){function e(t){var r=t.basePlanId,n=t.embeddedFreeTierStatus,a=t.isDeactivated,i=t.isOnTrial,o=t.onTrialUntil,s=t.trialStatus;Za(this,e),this.basePlanId=r,this.isDeactivated=a,this.isOnTrial=i,this.onTrialUntil=o||null,this.trialStatus=s||null,this.embeddedFreeTierStatus=n||null}return Xa(e,null,[{key:"fromJson",value:function(t){return new e({basePlanId:"string"===typeof t.basePlanId?t.basePlanId:null,isDeactivated:BE(t.isDeactivated,"isDeactivated"),isOnTrial:BE(t.isOnTrial,"isOnTrial"),onTrialUntil:"string"===typeof t.onTrialUntil?new Date(t.onTrialUntil):null,trialStatus:"string"===typeof t.trialStatus?t.trialStatus:null,embeddedFreeTierStatus:t.embeddedFreeTierStatus?mO.fromJson(t.embeddedFreeTierStatus):null})}}]),e}();function gO(e){return null!==e&&void 0!==e}function yO(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{maxNumberOfInvitationsAndUsers:gO(null===e||void 0===e?void 0:e.maxNumberOfInvitationsAndUsers)?Number(null===e||void 0===e?void 0:e.maxNumberOfInvitationsAndUsers):null,maxNumberOfClaimedRooms:gO(null===e||void 0===e?void 0:e.maxNumberOfClaimedRooms)?Number(null===e||void 0===e?void 0:e.maxNumberOfClaimedRooms):null,maxRoomLimitPerOrganization:gO(null===e||void 0===e?void 0:e.maxRoomLimitPerOrganization)?Number(null===e||void 0===e?void 0:e.maxRoomLimitPerOrganization):null,trialMinutesLimit:gO(null===e||void 0===e?void 0:e.trialMinutesLimit)?Number(null===e||void 0===e?void 0:e.trialMinutesLimit):null,includedUnits:gO(null===e||void 0===e?void 0:e.includedUnits)?Number(null===e||void 0===e?void 0:e.includedUnits):null}}var bO=function(){function e(t){Za(this,e),this.logoImageUrl=null,this.roomBackgroundImageUrl=null,this.roomBackgroundThumbnailUrl=null,this.roomKnockPageBackgroundImageUrl=null,this.roomKnockPageBackgroundThumbnailUrl=null,this.preferences=null,this.onboardingSurvey=null,this.type=null,VE(t,Object,"properties"),UE(t.organizationId,"organizationId"),UE(t.organizationName,"organizationName"),UE(t.subdomain,"subdomain"),VE(t.permissions,Object,"permissions"),VE(t.limits,Object,"limits"),this.organizationId=t.organizationId,this.organizationName=t.organizationName,this.subdomain=t.subdomain,this.permissions=t.permissions,this.limits=t.limits,this.account=t.account?new vO(t.account):null,this.logoImageUrl=t.logoImageUrl,this.roomBackgroundImageUrl=t.roomBackgroundImageUrl,this.roomBackgroundThumbnailUrl=t.roomBackgroundThumbnailUrl,this.roomKnockPageBackgroundImageUrl=t.roomKnockPageBackgroundImageUrl,this.roomKnockPageBackgroundThumbnailUrl=t.roomKnockPageBackgroundThumbnailUrl,this.preferences=t.preferences,this.onboardingSurvey=t.onboardingSurvey,this.type=t.type}return Xa(e,null,[{key:"fromJson",value:function(t){var r=VE(t,Object,"data"),n=(null===r||void 0===r?void 0:r.preferences)||{},a=(null===r||void 0===r?void 0:r.onboardingSurvey)||null,i=VE(r.permissions,Object,"permissions");return new e({organizationId:UE(r.organizationId,"organizationId"),organizationName:UE(r.organizationName,"organizationName"),subdomain:UE(r.subdomain,"subdomain"),permissions:i,limits:yO(VE(r.limits,Object,"limits")),account:r.account?vO.fromJson(r.account):null,logoImageUrl:"string"===typeof r.logoImageUrl?r.logoImageUrl:null,roomBackgroundImageUrl:"string"===typeof r.roomBackgroundImageUrl?r.roomBackgroundImageUrl:null,roomBackgroundThumbnailUrl:"string"===typeof r.roomBackgroundThumbnailUrl?r.roomBackgroundThumbnailUrl:null,roomKnockPageBackgroundImageUrl:"string"===typeof r.roomKnockPageBackgroundImageUrl?r.roomKnockPageBackgroundImageUrl:null,roomKnockPageBackgroundThumbnailUrl:"string"===typeof r.roomKnockPageBackgroundThumbnailUrl?r.roomKnockPageBackgroundThumbnailUrl:null,preferences:n,onboardingSurvey:a,type:"string"===typeof r.type?r.type:null})}}]),e}();bO.GLOBAL_ORGANIZATION_ID="1";var kO=function(){function e(t){var r=t.apiClient;Za(this,e),this._apiClient=VE(r,ZE)}return Xa(e,[{key:"createOrganization",value:function(e){var t=e.organizationName,r=e.subdomain,n=e.owner,a=n||{},i=a.displayName,o=a.consents,s="email"in n?{value:n.email,verificationCode:UE(n.verificationCode,"owner.verificationCode")}:null,c="idToken"in n?n.idToken:null;if(UE(r,"subdomain"),UE(t,"organizationName"),UE(i,"owner.displayName"),TP.ok(s||c,"owner.email or owner.idToken is required"),o){qE(o,"consents");var u,l=lt(o);try{for(l.s();!(u=l.n()).done;){var d=u.value,p=d.consentRevisionId,f=d.action;UE(p,"consentRevisionId"),$E(f,"action")}}catch(HD){l.e(HD)}finally{l.f()}}return this._apiClient.request("/organizations",{method:"POST",data:{organizationName:t,type:"private",subdomain:r,owner:Object.assign(Object.assign(Object.assign(Object.assign({},s&&{email:s}),c&&{idToken:c}),o&&{consents:o}),{displayName:i})}}).then((function(e){return eO(e.data,"organizationId")}))}},{key:"getOrganizationBySubdomain",value:function(e){return UE(e,"subdomain"),this._apiClient.request("/organization-subdomains/".concat(encodeURIComponent(e),"/?fields=permissions,account,onboardingSurvey"),{method:"GET"}).then((function(e){var t=e.data;return bO.fromJson(t)})).catch((function(e){if(e instanceof NE){if(404===e.status)return null;throw new Error(e.statusText)}throw e}))}},{key:"getOrganizationByOrganizationId",value:function(e){return UE(e,"organizationId"),this._apiClient.request("/organizations/".concat(encodeURIComponent(e),"?fields=permissions,account"),{method:"GET"}).then((function(e){var t=e.data;return bO.fromJson(t)})).catch((function(e){if(e instanceof NE){if(404===e.status)return null;throw new Error(e.statusText)}throw e}))}},{key:"getOrganizationsByContactPoint",value:function(e){var t=e.code,r="email"in e?e.email:null,n="phoneNumber"in e?e.phoneNumber:null;TP.ok((r||n)&&!(r&&n),"either email or phoneNumber is required"),UE(t,"code");var a=r?{type:"email",value:r}:{type:"phoneNumber",value:n};return this._apiClient.request("/organization-queries",{method:"POST",data:{contactPoint:a,code:t}}).then((function(e){return aO(e.data,"organizations",(function(e){return bO.fromJson(e)}))}))}},{key:"getOrganizationsByIdToken",value:function(e){var t=e.idToken;return UE(t,"idToken"),this._apiClient.request("/organization-queries",{method:"POST",data:{idToken:t}}).then((function(e){return aO(e.data,"organizations",(function(e){return bO.fromJson(Object.assign({permissions:{},limits:{}},HE(e,"organization")))}))}))}},{key:"getOrganizationsByLoggedInUser",value:function(){return this._apiClient.request("/user/organizations",{method:"GET"}).then((function(e){return aO(e.data,"organizations",(function(e){return bO.fromJson(Object.assign({permissions:{},limits:{}},HE(e,"organization")))}))}))}},{key:"getSubdomainAvailability",value:function(e){return UE(e,"subdomain"),this._apiClient.request("/organization-subdomains/".concat(encodeURIComponent(e),"/availability"),{method:"GET"}).then((function(e){var t=e.data;return VE(t,Object,"data"),{status:eO(t,"status")}}))}},{key:"updatePreferences",value:function(e){var t=e.organizationId,r=e.preferences;return FE(t,"organizationId"),FE(r,"preferences"),this._apiClient.request("/organizations/".concat(encodeURIComponent(t),"/preferences"),{method:"PATCH",data:r}).then((function(){}))}},{key:"deleteOrganization",value:function(e){var t=e.organizationId;return FE(t,"organizationId"),this._apiClient.request("/organizations/".concat(encodeURIComponent(t)),{method:"DELETE"}).then((function(){}))}}]),e}(),wO=function(){function e(t){var r=t.organizationService,n=t.subdomain;Za(this,e),VE(r,kO),UE(n,"subdomain"),this._organizationService=r,this._subdomain=n,this._organizationPromise=null}return Xa(e,[{key:"initOrganization",value:function(){return this.fetchOrganization().then((function(){}))}},{key:"fetchOrganization",value:function(){return this._organizationPromise||(this._organizationPromise=this._organizationService.getOrganizationBySubdomain(this._subdomain)),this._organizationPromise}}]),e}(),_O=Xa((function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Za(this,e),TP.ok(r instanceof Object,"properties<object> must be empty or an object"),this.isClaimed=!1,this.isBanned=!1,this.isLocked=!1,this.knockPage={backgroundImageUrl:null,backgroundThumbnailUrl:null},this.logoUrl=null,this.backgroundImageUrl=null,this.backgroundThumbnailUrl=null,this.type=null,this.legacyRoomType=null,this.mode=null,this.product=null,this.roomName=null,this.theme=null,this.preferences={},this.protectedPreferences={},this.publicProfile=null;var n={};Object.getOwnPropertyNames(r).forEach((function(e){-1!==Object.getOwnPropertyNames(t).indexOf(e)&&(n[e]=r[e])})),void 0!==r.ownerId&&(this.ownerId=r.ownerId),void 0!==r.meeting&&(this.meeting=r.meeting),Object.assign(this,n)})),SO=function(){function e(t){var r=t.meetingId,n=t.roomName,a=t.roomUrl,i=t.startDate,o=t.endDate,s=t.hostRoomUrl,c=t.viewerRoomUrl;Za(this,e),UE(r,"meetingId"),UE(n,"roomName"),UE(a,"roomUrl"),VE(i,Date,"startDate"),VE(o,Date,"endDate"),this.meetingId=r,this.roomName=n,this.roomUrl=a,this.startDate=i,this.endDate=o,this.hostRoomUrl=s,this.viewerRoomUrl=c}return Xa(e,null,[{key:"fromJson",value:function(t){return new e({meetingId:eO(t,"meetingId"),roomName:eO(t,"roomName"),roomUrl:eO(t,"roomUrl"),startDate:nO(t,"startDate"),endDate:nO(t,"endDate"),hostRoomUrl:rO(t,"hostRoomUrl"),viewerRoomUrl:rO(t,"viewerRoomUrl")})}}]),e}();function xO(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=encodeURIComponent(e.substring(1));return"/room/".concat(r).concat(t)}var CO=function(){function e(t){var r=t.organizationApiClient;Za(this,e),this._organizationApiClient=VE(r,hO)}return Xa(e,[{key:"getRooms",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.types,r=e.fields,n=void 0===r?[]:r;return qE(t,"types"),qE(n,"fields"),this._organizationApiClient.request("/room",{method:"GET",params:{types:t.join(","),fields:n.join(","),includeOnlyLegacyRoomType:"false"}}).then((function(e){return e.data.rooms.map((function(e){return new _O(e)}))}))}},{key:"getRoom",value:function(e){var t=e.roomName,r=e.fields;WE(t);var n=encodeURIComponent(t.substring(1));return this._organizationApiClient.request("/rooms/".concat(n),{method:"GET",params:Object.assign({includeOnlyLegacyRoomType:"false"},r&&{fields:r.join(",")})}).then((function(e){var r=e.data;return new _O(Object.assign({},r,Object.assign({roomName:t},r.meeting&&{meeting:SO.fromJson(r.meeting)})))})).catch((function(e){if(404===e.status)return new _O({roomName:t,isClaimed:!1,mode:"normal",product:{categoryName:"personal_free"},type:"personal",legacyRoomType:"free"});if(400===e.status&&"Banned room"===e.data.error)return new _O({roomName:t,isBanned:!0});throw new Error(e.data?e.data.error:"Could not fetch room information")}))}},{key:"claimRoom",value:function(e){var t=e.roomName,r=e.type,n=e.mode,a=e.isLocked;return WE(t),UE(r,"type"),this._organizationApiClient.request("/room/claim",{method:"POST",data:Object.assign(Object.assign({roomName:t,type:r},"string"===typeof n&&{mode:n}),"boolean"===typeof a&&{isLocked:a})}).then((function(){})).catch((function(e){throw new Error(e.data.error||"Failed to claim room")}))}},{key:"unclaimRoom",value:function(e){WE(e);var t=encodeURIComponent(e.substring(1));return this._organizationApiClient.request("/room/".concat(t),{method:"DELETE"}).then((function(){}))}},{key:"renameRoom",value:function(e){var t=e.roomName,r=e.newRoomName;WE(t),UE(r,"newRoomName");var n=encodeURIComponent(t.substring(1));return this._organizationApiClient.request("/room/".concat(n,"/roomName"),{method:"PUT",data:{newRoomName:r}}).then((function(){}))}},{key:"changeMode",value:function(e){var t=e.roomName,r=e.mode;WE(t),UE(r,"mode");var n=encodeURIComponent(t.substring(1));return this._organizationApiClient.request("/room/".concat(n,"/mode"),{method:"PUT",data:{mode:r}}).then((function(){}))}},{key:"updatePreferences",value:function(e){var t=e.roomName,r=e.preferences;WE(t),VE(r,Object,"preferences");var n=encodeURIComponent(t.substring(1));return this._organizationApiClient.request("/room/".concat(n,"/preferences"),{method:"PATCH",data:r}).then((function(){}))}},{key:"updateProtectedPreferences",value:function(e){var t=e.roomName,r=e.preferences;WE(t),VE(r,Object,"preferences");var n=encodeURIComponent(t.substring(1));return this._organizationApiClient.request("/room/".concat(n,"/protected-preferences"),{method:"PATCH",data:r}).then((function(){}))}},{key:"getRoomPermissions",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).roomKey;return WE(e),this._organizationApiClient.request(xO(e,"/permissions"),Object.assign({method:"GET"},t&&{headers:{"X-Whereby-Room-Key":t}})).then((function(e){var t=e.data;return{permissions:t.permissions,limits:t.limits}}))}},{key:"getRoomMetrics",value:function(e){var t=e.roomName,r=e.metrics,n=e.from,a=e.to;return WE(t),UE(r,"metrics"),this._organizationApiClient.request(xO(t,"/metrics"),{method:"GET",params:{metrics:r,from:n,to:a}}).then((function(e){return e.data}))}},{key:"changeType",value:function(e){var t=e.roomName,r=e.type;WE(t),function(e,t,r){if(FE(e,"value"),qE(t,"allowedValues"),!t.includes(e))throw new Error("".concat(r,"<string> must be one of the following: ").concat(t.join(", ")))}(r,["personal","personal_xl"],"type");var n=encodeURIComponent(t.substring(1));return this._organizationApiClient.request("/room/".concat(n,"/type"),{method:"PUT",data:{type:r}}).then((function(){}))}},{key:"getForestSocialImage",value:function(e){var t=e.roomName,r=e.count;return WE(t),zE(r,"count"),this._organizationApiClient.request(xO(t,"/forest-social-image/".concat(r)),{method:"GET"}).then((function(e){return e.data.imageUrl}))}}]),e}(),PO=Xa((function e(t){var r=t.displayName,n=t.id,a=t.stream,i=t.isAudioEnabled,o=t.isVideoEnabled;Za(this,e),this.isLocalParticipant=!1,this.displayName=r,this.id=n,this.stream=a,this.isAudioEnabled=i,this.isVideoEnabled=o})),RO=function(e){ti(r,e);var t=ii(r);function r(e){var n,a=e.displayName,i=e.id,o=e.newJoiner,s=e.streams,c=e.isAudioEnabled,u=e.isVideoEnabled;return Za(this,r),(n=t.call(this,{displayName:a,id:i,isAudioEnabled:c,isVideoEnabled:u})).newJoiner=o,n.streams=s.map((function(e){return{id:e,state:o?"new_accept":"to_accept"}})),n}return Xa(r,[{key:"updateStreamState",value:function(e,t){var r=this.streams.find((function(t){return t.id===e}));r&&(r.state=t)}}]),r}(PO),TO=function(e){ti(r,e);var t=ii(r);function r(e){var n,a=e.displayName,i=e.id,o=e.stream,s=e.isAudioEnabled,c=e.isVideoEnabled;return Za(this,r),(n=t.call(this,{displayName:a,id:i,stream:o,isAudioEnabled:s,isVideoEnabled:c})).isLocalParticipant=!0,n}return Xa(r)}(PO),EO="https://api.appearin.net",OO=["recorder","streamer"];var DO=function(){},MO=function(e){ti(r,e);var t=ii(r);function r(e,n){var a,i=n.displayName,o=n.localMedia,s=n.localMediaConstraints,c=n.logger,u=n.roomKey;Za(this,r),(a=t.call(this)).localParticipant=null,a.remoteParticipants=[],a.roomConnectionState="",a._ownsLocalMedia=!1,a.roomUrl=new URL(e);var l=new URLSearchParams(a.roomUrl.search);a._roomKey=u||l.get("roomKey"),a.logger=c||{debug:DO,error:DO,log:DO,warn:DO},a.displayName=i,a.localMediaConstraints=s;var d=LE({host:a.roomUrl.host});if(o)a.localMedia=o;else{if(!s)throw new Error("Missing constraints");a.localMedia=new ET(s),a._ownsLocalMedia=!0}return a.credentialsService=pO.create({baseUrl:EO}),a.apiClient=new ZE({fetchDeviceCredentials:a.credentialsService.getCredentials.bind(a.credentialsService),baseUrl:EO}),a.organizationService=new kO({apiClient:a.apiClient}),a.organizationServiceCache=new wO({organizationService:a.organizationService,subdomain:d.subdomain}),a.organizationApiClient=new hO({apiClient:a.apiClient,fetchOrganization:function(){return ix(ai(a),void 0,void 0,lw().mark((function e(){var t;return lw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.organizationServiceCache.fetchOrganization();case 2:return t=e.sent,e.abrupt("return",t||void 0);case 4:case"end":return e.stop()}}),e,this)})))}}),a.roomService=new CO({organizationApiClient:a.organizationApiClient}),a.signalSocket=function(){var e=new URL("wss://signal.appearin.net"),t="".concat(e.pathname.replace(/^\/$/,""),"/protocol/socket.io/v4"),r=e.origin;return new XT(r,{host:r,path:t,reconnectionDelay:5e3,reconnectionDelayMax:3e4,timeout:1e4,withCredentials:!0})}(),a.signalSocket.on("new_client",a._handleNewClient.bind(ai(a))),a.signalSocket.on("chat_message",a._handleNewChatMessage.bind(ai(a))),a.signalSocket.on("client_left",a._handleClientLeft.bind(ai(a))),a.signalSocket.on("audio_enabled",a._handleClientAudioEnabled.bind(ai(a))),a.signalSocket.on("video_enabled",a._handleClientVideoEnabled.bind(ai(a))),a.signalSocket.on("client_metadata_received",a._handleClientMetadataReceived.bind(ai(a))),a.localMedia.addEventListener("camera_enabled",(function(e){var t=e.detail.enabled;a.signalSocket.emit("enable_video",{enabled:t})})),a.localMedia.addEventListener("microphone_enabled",(function(e){var t=e.detail.enabled;a.signalSocket.emit("enable_audio",{enabled:t})})),a}return Xa(r,[{key:"roomKey",get:function(){return this._roomKey}},{key:"_handleNewChatMessage",value:function(e){this.dispatchEvent(new CustomEvent("chat_message",{detail:e}))}},{key:"_handleNewClient",value:function(e){var t=e.client;if(!OO.includes(t.role.roleName)){var r=new RO(Object.assign(Object.assign({},t),{newJoiner:!0}));this.remoteParticipants=[].concat(pt(this.remoteParticipants),[r]),this._handleAcceptStreams([r]),this.dispatchEvent(new CustomEvent("participant_joined",{detail:{remoteParticipant:r}}))}}},{key:"_handleClientLeft",value:function(e){var t=e.clientId,r=this.remoteParticipants.find((function(e){return e.id===t}));this.remoteParticipants=this.remoteParticipants.filter((function(e){return e.id!==t})),r&&this.dispatchEvent(new CustomEvent("participant_left",{detail:{participantId:r.id}}))}},{key:"_handleClientAudioEnabled",value:function(e){var t=e.clientId,r=e.isAudioEnabled,n=this.remoteParticipants.find((function(e){return e.id===t}));n&&this.dispatchEvent(new CustomEvent("participant_audio_enabled",{detail:{participantId:n.id,isAudioEnabled:r}}))}},{key:"_handleClientVideoEnabled",value:function(e){var t=e.clientId,r=e.isVideoEnabled,n=this.remoteParticipants.find((function(e){return e.id===t}));n&&this.dispatchEvent(new CustomEvent("participant_video_enabled",{detail:{participantId:n.id,isVideoEnabled:r}}))}},{key:"_handleClientMetadataReceived",value:function(e){var t=e.payload,r=t.clientId,n=t.displayName,a=this.remoteParticipants.find((function(e){return e.id===r}));a&&this.dispatchEvent(new CustomEvent("participant_metadata_changed",{detail:{participantId:a.id,displayName:n}}))}},{key:"_handleRtcEvent",value:function(e,t){return"rtc_manager_created"===e?this._handleRtcManagerCreated(t):"stream_added"===e?this._handleStreamAdded(t):void this.logger.log("Unhandled RTC event ".concat(e))}},{key:"_handleRtcManagerCreated",value:function(e){var t,r=e.rtcManager;this.rtcManager=r,this.localMedia.addRtcManager(r),this.localMedia.stream&&(null===(t=this.rtcManager)||void 0===t||t.addNewStream("0",this.localMedia.stream,!this.localMedia.isMicrophoneEnabled(),!this.localMedia.isCameraEnabled()))}},{key:"_handleAcceptStreams",value:function(e){var t,r,n=this;if(this.rtcManager){var a=null===(r=(t=this.rtcManager).shouldAcceptStreamsFromBothSides)||void 0===r?void 0:r.call(t);e.forEach((function(e){var t=e.id,r=e.streams,i=e.newJoiner;r.forEach((function(r){var o,s,c=r.id,u=r.state,l=void 0;if("done_accept"!==u&&(l="".concat(i&&"0"===c?"new":"to","_accept")),l){if("to_accept"===l||"new_accept"===l&&a||"old_accept"===l&&!a)n.logger.log("Accepting stream ".concat(c," from ").concat(t)),null===(o=n.rtcManager)||void 0===o||o.acceptNewStream({streamId:"0"===c?t:c,clientId:t,shouldAddLocalVideo:"0"===c,activeBreakout:false});else if("new_accept"===l||"old_accept"===l);else if("to_unaccept"===l)n.logger.log("Disconnecting stream ".concat(c," from ").concat(t)),null===(s=n.rtcManager)||void 0===s||s.disconnect("0"===c?t:c,false);else if("done_accept"!==l)return void n.logger.warn("Stream state not handled: ".concat(l," for ").concat(t,"-").concat(c));e.updateStreamState(c,u.replace(/to_|new_|old_/,"done_"))}}))}))}else this.logger.log("Unable to accept streams, no rtc manager")}},{key:"_handleStreamAdded",value:function(e){var t=e.clientId,r=e.stream,n=e.streamId;this.remoteParticipants.find((function(e){return e.id===t}))?this.dispatchEvent(new CustomEvent("participant_stream_added",{detail:{participantId:t,stream:r,streamId:n}})):this.logger.log("WARN: Could not find participant for incoming stream")}},{key:"join",value:function(){return ix(this,void 0,void 0,lw().mark((function e(){var t,r,n,a=this;return lw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!["connected","connecting"].includes(this.roomConnectionState)){e.next=3;break}return console.warn("Trying to join room state is ".concat(this.roomConnectionState)),e.abrupt("return");case 3:if(this.logger.log("Joining room"),this.roomConnectionState="connecting",!this._ownsLocalMedia){e.next=8;break}return e.next=8,this.localMedia.start();case 8:return t={getMediaConstraints:function(){return{audio:a.localMedia.isMicrophoneEnabled(),video:a.localMedia.isCameraEnabled()}},deferrable:function(e){return!e}},this.rtcManagerDispatcher=new IE({emitter:{emit:this._handleRtcEvent.bind(this)},serverSocket:this.signalSocket,webrtcProvider:t,features:{lowDataModeEnabled:!1,sfuServerOverrideHost:void 0,turnServerOverrideHost:void 0,useOnlyTURN:void 0,vp9On:!1,h264On:!1,simulcastScreenshareOn:!1}}),e.next=12,this.organizationServiceCache.fetchOrganization();case 12:if(r=e.sent){e.next=15;break}throw new Error("Invalid room url");case 15:return e.next=17,this.credentialsService.getCredentials();case 17:n=e.sent,this.logger.log("Connecting to signal socket"),this.signalSocket.emit("identify_device",{deviceCredentials:n}),this.signalSocket.once("device_identified",(function(){a.logger.log("Connected to signal socket"),a.signalSocket.emit("join_room",{avatarUrl:null,config:{isAudioEnabled:a.localMedia.isMicrophoneEnabled(),isVideoEnabled:a.localMedia.isCameraEnabled()},deviceCapabilities:{canScreenshare:!0},displayName:a.displayName,isCoLocated:!1,isDevicePermissionDenied:!1,kickFromOtherRooms:!1,organizationId:r.organizationId,roomKey:a.roomKey,roomName:a.roomUrl.pathname,selfId:"",userAgent:"browser-sdk:".concat(LO)})})),this.signalSocket.once("room_joined",(function(e){var t=e.selfId,r=e.room.clients,n=r.find((function(e){return e.id===t}));if(!n)throw new Error("Missing local client");a.localParticipant=new TO(Object.assign(Object.assign({},n),{stream:a.localMedia.stream||void 0})),a.remoteParticipants=r.filter((function(e){return e.id!==t})).map((function(e){return new RO(Object.assign(Object.assign({},e),{newJoiner:!1}))})),a.rtcManager&&a._handleAcceptStreams(a.remoteParticipants),a.roomConnectionState="connected",a.dispatchEvent(new CustomEvent("room_joined",{detail:{localParticipant:a.localParticipant,remoteParticipants:a.remoteParticipants}}))}));case 22:case"end":return e.stop()}}),e,this)})))}},{key:"leave",value:function(){var e=this;return new Promise((function(t){if(e._ownsLocalMedia&&e.localMedia.stop(),e.rtcManager&&(e.localMedia.removeRtcManager(e.rtcManager),e.rtcManager.disconnectAll(),e.rtcManager=void 0),!e.signalSocket)return t();e.signalSocket.emit("leave_room");var r=setTimeout((function(){t()}),200);e.signalSocket.once("room_left",(function(){clearTimeout(r),e.signalSocket.disconnect(),t()}))}))}},{key:"sendChatMessage",value:function(e){this.signalSocket.emit("chat_message",{text:e})}},{key:"setDisplayName",value:function(e){this.signalSocket.emit("send_client_metadata",{type:"UserData",payload:{displayName:e}})}}]),r}(EventTarget),jO={chatMessages:[],isJoining:!1,joinError:null,mostRecentChatMessage:null,remoteParticipants:[]};function IO(e,t,r){var n=e.find((function(e){return e.id===t}));if(!n)return e;var a=e.indexOf(n);return[].concat(pt(e.slice(0,a)),[Object.assign(Object.assign({},n),r)],pt(e.slice(a+1)))}function AO(e,t){switch(t.type){case"CHAT_MESSAGE":return Object.assign(Object.assign({},e),{chatMessages:[].concat(pt(e.chatMessages),[t.payload]),mostRecentChatMessage:t.payload});case"ROOM_JOINED":return Object.assign(Object.assign({},e),{localParticipant:t.payload.localParticipant,remoteParticipants:t.payload.remoteParticipants,roomConnectionStatus:"connected"});case"PARTICIPANT_AUDIO_ENABLED":return Object.assign(Object.assign({},e),{remoteParticipants:IO(e.remoteParticipants,t.payload.participantId,{isAudioEnabled:t.payload.isAudioEnabled})});case"PARTICIPANT_JOINED":return Object.assign(Object.assign({},e),{remoteParticipants:[].concat(pt(e.remoteParticipants),[t.payload.paritipant])});case"PARTICIPANT_LEFT":return Object.assign(Object.assign({},e),{remoteParticipants:pt(e.remoteParticipants.filter((function(e){return e.id!==t.payload.participantId})))});case"PARTICIPANT_STREAM_ADDED":return Object.assign(Object.assign({},e),{remoteParticipants:IO(e.remoteParticipants,t.payload.participantId,{stream:t.payload.stream})});case"PARTICIPANT_VIDEO_ENABLED":return Object.assign(Object.assign({},e),{remoteParticipants:IO(e.remoteParticipants,t.payload.participantId,{isVideoEnabled:t.payload.isVideoEnabled})});case"PARTICIPANT_METADATA_CHANGED":return Object.assign(Object.assign({},e),{remoteParticipants:pt(e.remoteParticipants.map((function(e){return e.id===t.payload.participantId?Object.assign(Object.assign({},e),{displayName:t.payload.displayName}):e})))});case"LOCAL_CLIENT_DISPLAY_NAME_CHANGED":return e.localParticipant?Object.assign(Object.assign({},e),{localParticipant:Object.assign(Object.assign({},e.localParticipant),{displayName:t.payload.displayName})}):e;default:throw e}}var LO="2.0.0-alpha8",NO=["icon","children","isRound","aria-label"],FO=pb((function(e,t){var r=e.icon,n=e.children,a=e.isRound,i=e["aria-label"],o=p(e,NO),s=r||n,c=(0,h.isValidElement)(s)?(0,h.cloneElement)(s,{"aria-hidden":!0,focusable:!1}):null;return(0,Ge.jsx)(nw,d(d({padding:"0",borderRadius:a?"full":void 0,ref:t,"aria-label":i},o),{},{children:c}))}));FO.displayName="IconButton";var BO={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},zO=h.createContext&&h.createContext(BO),UO=function(){return UO=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},UO.apply(this,arguments)},VO=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r};function WO(e){return e&&e.map((function(e,t){return h.createElement(e.tag,UO({key:t},e.attr),WO(e.child))}))}function qO(e){return function(t){return h.createElement(HO,UO({attr:UO({},e.attr)},t),WO(e.child))}}function HO(e){var t=function(t){var r,n=e.attr,a=e.size,i=e.title,o=VO(e,["attr","size","title"]),s=a||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),h.createElement("svg",UO({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,o,{className:r,style:UO(UO({color:e.color||t.color},t.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),i&&h.createElement("title",null,i),e.children)};return void 0!==zO?h.createElement(zO.Consumer,null,(function(e){return t(e)})):t(BO)}function $O(e){return qO({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"}},{tag:"path",attr:{d:"M9 9v3a3 3 0 0 0 5.12 2.12M15 9.34V4a3 3 0 0 0-5.94-.6"}},{tag:"path",attr:{d:"M17 16.95A7 7 0 0 1 5 12v-2m14 0v2a7 7 0 0 1-.11 1.23"}},{tag:"line",attr:{x1:"12",y1:"19",x2:"12",y2:"23"}},{tag:"line",attr:{x1:"8",y1:"23",x2:"16",y2:"23"}}]})(e)}function GO(e){return qO({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"}},{tag:"path",attr:{d:"M19 10v2a7 7 0 0 1-14 0v-2"}},{tag:"line",attr:{x1:"12",y1:"19",x2:"12",y2:"23"}},{tag:"line",attr:{x1:"8",y1:"23",x2:"16",y2:"23"}}]})(e)}function KO(e){return qO({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 16v1a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h2m5.66 0H14a2 2 0 0 1 2 2v3.34l1 1L23 7v10"}},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"}}]})(e)}function YO(e){return qO({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"23 7 16 12 23 17 23 7"}},{tag:"rect",attr:{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"}}]})(e)}function QO(e){var t=e.desktop,r=e.floating,n=e.localStream,a=e.style,i=e.videoAllowed,o=void 0===i||i,s=e.audioAllowed,c=void 0===s||s,u=e.toggleCameraEnabled,l=e.toggleMicrophoneEnabled,p=rt((0,h.useState)(0),2),f=p[0],m=p[1],v=n.getVideoTracks()[0],g=n.getAudioTracks()[0],y={};return r&&(y=t?{position:"absolute",bottom:"100px",left:"15%",background:"yellow",borderRadius:"10px",padding:"5px"}:{width:"85px",height:"40px",padding:"2px",position:"absolute",borderRadius:"10px",top:"110px",right:"2%"}),(0,Ge.jsxs)(yk,d(d({pb:"4"},y),{},{style:a,children:[v&&o&&(0,Ge.jsx)(FO,{colorScheme:v.enabled?"blue":"red",size:t?"lg":"sm",mr:"2","aria-label":"Camera",icon:(0,Ge.jsx)(wb,{as:v.enabled?YO:KO}),onClick:function(){m(f+1),u()}}),g&&c&&(0,Ge.jsx)(FO,{colorScheme:g.enabled?"blue":"red",size:t?"lg":"sm","aria-label":"Microphone",icon:(0,Ge.jsx)(wb,{as:g.enabled?GO:$O}),onClick:function(){m(f+1),l()}})]}))}function JO(){var e=rt((0,h.useState)({width:0,height:0}),2),t=e[0],r=e[1],n=(0,h.useRef)(null);return(0,h.useEffect)((function(){function e(){var e=n.current;if(e){var t=window.getComputedStyle(e);r({width:parseInt(t.width,10),height:parseInt(t.height,10)})}}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),[n,t]}var XO=function(e){var t=e.currentUrl;return(0,Ge.jsx)("div",{className:"iframeParent",style:{height:"100%"},children:(0,Ge.jsx)("iframe",{src:t,style:{width:"100%",height:"100%"},title:"Iframe Example"})})},ZO=["className","align","decoration","casing"],eD=pb((function(e,t){var r=gb("Text",e),n=cn(e),a=(n.className,n.align,n.decoration,n.casing,p(n,ZO)),i=Gy({textAlign:e.align,textDecoration:e.decoration,textTransform:e.casing});return(0,Ge.jsx)(ub.p,d(d(d({ref:t,className:ht("chakra-text",e.className)},i),a),{},{__css:r}))}));function tD(e){return qO({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M432 400L96 64"}},{tag:"path",attr:{d:"M400 240v-31.55c0-8.61-6.62-16-15.23-16.43A16 16 0 00368 208v32a111.68 111.68 0 01-2.68 24.38 2 2 0 00.53 1.84l22.59 22.59a2 2 0 003.29-.72A143.27 143.27 0 00400 240zM256 352a112.36 112.36 0 01-112-112v-31.55c0-8.61-6.62-16-15.23-16.43A16 16 0 00112 208v32c0 74 56.1 135.12 128 143.11V432h-47.55c-8.61 0-16 6.62-16.43 15.23A16 16 0 00192 464h127.55c8.61 0 16-6.62 16.43-15.23A16 16 0 00320 432h-48v-48.89a143.08 143.08 0 0052-16.22 4 4 0 00.91-6.35l-18.4-18.39a3 3 0 00-3.41-.58A111 111 0 01256 352zm1.14-304a79.66 79.66 0 00-68.47 36.57 4 4 0 00.54 5L332.59 233a2 2 0 003.41-1.42V128.91C336 85 301 48.6 257.14 48z"}},{tag:"path",attr:{d:"M179.41 215a2 2 0 00-3.41 1.42V239a80.89 80.89 0 0023.45 56.9 78.55 78.55 0 0077.8 21.19 2 2 0 00.86-3.35z"}}]})(e)}function rD(e){return qO({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M192 448h128m64-240v32c0 70.4-57.6 128-128 128h0c-70.4 0-128-57.6-128-128v-32m128 160v80"}},{tag:"path",attr:{d:"M256 320a78.83 78.83 0 01-56.55-24.1A80.89 80.89 0 01176 239V128a79.69 79.69 0 0180-80c44.86 0 80 35.14 80 80v111c0 44.66-35.89 81-80 81z"}}]})(e)}function nD(e){return qO({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinejoin:"round",strokeWidth:"32",d:"M480 208H308L256 48l-52 160H32l140 96-54 160 138-100 138 100-54-160z"}}]})(e)}function aD(e){return qO({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M394 480a16 16 0 01-9.39-3L256 383.76 127.39 477a16 16 0 01-24.55-18.08L153 310.35 23 221.2a16 16 0 019-29.2h160.38l48.4-148.95a16 16 0 0130.44 0l48.4 149H480a16 16 0 019.05 29.2L359 310.35l50.13 148.53A16 16 0 01394 480z"}}]})(e)}function iD(e){return qO({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M336 179.52A67.52 67.52 0 00268.48 112h-79.2a4 4 0 00-2.82 6.83l142.71 142.71a4 4 0 006.83-2.82zM16 180v152a68 68 0 0068 68h184a67.66 67.66 0 0042.84-15.24 4 4 0 00.33-6L54.41 122a4 4 0 00-4.87-.62A68 68 0 0016 180zm448 204.39a32 32 0 01-13-2.77 15.77 15.77 0 01-2.71-1.54l-82.71-58.22A32 32 0 01352 295.7v-79.4a32 32 0 0113.58-26.16l82.71-58.22a15.77 15.77 0 012.71-1.54 32 32 0 0145 29.24v192.76a32 32 0 01-32 32z"}},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M416 416L80 80"}}]})(e)}function oD(e){return qO({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 384.39a32 32 0 01-13-2.77 15.77 15.77 0 01-2.71-1.54l-82.71-58.22A32 32 0 01352 295.7v-79.4a32 32 0 0113.58-26.16l82.71-58.22a15.77 15.77 0 012.71-1.54 32 32 0 0145 29.24v192.76a32 32 0 01-32 32zM268 400H84a68.07 68.07 0 01-68-68V180a68.07 68.07 0 0168-68h184.48A67.6 67.6 0 01336 179.52V332a68.07 68.07 0 01-68 68z"}}]})(e)}eD.displayName="Text";var sD=function(e){var t=e.roomConnection,r=e.spotLitIds,n=t.state.remoteParticipants,a=rt(JO(),2),i=a[0],o=a[1],s=o.width,c=o.height,u=rt((0,h.useState)({}),2),l=u[0],d=u[1],p=rt((0,h.useState)({}),2),f=p[0],m=p[1];return(0,h.useEffect)((function(){var e="repeat(3, 1fr)",t="1fr",r="100px",a="100px",o=n.length,u=.95;if(console.log("Number OF pArticipants is : "+o),1===o)r=a="".concat(c>s?s*u:c*u,"px"),console.log("one participant");else if(2===o)if(c>s)e="1fr",t="repeat(2, 1fr)",r=a="".concat(c/2*u,"px"),console.log("two participant : vertical "+e+"and "+t);else{e="repeat(2, 1fr)",t="1fr";var l=s/2;r=a="".concat(l<c?l*u:c*u,"px"),console.log("two participant : horiz "+e+"and "+t)}else if(3===o||4===o)if(c>s)e="repeat(2, 1fr)",t="repeat(2, 1fr)",r=a="".concat(c/2*u,"px"),console.log("three to four participant : square "+e+"and "+t);else if(3===o){var p=s/3,f=c/2;p<f?(e="repeat(2, 1fr)",t="repeat(2, 1fr)",r=a="".concat(f*u,"px"),console.log("three participant : square "+e+"and "+t)):(e="repeat(3, 1fr)",t="1fr",r=a="".concat(p<c?p*u:c*u,"px"),console.log("three participant : horiz "+e+"and "+t))}else{var h=s/4,v=c/2;h<v?(e="repeat(2, 1fr)",t="repeat(2, 1fr)",r=a="".concat(v*u,"px"),console.log("four participant : square "+e+"and "+t)):(e="repeat(4, 1fr)",t="1fr",r=a="".concat(h<c?h*u:c*u,"px"),console.log("four participant : horiz "+e+"and "+t))}else if(5===o||6===o)if(c>s)e="repeat(2, 1fr)",t="repeat(3, 1fr)",r=a="".concat(c/3*u,"px"),console.log("2 by 3 grid vertical");else{var g=s/3,y=c/2,b=c/3;g>b?(e="repeat(3, 1fr)",t="repeat(2, 1fr)",r=a="".concat(g>y?y*u:g*u,"px"),console.log("2 by 3 grid horizontal")):(e="repeat(2, 1fr)",t="repeat(3, 1fr)",r=a="".concat(b*u,"px"),console.log("2 by 3 grid vertical"))}else o>=6&&(c>s?(e="repeat(2, 1fr)",t="repeat(4, 1fr)",r=a="".concat(c/4*u,"px"),console.log("2 by 4 grid vertical")):s/4>c/4?(e="repeat(4, 1fr)",t="repeat(2, 1fr)",r=a="".concat(s/4>c/2?c/2*u:s/4*u,"px"),console.log("2 by 4 grid horizontal")):(e="repeat(2, 1fr)",t="repeat(4, 1fr)",r=a="".concat(s/4*u,"px"),console.log("2 by 4 grid vertical")));d({display:"grid",gridTemplateColumns:e,gridTemplateRows:t,gridGap:"1vw"}),m({width:r,height:a}),i.offsetHeight}),[s,c,n]),(0,Ge.jsx)("div",{className:"grid-container topbar-child-common",ref:i,children:(0,Ge.jsx)("div",{id:"allpeople-grid",style:l,children:n.map((function(e,t){return(0,Ge.jsxs)("div",{className:"grid-item",style:f,children:[(0,Ge.jsx)("div",{className:"other-div",children:(0,Ge.jsx)(yk,{borderColor:null!==r&&void 0!==r&&r.includes(e.id)?"yellow":"none",borderWidth:null!==r&&void 0!==r&&r.includes(e.id)?"5px":"0px",borderRadius:null!==r&&void 0!==r&&r.includes(e.id)?"50%":"0px",as:TT,stream:e.stream,w:"100%",h:"100%",objectFit:"cover"},e.id)}),(0,Ge.jsx)(yk,{position:"absolute",bottom:"5%",zIndex:"1",children:(0,Ge.jsx)(eD,{fontSize:"sm",color:"yellow",children:e.displayName})}),e.isAudioEnabled?null:(0,Ge.jsx)(wb,{as:tD,position:"absolute",zIndex:"1",color:"red.500",style:{opacity:.6},boxSize:"50%"})]},t)}))})})},cD=rt(nt({name:"AvatarStylesContext",hookName:"useAvatarStyles",providerName:"<Avatar/>"}),2),uD=cD[0],lD=cD[1],dD=["name","getInitials"];function pD(e){var t=rt(e.split(" "),2),r=t[0],n=t[1];return r&&n?"".concat(r.charAt(0)).concat(n.charAt(0)):r.charAt(0)}function fD(e){var t=e.name,r=e.getInitials,n=p(e,dD),a=lD();return(0,Ge.jsx)(ub.div,d(d({role:"img","aria-label":t},n),{},{__css:a.label,children:t?null==r?void 0:r(t):null}))}fD.displayName="AvatarName";var hD=function(e){return(0,Ge.jsxs)(ub.svg,d(d({viewBox:"0 0 128 128",color:"#fff",width:"100%",height:"100%",className:"chakra-avatar__svg"},e),{},{children:[(0,Ge.jsx)("path",{fill:"currentColor",d:"M103,102.1388 C93.094,111.92 79.3504,118 64.1638,118 C48.8056,118 34.9294,111.768 25,101.7892 L25,95.2 C25,86.8096 31.981,80 40.6,80 L87.4,80 C96.019,80 103,86.8096 103,95.2 L103,102.1388 Z"}),(0,Ge.jsx)("path",{fill:"currentColor",d:"M63.9961647,24 C51.2938136,24 41,34.2938136 41,46.9961647 C41,59.7061864 51.2938136,70 63.9961647,70 C76.6985159,70 87,59.7061864 87,46.9961647 C87,34.2938136 76.6985159,24 63.9961647,24"})]}))};function mD(e){var t=e.src,r=e.srcSet,n=e.onError,a=e.onLoad,i=e.getInitials,o=e.name,s=e.borderRadius,c=e.loading,u=e.iconLabel,l=e.icon,d=void 0===l?(0,Ge.jsx)(hD,{}):l,p=e.ignoreFallback,f=e.referrerPolicy,m=e.crossOrigin,v=function(e){var t=e.loading,r=e.src,n=e.srcSet,a=e.onLoad,i=e.onError,o=e.crossOrigin,s=e.sizes,c=e.ignoreFallback,u=rt((0,h.useState)("pending"),2),l=u[0],d=u[1];(0,h.useEffect)((function(){d(r?"loading":"pending")}),[r]);var p=(0,h.useRef)(),f=(0,h.useCallback)((function(){if(r){m();var e=new Image;e.src=r,o&&(e.crossOrigin=o),n&&(e.srcset=n),s&&(e.sizes=s),t&&(e.loading=t),e.onload=function(e){m(),d("loaded"),null==a||a(e)},e.onerror=function(e){m(),d("failed"),null==i||i(e)},p.current=e}}),[r,o,n,s,a,i,t]),m=function(){p.current&&(p.current.onload=null,p.current.onerror=null,p.current=null)};return Sn((function(){if(!c)return"loading"===l&&f(),function(){m()}}),[l,f,c]),c?"loaded":l}({src:t,onError:n,ignoreFallback:p});return!t||!("loaded"===v)?o?(0,Ge.jsx)(fD,{className:"chakra-avatar__initials",getInitials:i,name:o}):(0,h.cloneElement)(d,{role:"img","aria-label":u}):(0,Ge.jsx)(ub.img,{src:t,srcSet:r,alt:o,onLoad:a,referrerPolicy:f,crossOrigin:null!=m?m:void 0,className:"chakra-avatar__img",loading:c,__css:{width:"100%",height:"100%",objectFit:"cover",borderRadius:s}})}mD.displayName="AvatarImage";var vD=["src","srcSet","name","showBorder","borderRadius","onError","onLoad","getInitials","icon","iconLabel","loading","children","borderColor","ignoreFallback","crossOrigin"],gD={display:"inline-flex",alignItems:"center",justifyContent:"center",textAlign:"center",textTransform:"uppercase",fontWeight:"medium",position:"relative",flexShrink:0},yD=pb((function(e,t){var r=yb("Avatar",e),n=rt((0,h.useState)(!1),2),a=n[0],i=n[1],o=cn(e),s=o.src,c=o.srcSet,u=o.name,l=o.showBorder,f=o.borderRadius,m=void 0===f?"full":f,v=o.onError,g=o.onLoad,y=o.getInitials,b=void 0===y?pD:y,k=o.icon,w=void 0===k?(0,Ge.jsx)(hD,{}):k,_=o.iconLabel,S=void 0===_?" avatar":_,x=o.loading,C=o.children,P=o.borderColor,R=o.ignoreFallback,T=o.crossOrigin,E=p(o,vD),O=d(d({borderRadius:m,borderWidth:l?"2px":void 0},gD),r.container);return P&&(O.borderColor=P),(0,Ge.jsx)(ub.span,d(d({ref:t},E),{},{className:ht("chakra-avatar",e.className),"data-loaded":yt(a),__css:O,children:(0,Ge.jsxs)(uD,{value:r,children:[(0,Ge.jsx)(mD,{src:s,srcSet:c,loading:x,onLoad:kt(g,(function(){i(!0)})),onError:v,getInitials:b,name:u,borderRadius:m,icon:w,iconLabel:S,ignoreFallback:R,crossOrigin:T}),C]})}))}));yD.displayName="Avatar";var bD=["placement","className"],kD={"top-start":{top:"0",insetStart:"0",transform:"translate(-25%, -25%)"},"top-end":{top:"0",insetEnd:"0",transform:"translate(25%, -25%)"},"bottom-start":{bottom:"0",insetStart:"0",transform:"translate(-25%, 25%)"},"bottom-end":{bottom:"0",insetEnd:"0",transform:"translate(25%, 25%)"}},wD=pb((function(e,t){var r=e.placement,n=void 0===r?"bottom-end":r,a=e.className,i=p(e,bD),o=lD(),s=d(d({position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},kD[n]),o.badge);return(0,Ge.jsx)(ub.div,d(d({ref:t},i),{},{className:ht("chakra-avatar__badge",a),__css:s}))}));wD.displayName="AvatarBadge";var _D=function(e){var t=e.desktop,r=e.id,n=e.name,a=e.stream,i=e.inTheSpotlight,o=e.muted,s=e.showMuted,c=void 0!==s&&s,u=e.audioAllowed,l=void 0===u||u,d=e.videoAllowed,p=void 0===d||d,f=e.spotlit,m=void 0!==f&&f,v=e.changeAudioPermission,g=e.changeVideoPermission,y=e.changeSpotlightStatus,b=e.isMaster,k=void 0!==b&&b,w=(0,h.useMemo)((function(){return i?"blue.300":"transparent"}),[i]),_=(0,h.useRef)(null),S=rt((0,h.useState)({width:0,height:0}),2),x=S[0],C=S[1];return(0,h.useEffect)((function(){var e=function(){if(_.current){var e=_.current.getBoundingClientRect();console.log("dimen "+e.width+" "+e.height),C({width:e.width,height:e.height})}};return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),(0,Ge.jsx)(yk,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",margin:"2",width:"100%",height:"100%",children:(0,Ge.jsxs)(mk,{ref:_,height:"150px",width:"120px",position:"relative",alignItems:"center",justifyContent:"center",alignContent:"center",children:[(0,Ge.jsx)(yk,{width:"85px",height:"25px",position:"absolute",borderRadius:"10px",zIndex:"1",bottom:"-10px",background:"yellow",overflow:"hidden",children:(0,Ge.jsx)(eD,{margin:"1px",paddingLeft:"1px",children:n})}),(0,Ge.jsx)(ow,{h:t?x.height:x.width,w:t?x.height:x.width,borderRadius:"50%",borderColor:w,borderWidth:i?"10px":"0px",overflow:"hidden",children:a?(0,Ge.jsx)(yk,{as:TT,muted:o,stream:a,w:"100%",h:"100%",objectFit:"cover"},r):(0,Ge.jsx)(yD,{size:"xl",name:n,children:i&&(0,Ge.jsx)(wD,{boxSize:"1.25em",bg:"blue.300"})})}),c?(0,Ge.jsx)(wb,{as:tD,position:"absolute",zIndex:"1",color:"red.500",boxSize:"50%",style:{opacity:.6}}):null,k?(0,Ge.jsxs)(mk,{position:"absolute",zIndex:"1",top:"-10px",width:"120px",display:"flex",flexDirection:"row",gap:"2px",children:[(0,Ge.jsx)(FO,{colorScheme:p?"green":"red",size:"sm",mr:"2","aria-label":"Video",icon:p?(0,Ge.jsx)(oD,{}):(0,Ge.jsx)(iD,{}),onClick:function(){g(r,!p)}}),(0,Ge.jsx)(FO,{colorScheme:l?"green":"red",size:"sm",mr:"2","aria-label":"Audio",icon:l?(0,Ge.jsx)(rD,{}):(0,Ge.jsx)(tD,{}),onClick:function(){v(r,!l),console.log("clicked audio for "+r+"set to "+!l)}}),(0,Ge.jsx)(FO,{colorScheme:m?"blue":void 0,size:"sm",mr:"2","aria-label":"Spotlight",icon:m?(0,Ge.jsx)(aD,{}):(0,Ge.jsx)(nD,{}),onClick:function(){y(r,!m)}})]}):null]})})},SD={isTeacher:!1,videoNotAllowedIds:[],audioNotAllowedIds:[],spotLitIds:[],currentIframe:"https://example.com",AllAudioOff:!1};function xD(e,t){switch(t.type){case"AUDIOOFF":return console.log("string array: "+t.payload.length),d(d({},e),{},{audioNotAllowedIds:t.payload});case"VIDEOOFF":return d(d({},e),{},{videoNotAllowedIds:t.payload});case"SPOTLIT":return d(d({},e),{},{spotLitIds:t.payload});case"IFRAMEURL":return d(d({},e),{},{currentIframe:t.payload});case"ALLAUDIOON":return d(d({},e),{},{audioNotAllowedIds:[],AllAudioOff:!1});case"ALLAUDIOOFF":return d(d({},e),{},{AllAudioOff:!0});default:return console.log("Unknown command",t),e}}function CD(e){var t=e.roomUrl,r=e.displayName,n=e.isTeacher,a=rt(JO(),2),i=a[0],o=(a[1],rt(JO(),2)),s=o[0],c=o[1],u=rt((0,h.useState)({}),2),l=u[0],p=u[1],f=rt((0,h.useState)({}),2),m=(f[0],f[1]),v=rt((0,h.useState)(!1),2),g=(v[0],v[1],rt((0,h.useState)(0),2)),y=(g[0],g[1],function(){var e=rt((0,h.useState)({desktop:window.innerWidth>window.innerHeight}),2),t=e[0],r=e[1];return(0,h.useEffect)((function(){var e=function(){r({desktop:window.innerWidth>window.innerHeight})};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),t}().desktop),b=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{audio:!0,video:!0},r=rt((0,h.useState)((function(){return new ET(t)})),1)[0],n=rt((0,h.useReducer)(DT,OT),2),a=n[0],i=n[1];return(0,h.useEffect)((function(){return r.addEventListener("device_list_updated",(function(e){var t=e.detail,r=t.cameraDevices,n=t.microphoneDevices,a=t.speakerDevices;i({type:"DEVICE_LIST_UPDATED",payload:{cameraDevices:r,microphoneDevices:n,speakerDevices:a}})})),r.addEventListener("stream_updated",(function(e){var t=e.detail.stream;i({type:"LOCAL_STREAM_UPDATED",payload:{stream:t,currentCameraDeviceId:r.getCameraDeviceId(),currentMicrophoneDeviceId:r.getMicrophoneDeviceId()}})})),ix(e,void 0,void 0,lw().mark((function e(){return lw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i({type:"START"}),e.prev=1,e.next=4,r.start();case 4:i({type:"START_COMPLETE"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),i({type:"START_ERROR",payload:e.t0});case 10:case"end":return e.stop()}}),e,null,[[1,7]])}))),function(){r.stop()}}),[]),{state:a,actions:{setCameraDevice:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return ix(e,void 0,void 0,lw().mark((function e(){return lw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i({type:"SET_CAMERA_DEVICE"}),e.prev=1,e.next=4,r.setCameraDevice.apply(r,n);case 4:i({type:"SET_CAMERA_DEVICE_COMPLETE"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),i({type:"SET_CAMERA_DEVICE_ERROR",payload:e.t0});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))},setMicrophoneDevice:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return ix(e,void 0,void 0,lw().mark((function e(){return lw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i({type:"SET_MICROPHONE_DEVICE"}),e.prev=1,e.next=4,r.setMicrophoneDevice.apply(r,n);case 4:i({type:"SET_MICROPHONE_DEVICE_COMPLETE"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),i({type:"SET_MICROPHONE_DEVICE_ERROR",payload:e.t0});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))},toggleCameraEnabled:function(){return r.toggleCameraEnabled.apply(r,arguments)},toggleMicrophoneEnabled:function(){return r.toggleMichrophoneEnabled.apply(r,arguments)}},_ref:r}}({audio:!0,video:!0}),k=function(e,t){var r=(0,h.useState)((function(){var r;return new MO(e,Object.assign(Object.assign({},t),{localMedia:(null===(r=null===t||void 0===t?void 0:t.localMedia)||void 0===r?void 0:r._ref)||void 0}))})),n=rt(r,1)[0],a=rt((0,h.useReducer)(AO,jO),2),i=a[0],o=a[1];return(0,h.useEffect)((function(){return n.addEventListener("chat_message",(function(e){var t=e.detail;o({type:"CHAT_MESSAGE",payload:t})})),n.addEventListener("participant_audio_enabled",(function(e){var t=e.detail,r=t.participantId,n=t.isAudioEnabled;o({type:"PARTICIPANT_AUDIO_ENABLED",payload:{participantId:r,isAudioEnabled:n}})})),n.addEventListener("participant_joined",(function(e){var t=e.detail.remoteParticipant;o({type:"PARTICIPANT_JOINED",payload:{paritipant:t}})})),n.addEventListener("participant_left",(function(e){var t=e.detail.participantId;o({type:"PARTICIPANT_LEFT",payload:{participantId:t}})})),n.addEventListener("participant_stream_added",(function(e){var t=e.detail,r=t.participantId,n=t.stream;o({type:"PARTICIPANT_STREAM_ADDED",payload:{participantId:r,stream:n}})})),n.addEventListener("room_joined",(function(e){var t=e.detail,r=t.localParticipant,n=t.remoteParticipants;o({type:"ROOM_JOINED",payload:{localParticipant:r,remoteParticipants:n}})})),n.addEventListener("participant_video_enabled",(function(e){var t=e.detail,r=t.participantId,n=t.isVideoEnabled;o({type:"PARTICIPANT_VIDEO_ENABLED",payload:{participantId:r,isVideoEnabled:n}})})),n.addEventListener("participant_metadata_changed",(function(e){var t=e.detail,r=t.participantId,n=t.displayName;o({type:"PARTICIPANT_METADATA_CHANGED",payload:{participantId:r,displayName:n}})})),n.join(),function(){n.leave()}}),[]),{state:i,actions:{sendChatMessage:function(e){n.sendChatMessage(e)},setDisplayName:function(e){null===n||void 0===n||n.setDisplayName(e),o({type:"LOCAL_CLIENT_DISPLAY_NAME_CHANGED",payload:{displayName:e}})},toggleCamera:function(e){null===n||void 0===n||n.localMedia.toggleCameraEnabled(e)},toggleMicrophone:function(e){null===n||void 0===n||n.localMedia.toggleMichrophoneEnabled(e)}},components:{VideoView:TT},_ref:n}}(t,{localMedia:b,displayName:r,logger:console}),w=b.state.localStream,_=b.actions,S=_.toggleCameraEnabled,x=_.toggleMicrophoneEnabled,C=rt((0,h.useState)(!0),2),P=C[0],R=C[1],T=rt((0,h.useState)(!0),2),E=T[0],O=T[1],D=rt((0,h.useState)(!0),2),M=D[0],j=D[1],I=null===w||void 0===w?void 0:w.getVideoTracks()[0],A=null===w||void 0===w?void 0:w.getAudioTracks()[0];(0,h.useEffect)((function(){c.height>c.width?(p({height:"".concat(.95*c.width,"px"),width:"".concat(.95*c.width,"px")}),m({flexDirection:"column"})):(p({height:"".concat(.95*c.height,"px"),width:"".concat(.95*c.height,"px")}),m({flexDirection:"row"}))}),[c]);var L=function(){x(),A&&j(A.enabled)},N=k.state,F=N.remoteParticipants,B=N.localParticipant,z=rt((0,h.useState)([].concat(pt(F),[B])),2),U=z[0],V=z[1];(0,h.useEffect)((function(){var e=[].concat(pt(F),[B]);V(e)}),[F,B]);var W=function(e,t){var r=t.isTeacher,n=rt((0,h.useReducer)(xD,d(d({},SD),{},{isTeacher:r})),2),a=n[0],i=n[1],o=e.state,s=e.actions;return(0,h.useEffect)((function(){if(o.mostRecentChatMessage)try{var e=JSON.parse(o.mostRecentChatMessage.text);e.senderId=o.mostRecentChatMessage.senderId,console.log("got message + "+o.mostRecentChatMessage.text),i(e)}catch(t){console.log("Invalid command, ignoring")}}),[o.mostRecentChatMessage]),{state:a,actions:{disableAudio:function(e){a.isTeacher?(console.log("sending chat audio with "+e[0]),s.sendChatMessage(JSON.stringify({type:"AUDIOOFF",payload:e}))):console.warn("Not authorized to disable audios")},disableVideo:function(e){a.isTeacher?s.sendChatMessage(JSON.stringify({type:"VIDEOOFF",payload:e})):console.warn("Not authorized to disable videos")},muteAll:function(e){a.isTeacher?s.sendChatMessage(JSON.stringify({type:e?"ALLAUDIOOFF":"ALLAUDIOON"})):console.warn("Not authorized to mute all")},setSpotlight:function(e){a.isTeacher?s.sendChatMessage(JSON.stringify({type:"SPOTLIT",payload:e})):console.warn("Not authorized to set Spotlight")},setIframe:function(e){a.isTeacher?s.sendChatMessage(JSON.stringify({type:"IFRAMEURL",payload:e})):console.warn("Not authorized to set Iframe")}}}}(k,{isTeacher:n}),q=W.state,H=W.actions,$=q.videoNotAllowedIds,G=q.audioNotAllowedIds,K=q.spotLitIds,Y=q.currentIframe,Q=H.disableAudio,J=H.disableVideo,X=H.setSpotlight,Z=H.setIframe;H.muteAll;(0,h.useEffect)((function(){var e,t=!0;null===$||void 0===$||$.forEach((function(e){(null===B||void 0===B?void 0:B.id)===e&&(t=!1)})),!(e=t)&&null!==I&&void 0!==I&&I.enabled&&S(),R(e)}),[$]),(0,h.useEffect)((function(){var e,t=!0;null===G||void 0===G||G.forEach((function(e){(null===B||void 0===B?void 0:B.id)===e&&(t=!1)})),!(e=t)&&null!==A&&void 0!==A&&A.enabled&&(L(),console.log("i had audio on ... forced audio off")),console.log("audio permission status: "+e),O(e)}),[G]),(0,h.useEffect)((function(){}),[K]),(0,h.useEffect)((function(){}),[Y]);var ee=rt((0,h.useState)([]),2),te=ee[0],re=ee[1],ne=rt((0,h.useState)([]),2),ae=ne[0],ie=ne[1],oe=rt((0,h.useState)([]),2),se=oe[0],ce=oe[1],ue=function(e,t){re((function(r){var n=-1!==r.indexOf(e);return t?n?r.filter((function(t){return t!==e})):r:n?r:[].concat(pt(r),[e])}))},le=function(e,t){ie((function(r){var n=-1!==r.indexOf(e);return t?n?r.filter((function(t){return t!==e})):r:n?r:[].concat(pt(r),[e])}))},de=function(e,t){ce((function(r){var n=-1!==r.indexOf(e);return t?n?r:[].concat(pt(r),[e]):n?r.filter((function(t){return t!==e})):r}))};(0,h.useEffect)((function(){n&&J(te)}),[te]),(0,h.useEffect)((function(){n&&Q(ae)}),[ae]),(0,h.useEffect)((function(){n&&X(se)}),[se]);var pe=rt((0,h.useState)(""),2),fe=pe[0],he=pe[1];return(0,Ge.jsxs)(mk,{h:"100%",w:"100%",display:"flex",textAlign:"center",backgroundColor:"teal.800",children:[y?(0,Ge.jsxs)(mk,{flexDirection:"row",w:"100%",height:"98vh",gap:"10px",alignItems:"stretch",justifyContent:"flex-start",children:[(0,Ge.jsxs)(mk,{flexGrow:"0",background:"whiteAlpha.500",justifyContent:"space-between",alignContent:"center",alignItems:"center",width:"40%",height:"98%",flexDirection:"column",children:[(0,Ge.jsx)(mk,{justifyContent:"center",height:"50%",position:"relative",marginBottom:"100px",marginTop:"10px",paddingLeft:"5%",borderRadius:"1%",width:"100%",flexGrow:"1",children:(0,Ge.jsx)(yk,{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gridTemplateRows:"1fr 1fr 1fr",gap:"4",alignItems:"center",marginRight:"20px",children:U.map((function(e){if(!e)return null;var t=e.id,r=e.stream,a=e.displayName,i=e.isAudioEnabled;return(0,Ge.jsx)(_D,{muted:(null===B||void 0===B?void 0:B.id)===t,showMuted:!!B&&(B.id===t?!M:!i),id:t,stream:r,name:a,isMaster:n,inTheSpotlight:!!K&&K.includes(t),audioAllowed:n?!ae.includes(t):void 0,videoAllowed:n?!te.includes(t):void 0,spotlit:n?se.includes(t):void 0,changeAudioPermission:le,changeVideoPermission:ue,changeSpotlightStatus:de})}))})})," ",(0,Ge.jsx)(mk,{width:"95%",height:"50px",grow:"0",children:n?(0,Ge.jsxs)(Ck,{children:[(0,Ge.jsx)(Vk,{type:"text",placeholder:"Enter URL",value:fe,onChange:function(e){he(e.target.value)}}),(0,Ge.jsx)(Yk,{width:"4.5rem",children:(0,Ge.jsx)(nw,{h:"1.75rem",size:"sm",onClick:function(){n&&Z(fe)},children:"Send"})})]}):null})]})," ",(0,Ge.jsx)(mk,{height:"98%",width:"40%",grow:"1",children:(0,Ge.jsx)(XO,{currentUrl:Y})})]}):(0,Ge.jsxs)("div",{className:"mypage",children:[(0,Ge.jsxs)("div",{className:"topbar-container",children:[(0,Ge.jsx)(sD,{spotLitIds:K,roomConnection:k}),(0,Ge.jsx)("div",{className:"innerSpace topbar-child-common"}),(0,Ge.jsxs)("div",{ref:s,className:"self-container topbar-child-common",children:[(0,Ge.jsx)(yk,{borderWidth:K&&B&&K.includes(B.id)?"10px":"0px",borderRadius:K&&B&&K.includes(B.id)?"50%":"0px",borderColor:K&&B&&K.includes(B.id)?"yellow":"none",children:(0,Ge.jsx)("div",{ref:i,style:l,className:"self-div",children:w&&(0,Ge.jsx)(TT,{muted:!0,stream:w})})}),M?null:(0,Ge.jsx)(wb,{as:tD,position:"absolute",zIndex:"1",color:"red.500",boxSize:"50%",style:{opacity:.6}})]})]}),(0,Ge.jsx)("div",{className:"bottomPart",children:(0,Ge.jsx)(XO,{currentUrl:Y})})]}),(0,Ge.jsx)(ow,{children:w&&(0,Ge.jsx)(QO,{desktop:y,floating:!0,videoAllowed:P,audioAllowed:E,toggleCameraEnabled:S,toggleMicrophoneEnabled:L,localStream:w})})]})}var PD=["borders","breakpoints","colors","components","config","direction","fonts","fontSizes","fontWeights","letterSpacings","lineHeights","radii","shadows","sizes","space","styles","transition","zIndices"];function RD(e){return"function"===typeof e}function TD(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return t.reduce((function(e,t){return t(e)}),e)}}var ED=function(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a,i=[].concat(r),o=r[r.length-1];return mt(a=o)&&PD.every((function(e){return Object.prototype.hasOwnProperty.call(a,e)}))&&i.length>1?i=i.slice(0,i.length-1):o=e,TD.apply(void 0,pt(i.map((function(e){return function(t){return RD(e)?e(t):function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return wt.apply(void 0,[{}].concat(t,[DD]))}(t,e)}}))))(o)}},OD=ED(nd);ED(ad);function DD(e,t,r,n){if((RD(e)||RD(t))&&Object.prototype.hasOwnProperty.call(n,r))return function(){var r=RD(e)?e.apply(void 0,arguments):e,n=RD(t)?t.apply(void 0,arguments):t;return wt({},r,n,DD)}}var MD=OD(d({config:{initialColorMode:"light",useSystemColorMode:!1}},{fonts:{heading:"'Urbanist', sans-serif",body:"'Urbanist', sans-serif"},components:{Heading:{baseStyle:{fontWeight:800}}}})),jD=["className"],ID=pb((function(e,t){var r=gb("Heading",e),n=cn(e),a=(n.className,p(n,jD));return(0,Ge.jsx)(ub.h2,d(d({ref:t,className:ht("chakra-heading",e.className)},a),{},{__css:r}))}));ID.displayName="Heading";var AD=["className"],LD=pb((function(e,t){var r=gb("Code",e),n=cn(e),a=(n.className,p(n,AD));return(0,Ge.jsx)(ub.code,d(d({ref:t,className:ht("chakra-code",e.className)},a),{},{__css:d({display:"inline-block"},r)}))}));LD.displayName="Code";var ND=function(){return(0,Ge.jsxs)(yk,{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",margin:"auto auto",width:"100%",height:"100%",children:[(0,Ge.jsx)(ID,{mb:"4",children:"Missing game parameters"}),(0,Ge.jsxs)(eD,{mb:"2",children:["To play the quiz game, please provide a valid url to an"," ",(0,Ge.jsx)("strong",{children:"UNLOCKED"})," Whereby room created on the Embedded plan."]}),(0,Ge.jsxs)(LD,{children:[window.location.href,"?roomUrl=<whereby_room_url>"]}),(0,Ge.jsx)(eD,{mt:"4",mb:"2",children:"To join as the quiz master, please also include"}),(0,Ge.jsxs)(LD,{children:[window.location.href,"?roomUrl=<whereby_room_url>&quizMaster=true"]})]})},FD=new URLSearchParams(window.location.search),BD=FD.get("roomUrl")||null,zD=FD.get("fname")||"guest",UD=!!FD.get("quizMaster"),VD=document.getElementById("root");(0,o.s)(VD).render((0,Ge.jsx)(fk,{theme:MD,children:BD?(0,Ge.jsx)(CD,{isTeacher:UD,displayName:zD,roomUrl:BD}):(0,Ge.jsx)(ND,{})}))}()}();
//# sourceMappingURL=main.1d961b06.js.map